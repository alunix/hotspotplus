var _0x963a=['eEpsblM=','THdqd2o=','c3RyaW5naWZ5','c25manQ=','VXRucHc=','VHlE','ZnhLalM=','QldZcVc=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','bmJNU2I=','M3wxfDV8NHwyfDZ8MA==','cHVzaA==','ZnJvbURhdGU=','bGVuZ3Ro','ZG93bmxvYWQ=','dG9NQnl0ZQ==','dmFsdWU=','dG9GaXhlZA==','dXBsb2Fk','c2Vzc2lvblRpbWU=','c1dUWVI=','RFFHTWE=','aUhCVk4=','ZXhwb3J0cw==','YVdI','Rkps','WHJK','QGdldFRyYWZmaWNVc2FnZSBmcm9tIGVsYXN0aWM=','YWRkVXNhZ2VSZXBvcnQ=','eVBm','VGl4','UndR','a056YXQ=','SW5wUUE=','UFNXa1c=','UHJvbWlzZQ==','Q3VScG4=','VFFm','Z2V0U2Vzc2lvbnNSZXBvcnQ=','bWVtYmVySWQ=','UmtqZHI=','aHFBRXE=','Z2V0QnVzaW5lc3NVc2FnZVJlcG9ydA==','TEhZTXE=','b2VWd3k=','dnBzZ0Q=','R3drWXg=','R09OT2Y=','Wk5Zd3M=','a2ZDUEc=','QU9XVXU=','ZWNoQkg=','S05FYkM=','SE9VUl9NSUxMSVNFQ09ORFM=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','dGhlbg==','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','VURBYkQ=','dFJYRlQ=','UHRVRVA=','c2Vzc2lvblJlcG9ydHM=','c2Vzc2lvbklk','dkdJWlc=','eFJWZW4=','TWdpT2c=','ZGF0ZQ==','a2V5','VHVldk4=','Z1poc0Y=','dFNnU08=','cmVmcmVzaE1ldGFkYXRh','b09NR3c=','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','ZmFpbA==','eWZI','SGp1Zkk=','Z2V0U2Vzc2lvblVzYWdl','UXVH','Y2RZ','WWdC','bmNM','VGpKWmo=','Ulp0Rkg=','SURwSkM=','eWZ6Z3g=','ZU5xSG0=','Y3JlYXRpb25EYXRl','bWptU1c=','V3F3VUQ=','SGVsV2w=','eFpU','R2JadWc=','dUZNQWM=','Q0lBVHE=','cVZEQ1U=','YXBwbHk=','enVS','WXpy','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','RXdZ','Mnw0fDN8NXwxfDB8Ng==','dnlpS1Y=','cXpzZko=','U2xCc28=','T29xVEw=','QVB4TWI=','Q0FtVWo=','eXpMVXk=','TnlKWUY=','Y29uc29sZQ==','d3BmYno=','dXNhZ2UgYWRkZWQ6','YnBoVkc=','clhN','NHwxfDB8Mnw1fDZ8M3w4fDc=','c3BsaXQ=','d2Fybg==','bG9n','ZXhjZXB0aW9u','ZXJyb3I=','dHJhY2U=','c2VuZA==','QUNDT1VOVElOR19UT1BJQw==','VE5BU1Q=','ZGVidWc=','VWVNdVk=','clJMQWE=','aW5mbw==','Li4vLi4vc2VydmVyL3NlcnZlcg==','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvYWdncmVnYXRlcw==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmlnLmpz','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','dW5kZXJzY29yZQ==','ZW52','S0FGS0FfSVA=','S0FGS0FfUE9SVA==','UHJvZHVjZXI=','cmVhZHk=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','S01H','UHJvZHVjZXIgcmVhZHkuLi4=','U0ZBSWY=','Qm1BV04='];(function(_0x5f0a40,_0x24e07a){var _0x3be776=function(_0x21e352){while(--_0x21e352){_0x5f0a40['push'](_0x5f0a40['shift']());}};var _0x36b257=function(){var _0x347d23={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x16d760,_0x21088c,_0x5b7fca,_0x2767e2){_0x2767e2=_0x2767e2||{};var _0x4e69c2=_0x21088c+'='+_0x5b7fca;var _0x48f844=0x0;for(var _0x48f844=0x0,_0x1cdcc7=_0x16d760['length'];_0x48f844<_0x1cdcc7;_0x48f844++){var _0x459975=_0x16d760[_0x48f844];_0x4e69c2+=';\x20'+_0x459975;var _0x2201b5=_0x16d760[_0x459975];_0x16d760['push'](_0x2201b5);_0x1cdcc7=_0x16d760['length'];if(_0x2201b5!==!![]){_0x4e69c2+='='+_0x2201b5;}}_0x2767e2['cookie']=_0x4e69c2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2c5608,_0x534d48){_0x2c5608=_0x2c5608||function(_0x23d74e){return _0x23d74e;};var _0x535f94=_0x2c5608(new RegExp('(?:^|;\x20)'+_0x534d48['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x34eb89=function(_0x2997db,_0x5a81ab){_0x2997db(++_0x5a81ab);};_0x34eb89(_0x3be776,_0x24e07a);return _0x535f94?decodeURIComponent(_0x535f94[0x1]):undefined;}};var _0x3e1a49=function(){var _0x2bdd61=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2bdd61['test'](_0x347d23['removeCookie']['toString']());};_0x347d23['updateCookie']=_0x3e1a49;var _0x48a738='';var _0x4c6330=_0x347d23['updateCookie']();if(!_0x4c6330){_0x347d23['setCookie'](['*'],'counter',0x1);}else if(_0x4c6330){_0x48a738=_0x347d23['getCookie'](null,'counter');}else{_0x347d23['removeCookie']();}};_0x36b257();}(_0x963a,0x183));var _0xa963=function(_0x4f5e67,_0x163a00){_0x4f5e67=_0x4f5e67-0x0;var _0xa8e9dc=_0x963a[_0x4f5e67];if(_0xa963['initialized']===undefined){(function(){var _0x589126;try{var _0x5da506=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x589126=_0x5da506();}catch(_0x527227){_0x589126=window;}var _0x3899da='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x589126['atob']||(_0x589126['atob']=function(_0xdcb13e){var _0x5ca0a4=String(_0xdcb13e)['replace'](/=+$/,'');for(var _0x1bfd18=0x0,_0x1fc578,_0x2df5c0,_0x5e8186=0x0,_0xce933='';_0x2df5c0=_0x5ca0a4['charAt'](_0x5e8186++);~_0x2df5c0&&(_0x1fc578=_0x1bfd18%0x4?_0x1fc578*0x40+_0x2df5c0:_0x2df5c0,_0x1bfd18++%0x4)?_0xce933+=String['fromCharCode'](0xff&_0x1fc578>>(-0x2*_0x1bfd18&0x6)):0x0){_0x2df5c0=_0x3899da['indexOf'](_0x2df5c0);}return _0xce933;});}());_0xa963['base64DecodeUnicode']=function(_0x355040){var _0x46bd09=atob(_0x355040);var _0xdd03b0=[];for(var _0x1f0921=0x0,_0x197481=_0x46bd09['length'];_0x1f0921<_0x197481;_0x1f0921++){_0xdd03b0+='%'+('00'+_0x46bd09['charCodeAt'](_0x1f0921)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xdd03b0);};_0xa963['data']={};_0xa963['initialized']=!![];}var _0x2eadcd=_0xa963['data'][_0x4f5e67];if(_0x2eadcd===undefined){var _0x14522f=function(_0x32b71e){this['rc4Bytes']=_0x32b71e;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x14522f['prototype']['checkState']=function(){var _0x5156c4=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x5156c4['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x14522f['prototype']['runState']=function(_0x47daae){if(!Boolean(~_0x47daae)){return _0x47daae;}return this['getState'](this['rc4Bytes']);};_0x14522f['prototype']['getState']=function(_0x3c78a6){for(var _0x402c19=0x0,_0x16219d=this['states']['length'];_0x402c19<_0x16219d;_0x402c19++){this['states']['push'](Math['round'](Math['random']()));_0x16219d=this['states']['length'];}return _0x3c78a6(this['states'][0x0]);};new _0x14522f(_0xa963)['checkState']();_0xa8e9dc=_0xa963['base64DecodeUnicode'](_0xa8e9dc);_0xa963['data'][_0x4f5e67]=_0xa8e9dc;}else{_0xa8e9dc=_0x2eadcd;}return _0xa8e9dc;};var _0x211c36=function(){var _0x28d696=!![];return function(_0x460401,_0x310976){var _0x2e12dd=_0x28d696?function(){if(_0x310976){var _0x589f5f=_0x310976['apply'](_0x460401,arguments);_0x310976=null;return _0x589f5f;}}:function(){};_0x28d696=![];return _0x2e12dd;};}();var _0x102ac1=_0x211c36(this,function(){var _0x869f58=function(){return'\x64\x65\x76';},_0x12adaa=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x855472=function(){var _0x1ae054=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x1ae054['\x74\x65\x73\x74'](_0x869f58['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x52ae43=function(){var _0x515cb2=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x515cb2['\x74\x65\x73\x74'](_0x12adaa['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3bd5ab=function(_0x55e96c){var _0x3ea30f=~-0x1>>0x1+0xff%0x0;if(_0x55e96c['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3ea30f)){_0x46ca47(_0x55e96c);}};var _0x46ca47=function(_0x33f3e2){var _0x58ed0b=~-0x4>>0x1+0xff%0x0;if(_0x33f3e2['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x58ed0b){_0x3bd5ab(_0x33f3e2);}};if(!_0x855472()){if(!_0x52ae43()){_0x3bd5ab('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x3bd5ab('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x3bd5ab('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x102ac1();var _0x1588e8=function(){var _0x12157a=!![];return function(_0x2828a5,_0x48f183){var _0x5b6d19=_0x12157a?function(){if(_0x48f183){var _0x168ec6=_0x48f183[_0xa963('0x0')](_0x2828a5,arguments);_0x48f183=null;return _0x168ec6;}}:function(){};_0x12157a=![];return _0x5b6d19;};}();var _0x28642c=_0x1588e8(this,function(){var _0x179a3b={'wpfbz':'Failed\x20to\x20add\x20accounting\x20to\x20kafka:\x20','bphVG':function _0x247230(_0xc779d2,_0x328879){return _0xc779d2!==_0x328879;},'EMVAQ':_0xa963('0x1'),'UeMuY':function _0x25d8a0(_0x4d1bb3){return _0x4d1bb3();},'vyiKV':function _0x186869(_0x56c6c8,_0x4cb60e){return _0x56c6c8!==_0x4cb60e;},'qzsfJ':_0xa963('0x2'),'SlBso':function _0x4e7ba6(_0x53c5cf,_0x4ba6c5){return _0x53c5cf(_0x4ba6c5);},'OoqTL':function _0x927ee1(_0x67e845,_0xc8af5e){return _0x67e845+_0xc8af5e;},'IIpHQ':function _0x4b38e8(_0x10eb8a,_0x39f740){return _0x10eb8a+_0x39f740;},'APxMb':'return\x20(function()\x20','CAmUj':_0xa963('0x3'),'yzLUy':function _0x5ce5e2(_0x532164,_0x30067c){return _0x532164===_0x30067c;},'NyJYF':_0xa963('0x4'),'rRLAa':_0xa963('0x5')};if(_0x179a3b[_0xa963('0x6')](_0x179a3b['qzsfJ'],_0x179a3b[_0xa963('0x7')])){log['error'](_0x25c10d);return _0x2cf31a(_0x587253);}else{var _0x2d9e6f=function(){if('ozG'==='ozG'){}else{var _0x3a7779=fn[_0xa963('0x0')](_0x405d9c,_0x4cb92f);_0x282064=null;return _0x871ca8;}};var _0x2e8340;try{var _0x324306=_0x179a3b[_0xa963('0x8')](Function,_0x179a3b[_0xa963('0x9')](_0x179a3b['IIpHQ'](_0x179a3b[_0xa963('0xa')],_0x179a3b[_0xa963('0xb')]),');'));_0x2e8340=_0x324306();}catch(_0x1e2cbb){if(_0x179a3b[_0xa963('0xc')](_0x179a3b['NyJYF'],_0x179a3b[_0xa963('0xd')])){_0x2e8340=window;}else{_0xbbf5b5=_0x9522c6;}}if(!_0x2e8340['console']){_0x2e8340[_0xa963('0xe')]=function(_0x169d85){var _0x4d57f2={'TNAST':_0x179a3b[_0xa963('0xf')],'ALIpw':_0xa963('0x10')};if(_0x179a3b[_0xa963('0x11')](_0xa963('0x12'),_0x179a3b['EMVAQ'])){var _0xcd54c4=_0xa963('0x13')[_0xa963('0x14')]('|'),_0x1bb2dd=0x0;while(!![]){switch(_0xcd54c4[_0x1bb2dd++]){case'0':_0x4c24ba[_0xa963('0x15')]=_0x169d85;continue;case'1':_0x4c24ba[_0xa963('0x16')]=_0x169d85;continue;case'2':_0x4c24ba['debug']=_0x169d85;continue;case'3':_0x4c24ba[_0xa963('0x17')]=_0x169d85;continue;case'4':var _0x4c24ba={};continue;case'5':_0x4c24ba['info']=_0x169d85;continue;case'6':_0x4c24ba[_0xa963('0x18')]=_0x169d85;continue;case'7':return _0x4c24ba;continue;case'8':_0x4c24ba[_0xa963('0x19')]=_0x169d85;continue;}break;}}else{kafkaProducer[_0xa963('0x1a')]([{'_0x40bee5':config[_0xa963('0x1b')],'_0x9cf86d':JSON['stringify'](_0x51b1ef)}],function(_0x44b8c0,_0x1c5eaa){if(_0x50b380){log[_0xa963('0x18')](_0x4d57f2[_0xa963('0x1c')],_0x21acf9);return;}log[_0xa963('0x1d')](_0x4d57f2['ALIpw'],_0x2b27f3);});return _0x179a3b[_0xa963('0x1e')](_0x48e091);}}(_0x2d9e6f);}else{var _0x1b9508=_0x179a3b[_0xa963('0x1f')]['split']('|'),_0x2b5119=0x0;while(!![]){switch(_0x1b9508[_0x2b5119++]){case'0':_0x2e8340[_0xa963('0xe')][_0xa963('0x17')]=_0x2d9e6f;continue;case'1':_0x2e8340['console']['error']=_0x2d9e6f;continue;case'2':_0x2e8340[_0xa963('0xe')]['log']=_0x2d9e6f;continue;case'3':_0x2e8340['console']['debug']=_0x2d9e6f;continue;case'4':_0x2e8340[_0xa963('0xe')][_0xa963('0x15')]=_0x2d9e6f;continue;case'5':_0x2e8340[_0xa963('0xe')][_0xa963('0x20')]=_0x2d9e6f;continue;case'6':_0x2e8340[_0xa963('0xe')][_0xa963('0x19')]=_0x2d9e6f;continue;}break;}}}});_0x28642c();'use strict';var app=require(_0xa963('0x21'));var utility=require('../../server/modules/utility');var Q=require('q');var kafka=require(_0xa963('0x22'));var aggregate=require(_0xa963('0x23'));var config=require(_0xa963('0x24'));var logger=require(_0xa963('0x25'));var log=logger[_0xa963('0x26')]();var _=require(_0xa963('0x27'));var kafkaClient=new kafka['KafkaClient']({'kafkaHost':process[_0xa963('0x28')][_0xa963('0x29')]+':'+process[_0xa963('0x28')][_0xa963('0x2a')]});var kafkaProducer=new kafka[(_0xa963('0x2b'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0xa963('0x2c'),function(){var _0x55c918={'Lwjwj':_0xa963('0x2d'),'snfjt':_0xa963('0x2e'),'MCDOL':'usage\x20added:','Utnpw':function _0x1d6d8b(_0x51f972){return _0x51f972();},'gEHRm':function _0x3fac52(_0x273e92,_0xc764e9){return _0x273e92!==_0xc764e9;},'SFAIf':_0xa963('0x2f'),'BmAWN':'ZUG','xJlnS':_0xa963('0x30')};if(_0x55c918['gEHRm'](_0x55c918[_0xa963('0x31')],_0x55c918[_0xa963('0x32')])){log[_0xa963('0x15')](_0x55c918[_0xa963('0x33')]);kafkaClient['refreshMetadata']([config[_0xa963('0x1b')]],function(_0x778601){log[_0xa963('0x1d')](_0x55c918[_0xa963('0x34')],_0x778601);});}else{return Q['Promise'](function(_0x273722,_0x2e6a3f){kafkaProducer[_0xa963('0x1a')]([{'_0x3ff065':config['ACCOUNTING_TOPIC'],'_0x196faa':JSON[_0xa963('0x35')](_0x387d46)}],function(_0x586db5,_0x20e0e7){if(_0x454d6e){log[_0xa963('0x18')](_0x55c918[_0xa963('0x36')],_0x260372);return;}log['debug'](_0x55c918['MCDOL'],_0x1228a8);});return _0x55c918[_0xa963('0x37')](_0x400e93);});}});kafkaProducer['on'](_0xa963('0x18'),function(_0x3fe05b){var _0x5522d2={'fxKjS':_0xa963('0x38'),'BWYqW':'Wdb','nbMSb':function _0x260926(_0x3e437c,_0x23f429){return _0x3e437c<_0x23f429;},'sWTYR':function _0x66c4ee(_0x5c6abb,_0x4d80f8){return _0x5c6abb/_0x4d80f8;},'DQGMa':function _0x38e5d6(_0x5cffb4,_0x146266){return _0x5cffb4-_0x146266;},'iHBVN':function _0xd1caec(_0x1843ee,_0xa25c6b){return _0x1843ee(_0xa25c6b);}};if(_0x5522d2[_0xa963('0x39')]!==_0x5522d2[_0xa963('0x3a')]){log[_0xa963('0x18')](_0xa963('0x3b'),_0x3fe05b);}else{var _0x1a1578=[];for(var _0x3a5d49=0x0;_0x5522d2[_0xa963('0x3c')](_0x1cc2e7,tasksResult['length']);_0x1bc7a1++){var _0x41a318=_0xa963('0x3d')['split']('|'),_0x2736a6=0x0;while(!![]){switch(_0x41a318[_0x2736a6++]){case'0':report[_0xa963('0x3e')](_0x10e89b);continue;case'1':var _0x20299e=reportResult['sessionReports'];continue;case'2':var _0x955af1=ownersDictionary[reportSessionId];continue;case'3':var _0x427742=tasksResult[n];continue;case'4':var _0x3de90d=reportResult['sessionId'];continue;case'5':var _0x1d42e5=reportResult[_0xa963('0x3f')];continue;case'6':for(var _0x3460e8=0x0;_0x5522d2[_0xa963('0x3c')](_0xef429b,sessionReportList[_0xa963('0x40')]);_0x1ba6a1++){var _0x349c5e=sessionReportList[k];res[_0xa963('0x41')]=utility[_0xa963('0x42')](sessionReport[_0xa963('0x41')][_0xa963('0x43')])[_0xa963('0x44')](0x0);res[_0xa963('0x45')]=utility['toMByte'](sessionReport['upload'][_0xa963('0x43')])[_0xa963('0x44')](0x0);res[_0xa963('0x46')]=_0x5522d2[_0xa963('0x47')](_0x5522d2[_0xa963('0x48')](new _0x493dc5()['getTime'](),_0x12280),0xea60)[_0xa963('0x44')](0x0);}continue;}break;}}return _0x5522d2[_0xa963('0x49')](_0x1b573d,{'_0x5908bc':_0x42ac9f});}});module[_0xa963('0x4a')]=function(_0x3e91fe){var _0x379cdc={'YQtkg':function _0x13609a(_0x66fc1c,_0x128776){return _0x66fc1c===_0x128776;},'XlZjA':_0xa963('0x4b'),'LHYMq':function _0x5d741d(_0x3ad77f,_0x449f9e){return _0x3ad77f<_0x449f9e;},'oeVwy':_0xa963('0x4c'),'vpsgD':function _0x20b040(_0x15fdc8,_0x13fb6c){return _0x15fdc8/_0x13fb6c;},'GwkYx':function _0x4ae1a6(_0x266fc6,_0x56d101){return _0x266fc6-_0x56d101;},'GONOf':function _0x36e083(_0x432d54,_0x1d103d){return _0x432d54!==_0x1d103d;},'ZNYws':_0xa963('0x4d'),'kfCPG':'kjq','AOWUu':function _0x3fb742(_0x20197f,_0x273501){return _0x20197f+_0x273501;},'echBH':function _0x5b82de(_0x2f25d1,_0xdcf2b0){return _0x2f25d1(_0xdcf2b0);},'KNEbC':function _0x45e65b(_0x53c729,_0x258e56){return _0x53c729*_0x258e56;},'MumDY':_0xa963('0x4e')};_0x3e91fe[_0xa963('0x4f')]=function(_0x49dac8){var _0x1fd474={'CuRpn':function _0x3aad24(_0x7b2c4e,_0x20c1c7){return _0x7b2c4e===_0x20c1c7;},'Zvfpu':_0xa963('0x50'),'fbTuE':_0xa963('0x2e'),'SrxKw':_0xa963('0x2d'),'OfCuU':'KeU','MYzHo':function _0x477f79(_0x10ad67){return _0x10ad67();},'kNzat':function _0x347921(_0x39d3ba,_0x5402dc){return _0x39d3ba!==_0x5402dc;},'InpQA':_0xa963('0x51'),'PSWkW':_0xa963('0x52'),'hqAEq':function _0x47a62a(_0x146d2c,_0x51be03){return _0x146d2c(_0x51be03);}};if(_0x1fd474[_0xa963('0x53')](_0x1fd474[_0xa963('0x54')],_0x1fd474[_0xa963('0x55')])){return Q[_0xa963('0x56')](function(_0x390431,_0xc707e2){var _0x3ff3f7={'GnzTM':function _0x1ae683(_0x3b1b91,_0x33e715){return _0x1fd474[_0xa963('0x57')](_0x3b1b91,_0x33e715);},'Rkjdr':_0x1fd474['Zvfpu'],'qxPww':_0x1fd474['fbTuE'],'KgdEX':_0x1fd474['SrxKw']};if(_0x1fd474['CuRpn'](_0xa963('0x58'),_0x1fd474['OfCuU'])){var _0x535443=sessionList[i];var _0x43bf9d=singleSession['id'];ownersDictionary[sessionId]=_0x382fd3;sessionReportFunc[_0xa963('0x3e')](aggregate[_0xa963('0x59')](singleSession['creationDate'],singleSession[_0xa963('0x5a')],_0x4ba527));}else{kafkaProducer[_0xa963('0x1a')]([{'topic':config['ACCOUNTING_TOPIC'],'messages':JSON['stringify'](_0x49dac8)}],function(_0x231451,_0x4b9b6e){if(_0x231451){if(_0x3ff3f7['GnzTM'](_0x3ff3f7[_0xa963('0x5b')],_0x3ff3f7[_0xa963('0x5b')])){log['error'](_0x3ff3f7['qxPww'],_0x231451);return;}else{log['debug'](_0x3ff3f7['KgdEX'],_0x203063);}}log['debug']('usage\x20added:',_0x4b9b6e);});return _0x1fd474['MYzHo'](_0x390431);}});}else{log[_0xa963('0x18')](_0x51c81c);return _0x1fd474[_0xa963('0x5c')](_0x33515a,_0x3de6b6);}};_0x3e91fe[_0xa963('0x5d')]=function(_0x4e6eb9,_0x3e2ab8,_0x4e0410,_0x58a268,_0x17ff0f,_0x831aa5){return Q[_0xa963('0x56')](function(_0x4440eb,_0x4d22e4){var _0x241c0e={'rpTDA':function _0x5af0e1(_0x5abc80,_0x5589ab){return _0x379cdc['YQtkg'](_0x5abc80,_0x5589ab);},'UDAbD':function _0x3372c0(_0x49be52,_0x2a164d){return _0x49be52!==_0x2a164d;},'tRXFT':_0x379cdc['XlZjA'],'EoPSL':function _0x3f91d5(_0x216857,_0x1dd118){return _0x379cdc[_0xa963('0x5e')](_0x216857,_0x1dd118);},'PtUEP':_0x379cdc[_0xa963('0x5f')],'vGIZW':function _0x140fa3(_0x3109df,_0x1082a7){return _0x3109df<_0x1082a7;},'xRVen':function _0x283280(_0x2b4ce3,_0x15a7c0){return _0x379cdc[_0xa963('0x60')](_0x2b4ce3,_0x15a7c0);},'MgiOg':function _0x23ad1d(_0xb04e7c,_0x5ba6e2){return _0x379cdc[_0xa963('0x61')](_0xb04e7c,_0x5ba6e2);},'TuevN':function _0xa6d369(_0x2d8a24,_0x502d01){return _0x379cdc[_0xa963('0x62')](_0x2d8a24,_0x502d01);},'tnAlB':_0x379cdc[_0xa963('0x63')],'gZhsF':_0x379cdc[_0xa963('0x64')],'tSgSO':_0xa963('0x30'),'BUoXm':function _0x6e0d4c(_0x7385cc,_0x1345b5){return _0x379cdc[_0xa963('0x65')](_0x7385cc,_0x1345b5);},'ANtLe':function _0x3a7cf1(_0x57c60c,_0x12c5ec){return _0x379cdc[_0xa963('0x66')](_0x57c60c,_0x12c5ec);},'zkhjO':function _0x58803a(_0x14f1c2,_0x3f9cbe){return _0x14f1c2(_0x3f9cbe);}};_0x58a268=_0x379cdc[_0xa963('0x67')](-_0x58a268,config['AGGREGATE'][_0xa963('0x68')]);log['debug'](_0x379cdc['MumDY']);aggregate[_0xa963('0x69')](_0x4e0410,_0x4e6eb9,_0x3e2ab8)[_0xa963('0x6a')](function(_0x51d89e){if(_0x51d89e<config[_0xa963('0x6b')]){_0x51d89e=config[_0xa963('0x6b')];}aggregate['getMemberTrafficUsageReport'](_0x4e6eb9,_0x3e2ab8,_0x4e0410,_0x58a268,_0x17ff0f,_0x51d89e)[_0xa963('0x6a')](function(_0x1d95b8){var _0x48e2cb={'date':[],'download':[],'upload':[]};_0x831aa5=_0x831aa5||[];if(_0x241c0e['rpTDA'](_0x831aa5[_0xa963('0x40')],0x0)){if(_0x241c0e[_0xa963('0x6c')](_0x241c0e[_0xa963('0x6d')],_0x241c0e[_0xa963('0x6d')])){_0x30fa97=config[_0xa963('0x6b')];}else{for(var _0x28d089=0x0;_0x241c0e['EoPSL'](_0x28d089,_0x1d95b8[_0xa963('0x40')]);_0x28d089++){if(_0x241c0e['UDAbD'](_0x241c0e['PtUEP'],_0x241c0e[_0xa963('0x6e')])){var _0x47eb1a=tasksResult[n];var _0x121f04=reportResult[_0xa963('0x6f')];var _0x3f3c9b=reportResult[_0xa963('0x3f')];var _0x1d1b8a=reportResult[_0xa963('0x70')];var _0x357d89=ownersDictionary[reportSessionId];for(var _0x50ab4f=0x0;_0x241c0e[_0xa963('0x71')](_0x5395f6,sessionReportList[_0xa963('0x40')]);_0x3da95d++){var _0x4e0c5b=sessionReportList[k];res['download']=utility[_0xa963('0x42')](sessionReport['download'][_0xa963('0x43')])[_0xa963('0x44')](0x0);res[_0xa963('0x45')]=utility['toMByte'](sessionReport['upload'][_0xa963('0x43')])[_0xa963('0x44')](0x0);res['sessionTime']=_0x241c0e[_0xa963('0x72')](_0x241c0e[_0xa963('0x73')](new _0x30d317()['getTime'](),_0x3608bc),0xea60)[_0xa963('0x44')](0x0);}report[_0xa963('0x3e')](_0x7072c7);}else{_0x48e2cb[_0xa963('0x74')][_0x28d089]=_0x1d95b8[_0x28d089][_0xa963('0x75')];_0x48e2cb[_0xa963('0x41')][_0x28d089]=utility['toMByte'](_0x1d95b8[_0x28d089]['download'][_0xa963('0x43')])['toFixed'](0x0);_0x48e2cb[_0xa963('0x45')][_0x28d089]=utility['toMByte'](_0x1d95b8[_0x28d089]['upload']['value'])[_0xa963('0x44')](0x0);}}}}else{var _0x55a3eb=0x0;var _0x370322=0x0;for(var _0x411b7e in _0x831aa5){var _0x2dfa7f=0x0;var _0x3ecd80=0x0;_0x55a3eb+=_0x831aa5[_0x411b7e];for(_0x370322;_0x370322<_0x55a3eb;_0x370322++){var _0x28ab4={'oOMGw':'@refreshMetadata\x20Error:'};if(_0x241c0e[_0xa963('0x76')](_0x241c0e['tnAlB'],_0x241c0e[_0xa963('0x77')])){_0x2dfa7f+=_0x1d95b8[_0x370322][_0xa963('0x41')]['value'];_0x3ecd80+=_0x1d95b8[_0x370322]['upload'][_0xa963('0x43')];}else{log[_0xa963('0x15')](_0x241c0e[_0xa963('0x78')]);kafkaClient[_0xa963('0x79')]([config['ACCOUNTING_TOPIC']],function(_0x445a8f){log[_0xa963('0x1d')](_0x28ab4[_0xa963('0x7a')],_0x232d91);});}}_0x48e2cb[_0xa963('0x74')][_0x411b7e]=_0x1d95b8[_0x55a3eb]['key'];_0x48e2cb[_0xa963('0x41')][_0x411b7e]=utility[_0xa963('0x42')](_0x2dfa7f)['toFixed'](0x2);_0x48e2cb['upload'][_0x411b7e]=utility[_0xa963('0x42')](_0x3ecd80)[_0xa963('0x44')](0x2);}}log[_0xa963('0x1d')](_0x241c0e['BUoXm'](_0xa963('0x7b'),JSON[_0xa963('0x35')](_0x48e2cb)));return _0x241c0e['ANtLe'](_0x4440eb,_0x48e2cb);})['fail'](function(_0x499252){log[_0xa963('0x18')](_0x499252);return _0x241c0e['zkhjO'](_0x4d22e4,_0x499252);});})[_0xa963('0x7c')](function(_0x531c90){var _0x14ca21={'oFSbd':_0xa963('0x7d'),'HjufI':function _0x114bc3(_0x3962b0,_0x6e53eb){return _0x3962b0(_0x6e53eb);},'XGhxS':function _0x5dcc71(_0x69e481,_0x5e2fb5){return _0x69e481<_0x5e2fb5;}};if('yfH'===_0x14ca21['oFSbd']){log['error'](_0x531c90);return _0x14ca21[_0xa963('0x7e')](_0x4d22e4,_0x531c90);}else{var _0x2f93d8=0x0;var _0x295b81=0x0;for(var _0x55cc57 in _0x55966c){var _0x32a0ca='4|0|1|6|5|3|2'[_0xa963('0x14')]('|'),_0x54baa4=0x0;while(!![]){switch(_0x32a0ca[_0x54baa4++]){case'0':var _0x531ac9=0x0;continue;case'1':_0x5426c1+=_0x831aa5[month];continue;case'2':response[_0xa963('0x45')][month]=utility[_0xa963('0x42')](_0x5abcd6)[_0xa963('0x44')](0x2);continue;case'3':response[_0xa963('0x41')][month]=utility[_0xa963('0x42')](_0x1c955a)[_0xa963('0x44')](0x2);continue;case'4':var _0x2ff6db=0x0;continue;case'5':response['date'][month]=memberResult[days][_0xa963('0x75')];continue;case'6':for(_0xfadd8;_0x14ca21['XGhxS'](_0x1b47ce,_0x47e1f5);_0x3fa6f7++){_0x1c297a+=memberResult[daysCounter][_0xa963('0x41')]['value'];_0x2ab292+=memberResult[daysCounter][_0xa963('0x45')][_0xa963('0x43')];}continue;}break;}}}});});};_0x3e91fe[_0xa963('0x7f')]=function(_0x1265fa){return Q[_0xa963('0x56')](function(_0x3b17c4,_0x5246b8){var _0x4993de={'WqwUD':function _0x1ab460(_0x8d29e1,_0x133698){return _0x8d29e1!==_0x133698;},'HelWl':'xZT','GbZug':function _0x52968b(_0x26ca79,_0x2b3ac8){return _0x26ca79(_0x2b3ac8);},'IDpJC':function _0x182d60(_0x461048,_0x1b548a){return _0x461048<_0x1b548a;},'wEvbo':function _0x43290a(_0x5bd1fe,_0x13ad59){return _0x5bd1fe/_0x13ad59;},'uFMAc':function _0x3781f1(_0x454fe5,_0x3cde3f){return _0x454fe5-_0x3cde3f;},'CIATq':function _0x1672f3(_0x2fc879,_0x371212){return _0x2fc879(_0x371212);},'yfzgx':function _0x2a8d58(_0x2d50da,_0x77d247){return _0x2d50da===_0x77d247;},'qVDCU':_0xa963('0x80'),'TjJZj':_0xa963('0x81'),'RZtFH':_0xa963('0x82'),'eNqHm':_0xa963('0x83'),'mjmSW':function _0xb66a9c(_0x561d88,_0x302262){return _0x561d88<_0x302262;}};if(_0x4993de[_0xa963('0x84')]===_0x4993de[_0xa963('0x85')]){}else{var _0x34cbee=[];var _0x3fb399={};for(var _0x3bb249=0x0;_0x4993de[_0xa963('0x86')](_0x3bb249,_0x1265fa[_0xa963('0x40')]);_0x3bb249++){if(_0x4993de[_0xa963('0x87')](_0x4993de[_0xa963('0x88')],_0x4993de['eNqHm'])){var _0x45941e=_0x1265fa[_0x3bb249];var _0xc3598f=_0x45941e['id'];_0x3fb399[_0xc3598f]=_0x45941e;_0x34cbee[_0xa963('0x3e')](aggregate[_0xa963('0x59')](_0x45941e[_0xa963('0x89')],_0x45941e[_0xa963('0x5a')],_0xc3598f));}else{for(var _0x3215cf=0x0;_0x4993de[_0xa963('0x8a')](_0x5886f8,memberResult[_0xa963('0x40')]);_0x496061++){response['date'][_0x3bb249]=memberResult[_0x3bb249][_0xa963('0x75')];response[_0xa963('0x41')][_0x3bb249]=utility['toMByte'](memberResult[_0x3bb249]['download']['value'])['toFixed'](0x0);response[_0xa963('0x45')][_0x3bb249]=utility['toMByte'](memberResult[_0x3bb249][_0xa963('0x45')][_0xa963('0x43')])[_0xa963('0x44')](0x0);}}}Q['all'](_0x34cbee)[_0xa963('0x6a')](function(_0x41d95a){if(_0x4993de[_0xa963('0x8b')](_0x4993de[_0xa963('0x8c')],_0xa963('0x8d'))){log['error'](_0x184e7f);return _0x4993de[_0xa963('0x8e')](_0xa983c3,_0x40637f);}else{var _0x57e2aa=[];for(var _0x27440f=0x0;_0x4993de[_0xa963('0x86')](_0x27440f,_0x41d95a[_0xa963('0x40')]);_0x27440f++){var _0x3ff498=_0x41d95a[_0x27440f];var _0x46978a=_0x3ff498['sessionReports'];var _0x1ee3f6=_0x3ff498[_0xa963('0x3f')];var _0x18d946=_0x3ff498['sessionId'];var _0x5085ca=_0x3fb399[_0x18d946];for(var _0x13886b=0x0;_0x4993de[_0xa963('0x86')](_0x13886b,_0x46978a[_0xa963('0x40')]);_0x13886b++){var _0x38675e=_0x46978a[_0x13886b];_0x5085ca[_0xa963('0x41')]=utility[_0xa963('0x42')](_0x38675e[_0xa963('0x41')][_0xa963('0x43')])[_0xa963('0x44')](0x0);_0x5085ca[_0xa963('0x45')]=utility[_0xa963('0x42')](_0x38675e[_0xa963('0x45')][_0xa963('0x43')])[_0xa963('0x44')](0x0);_0x5085ca[_0xa963('0x46')]=_0x4993de['wEvbo'](_0x4993de[_0xa963('0x8f')](new Date()['getTime'](),_0x1ee3f6),0xea60)[_0xa963('0x44')](0x0);}_0x57e2aa[_0xa963('0x3e')](_0x5085ca);}return _0x4993de[_0xa963('0x90')](_0x3b17c4,{'data':_0x57e2aa});}})[_0xa963('0x7c')](function(_0x2a022d){if(_0x4993de['yfzgx'](_0x4993de['qVDCU'],_0x4993de[_0xa963('0x91')])){log['error'](_0x2a022d);return _0x5246b8(_0x2a022d);}else{response[_0xa963('0x74')][_0x3bb249]=memberResult[_0x3bb249][_0xa963('0x75')];response[_0xa963('0x41')][_0x3bb249]=utility['toMByte'](memberResult[_0x3bb249][_0xa963('0x41')][_0xa963('0x43')])['toFixed'](0x0);response['upload'][_0x3bb249]=utility[_0xa963('0x42')](memberResult[_0x3bb249][_0xa963('0x45')][_0xa963('0x43')])[_0xa963('0x44')](0x0);}});}});};};