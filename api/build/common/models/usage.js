var _0x1554=['a1p2THc=','bGVuZ3Ro','ZklyWXA=','a2V5','ZG93bmxvYWQ=','dGprc1M=','UFho','Mnw2fDB8NHwxfDV8Mw==','c2Vzc2lvblRpbWU=','bG53Yk4=','Z2V0VGltZQ==','NHwzfDd8NXwwfDJ8Nnw4fDE=','ZnJvbURhdGU=','bk9PR0k=','c2Vzc2lvbklk','c2Vzc2lvblJlcG9ydHM=','Z2V0U2Vzc2lvblVzYWdl','RWRzRVA=','eGhDWVU=','dXRL','Q1JPTUo=','dW16ZUg=','a1RST0I=','ak9nY2o=','d3JRem4=','eGNNcEk=','VHpCREY=','YWxs','d3Blam0=','dk1TWG4=','UHJvZHVjZXIgcmVhZHkuLi4=','c2VwT0s=','QVd1SlM=','clVZT0Y=','b2lP','b1BsTnI=','dVZqaEo=','dVpJYkU=','dXNhZ2UgYWRkZWQ6','dnhz','VmNG','aFNOQlM=','ZXF5SUw=','YXBwbHk=','T1JPUGk=','V2RV','c2VuZA==','QUNDT1VOVElOR19UT1BJQw==','ZXJyb3I=','ZGVidWc=','cVdFTUU=','SEtkYWM=','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','bmNt','QWZj','M3wxfDJ8Nnw1fDR8MA==','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','RUFORlM=','ZWdiQWI=','SE5HcWo=','T21xYmw=','ZVRRSGM=','U2FkbXM=','SUNEb2g=','VEl1aFY=','d1V4SEQ=','Y29uc29sZQ==','bG9n','aW5mbw==','dHJhY2U=','bUFxeUg=','U0JXc3Q=','TnFqU0k=','c3BsaXQ=','ZXhjZXB0aW9u','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvYWdncmVnYXRlcw==','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','dW5kZXJzY29yZQ==','S2Fma2FDbGllbnQ=','ZW52','S0FGS0FfUE9SVA==','UHJvZHVjZXI=','cmVhZHk=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','TW9O','Nnw1fDR8M3wxfDJ8MA==','TlNS','dk14Q0w=','eUZjUEs=','d2Fybg==','RE93VVM=','cmVmcmVzaE1ldGFkYXRh','ZElpc0M=','VHpNbmE=','cW1u','YWRkVXNhZ2VSZXBvcnQ=','S0xy','MXw0fDZ8MnwzfDV8MA==','Vm5Q','UklG','WWlxUkU=','Z2V0QnVzaW5lc3NEYWlseVVzYWdlUmVwb3J0','dGhlbg==','ZmFpbA==','aXNNb25nb0RiU3RvcmFnZQ==','bVVHcFA=','SldTTFY=','S3FzeEM=','Y3JlYXRl','c3RyaW5naWZ5','bXdBd20=','dXBsb2Fk','dG9GaXhlZA==','eFNnQWc=','dmFsdWU=','ZGF0ZQ==','dG9NQnl0ZQ==','R3d3YWU=','Z2V0QnVzaW5lc3NVc2FnZVJlcG9ydA==','UHJvbWlzZQ==','dFdU','b2Jh','RmtC','dGNW','NHw1fDB8MnwzfDF8Ng==','dGRL','VUxTRWE=','Q2pwa0Q=','b3FZSEQ=','cHVzaA==','Y3JlYXRpb25EYXRl','bWVtYmVySWQ=','QkVu','SXZRS0w=','QUdHUkVHQVRF','SE9VUl9NSUxMSVNFQ09ORFM=','QGdldFRyYWZmaWNVc2FnZSBmcm9tIGVsYXN0aWM=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','U0F4WXI=','aUlrWXA=','S3NwWUI=','eXhuY1U=','cU1NZ2Y=','TUVxVHI=','c3dYeGo=','Z2V0TWVtYmVyVHJhZmZpY1VzYWdlUmVwb3J0','dmxwQlg=','cUhQ','QXlkUk8=','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','bmtEaVU='];(function(_0x563188,_0x157c4d){var _0x211dde=function(_0x175b4b){while(--_0x175b4b){_0x563188['push'](_0x563188['shift']());}};var _0x55314e=function(){var _0x10dc4d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2f37d5,_0x396bdd,_0xf8cc7a,_0x28a36a){_0x28a36a=_0x28a36a||{};var _0x3e6cdb=_0x396bdd+'='+_0xf8cc7a;var _0x21f4d7=0x0;for(var _0x21f4d7=0x0,_0x3e5311=_0x2f37d5['length'];_0x21f4d7<_0x3e5311;_0x21f4d7++){var _0x5b024f=_0x2f37d5[_0x21f4d7];_0x3e6cdb+=';\x20'+_0x5b024f;var _0x54d31d=_0x2f37d5[_0x5b024f];_0x2f37d5['push'](_0x54d31d);_0x3e5311=_0x2f37d5['length'];if(_0x54d31d!==!![]){_0x3e6cdb+='='+_0x54d31d;}}_0x28a36a['cookie']=_0x3e6cdb;},'removeCookie':function(){return'dev';},'getCookie':function(_0x188315,_0x4c9b23){_0x188315=_0x188315||function(_0x1f0e2f){return _0x1f0e2f;};var _0x106873=_0x188315(new RegExp('(?:^|;\x20)'+_0x4c9b23['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x8ffbad=function(_0x2b943d,_0x5e8cf5){_0x2b943d(++_0x5e8cf5);};_0x8ffbad(_0x211dde,_0x157c4d);return _0x106873?decodeURIComponent(_0x106873[0x1]):undefined;}};var _0x2f34c9=function(){var _0x3bf392=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3bf392['test'](_0x10dc4d['removeCookie']['toString']());};_0x10dc4d['updateCookie']=_0x2f34c9;var _0x167fc5='';var _0x1aab7e=_0x10dc4d['updateCookie']();if(!_0x1aab7e){_0x10dc4d['setCookie'](['*'],'counter',0x1);}else if(_0x1aab7e){_0x167fc5=_0x10dc4d['getCookie'](null,'counter');}else{_0x10dc4d['removeCookie']();}};_0x55314e();}(_0x1554,0xc2));var _0x4155=function(_0x283e78,_0x5bfdf1){_0x283e78=_0x283e78-0x0;var _0x1fdcfd=_0x1554[_0x283e78];if(_0x4155['initialized']===undefined){(function(){var _0x480e2c;try{var _0x118181=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x480e2c=_0x118181();}catch(_0x480f62){_0x480e2c=window;}var _0xc647a='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x480e2c['atob']||(_0x480e2c['atob']=function(_0x535b54){var _0x341256=String(_0x535b54)['replace'](/=+$/,'');for(var _0x3bc06c=0x0,_0x1eb5cf,_0x10b9cc,_0x4f2f11=0x0,_0x525f4a='';_0x10b9cc=_0x341256['charAt'](_0x4f2f11++);~_0x10b9cc&&(_0x1eb5cf=_0x3bc06c%0x4?_0x1eb5cf*0x40+_0x10b9cc:_0x10b9cc,_0x3bc06c++%0x4)?_0x525f4a+=String['fromCharCode'](0xff&_0x1eb5cf>>(-0x2*_0x3bc06c&0x6)):0x0){_0x10b9cc=_0xc647a['indexOf'](_0x10b9cc);}return _0x525f4a;});}());_0x4155['base64DecodeUnicode']=function(_0x5268be){var _0x4ae0bb=atob(_0x5268be);var _0x5873f4=[];for(var _0xd27bba=0x0,_0x2a25a2=_0x4ae0bb['length'];_0xd27bba<_0x2a25a2;_0xd27bba++){_0x5873f4+='%'+('00'+_0x4ae0bb['charCodeAt'](_0xd27bba)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5873f4);};_0x4155['data']={};_0x4155['initialized']=!![];}var _0x47378f=_0x4155['data'][_0x283e78];if(_0x47378f===undefined){var _0xe6f584=function(_0x2e14a1){this['rc4Bytes']=_0x2e14a1;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xe6f584['prototype']['checkState']=function(){var _0x579352=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x579352['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0xe6f584['prototype']['runState']=function(_0x4adfa8){if(!Boolean(~_0x4adfa8)){return _0x4adfa8;}return this['getState'](this['rc4Bytes']);};_0xe6f584['prototype']['getState']=function(_0x11209e){for(var _0x53c16c=0x0,_0x3810c5=this['states']['length'];_0x53c16c<_0x3810c5;_0x53c16c++){this['states']['push'](Math['round'](Math['random']()));_0x3810c5=this['states']['length'];}return _0x11209e(this['states'][0x0]);};new _0xe6f584(_0x4155)['checkState']();_0x1fdcfd=_0x4155['base64DecodeUnicode'](_0x1fdcfd);_0x4155['data'][_0x283e78]=_0x1fdcfd;}else{_0x1fdcfd=_0x47378f;}return _0x1fdcfd;};var _0x50df74=function(){var _0x22b36d=!![];return function(_0x2cb02c,_0x3de5c1){var _0x4c3f25=_0x22b36d?function(){if(_0x3de5c1){var _0x2746c6=_0x3de5c1['apply'](_0x2cb02c,arguments);_0x3de5c1=null;return _0x2746c6;}}:function(){};_0x22b36d=![];return _0x4c3f25;};}();var _0x5dc7d0=_0x50df74(this,function(){var _0x2abcb4=function(){return'\x64\x65\x76';},_0x572749=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x47e82b=function(){var _0x1d2797=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x1d2797['\x74\x65\x73\x74'](_0x2abcb4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1a5536=function(){var _0x335183=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x335183['\x74\x65\x73\x74'](_0x572749['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5c5004=function(_0xa0e268){var _0x4c6631=~-0x1>>0x1+0xff%0x0;if(_0xa0e268['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x4c6631)){_0x4f41dd(_0xa0e268);}};var _0x4f41dd=function(_0x2bc94b){var _0x1a4e51=~-0x4>>0x1+0xff%0x0;if(_0x2bc94b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1a4e51){_0x5c5004(_0x2bc94b);}};if(!_0x47e82b()){if(!_0x1a5536()){_0x5c5004('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5c5004('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5c5004('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x5dc7d0();var _0x58854d=function(){var _0xeeecaa=!![];return function(_0x38b720,_0x2537f4){var _0x405908={'qWEME':_0x4155('0x0'),'OROPi':'uAX','HKdac':function _0x23fe6b(_0x39ca5c){return _0x39ca5c();},'hSNBS':_0x4155('0x1'),'eqyIL':_0x4155('0x2')};if(_0x405908[_0x4155('0x3')]!==_0x405908[_0x4155('0x4')]){var _0x265195=_0xeeecaa?function(){if(_0x2537f4){var _0x2d9089=_0x2537f4[_0x4155('0x5')](_0x38b720,arguments);_0x2537f4=null;return _0x2d9089;}}:function(){if(_0x405908[_0x4155('0x6')]!==_0x4155('0x7')){}else{kafkaProducer[_0x4155('0x8')]([{'_0x5e7676':config[_0x4155('0x9')],'_0x538a0b':JSON['stringify'](_0x2d1d0f)}],function(_0x26c5f5,_0x15254e){if(_0x3f2714){log[_0x4155('0xa')]('Failed\x20to\x20add\x20accounting\x20to\x20kafka:\x20',_0x2f3077);return;}log[_0x4155('0xb')](_0x405908[_0x4155('0xc')],_0x19964b);});return _0x405908[_0x4155('0xd')](_0xc0acb7);}};_0xeeecaa=![];return _0x265195;}else{_0x19c1a6=config[_0x4155('0xe')];}};}();var _0x294c99=_0x58854d(this,function(){var _0x4c0422={'eTQHc':function _0x17a080(_0x5b710f,_0x29b35e){return _0x5b710f(_0x29b35e);},'Sadms':function _0x1beb50(_0x386519,_0x34458f){return _0x386519+_0x34458f;},'ICDoh':_0x4155('0xf'),'TIuhV':_0x4155('0x10'),'wUxHD':function _0x58b664(_0x298693){return _0x298693();},'mAqyH':function _0x2472bc(_0x342a3f,_0x2672bf){return _0x342a3f===_0x2672bf;},'SBWst':_0x4155('0x11'),'NqjSI':_0x4155('0x12'),'RLOmh':_0x4155('0x13')};var _0x135257=function(){var _0x1956a3={'EANFS':function _0x44c182(_0xf140f5,_0x3dd92c){return _0xf140f5!==_0x3dd92c;},'egbAb':'exf','HNGqj':_0x4155('0x14'),'Omqbl':_0x4155('0x0')};if(_0x1956a3[_0x4155('0x15')](_0x1956a3[_0x4155('0x16')],_0x1956a3[_0x4155('0x16')])){if(_0x506ec7){log[_0x4155('0xa')](_0x1956a3[_0x4155('0x17')],_0x1ce420);return;}log[_0x4155('0xb')](_0x1956a3[_0x4155('0x18')],_0x1a29ff);}else{}};var _0x2c4b8c;try{var _0x4512a7=_0x4c0422[_0x4155('0x19')](Function,_0x4c0422[_0x4155('0x1a')](_0x4c0422['Sadms'](_0x4c0422[_0x4155('0x1b')],_0x4c0422[_0x4155('0x1c')]),');'));_0x2c4b8c=_0x4c0422[_0x4155('0x1d')](_0x4512a7);}catch(_0x2b9cb9){_0x2c4b8c=window;}if(!_0x2c4b8c[_0x4155('0x1e')]){_0x2c4b8c['console']=function(_0x29e61f){var _0x3f4d5c={};_0x3f4d5c[_0x4155('0x1f')]=_0x29e61f;_0x3f4d5c['warn']=_0x29e61f;_0x3f4d5c['debug']=_0x29e61f;_0x3f4d5c[_0x4155('0x20')]=_0x29e61f;_0x3f4d5c['error']=_0x29e61f;_0x3f4d5c['exception']=_0x29e61f;_0x3f4d5c[_0x4155('0x21')]=_0x29e61f;return _0x3f4d5c;}(_0x135257);}else{if(_0x4c0422[_0x4155('0x22')](_0x4c0422[_0x4155('0x23')],_0x4c0422[_0x4155('0x24')])){return _0x4c0422[_0x4155('0x19')](_0x45a49a,_0x103321);}else{var _0x43423c=_0x4c0422['RLOmh'][_0x4155('0x25')]('|'),_0x4f0599=0x0;while(!![]){switch(_0x43423c[_0x4f0599++]){case'0':_0x2c4b8c[_0x4155('0x1e')]['trace']=_0x135257;continue;case'1':_0x2c4b8c[_0x4155('0x1e')]['warn']=_0x135257;continue;case'2':_0x2c4b8c['console'][_0x4155('0xb')]=_0x135257;continue;case'3':_0x2c4b8c[_0x4155('0x1e')][_0x4155('0x1f')]=_0x135257;continue;case'4':_0x2c4b8c['console'][_0x4155('0x26')]=_0x135257;continue;case'5':_0x2c4b8c[_0x4155('0x1e')][_0x4155('0xa')]=_0x135257;continue;case'6':_0x2c4b8c['console'][_0x4155('0x20')]=_0x135257;continue;}break;}}}});_0x294c99();'use strict';var app=require('../../server/server');var utility=require(_0x4155('0x27'));var Q=require('q');var kafka=require(_0x4155('0x28'));var aggregate=require(_0x4155('0x29'));var config=require('../../server/modules/config.js');var logger=require(_0x4155('0x2a'));var log=logger[_0x4155('0x2b')]();var _=require(_0x4155('0x2c'));var kafkaClient=new kafka[(_0x4155('0x2d'))]({'kafkaHost':process['env']['KAFKA_IP']+':'+process[_0x4155('0x2e')][_0x4155('0x2f')]});var kafkaProducer=new kafka[(_0x4155('0x30'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0x4155('0x31'),function(){var _0x51b4b9={'dIisC':_0x4155('0x32'),'vMxCL':_0x4155('0x33'),'yFcPK':_0x4155('0x34'),'DOwUS':'Producer\x20ready...'};if(_0x4155('0x35')===_0x51b4b9[_0x4155('0x36')]){var _0x42a2eb=_0x51b4b9[_0x4155('0x37')][_0x4155('0x25')]('|'),_0x47c673=0x0;while(!![]){switch(_0x42a2eb[_0x47c673++]){case'0':that[_0x4155('0x1e')][_0x4155('0x21')]=_0x4e973e;continue;case'1':that[_0x4155('0x1e')][_0x4155('0xa')]=_0x6c6ca1;continue;case'2':that[_0x4155('0x1e')][_0x4155('0x26')]=_0x537bba;continue;case'3':that[_0x4155('0x1e')][_0x4155('0x20')]=_0x523c0c;continue;case'4':that[_0x4155('0x1e')][_0x4155('0xb')]=_0x3850fe;continue;case'5':that[_0x4155('0x1e')][_0x4155('0x38')]=_0x25abbe;continue;case'6':that[_0x4155('0x1e')]['log']=_0x570be4;continue;}break;}}else{log[_0x4155('0x38')](_0x51b4b9[_0x4155('0x39')]);kafkaClient[_0x4155('0x3a')]([config['ACCOUNTING_TOPIC']],function(_0x1034d3){log[_0x4155('0xb')](_0x51b4b9[_0x4155('0x3b')],_0x1034d3);});}});kafkaProducer['on'](_0x4155('0xa'),function(_0x29a473){var _0x3da841={'TzMna':'Producer\x20preparation\x20failed:'};log['error'](_0x3da841[_0x4155('0x3c')],_0x29a473);});module['exports']=function(_0xa0b27b){var _0x5afa7b={'ENHTU':function _0x494ed1(_0x1768d3,_0x350598){return _0x1768d3<_0x350598;},'EdsEP':function _0x2b148c(_0x520cf0,_0x2e2ba9){return _0x520cf0===_0x2e2ba9;},'xhCYU':_0x4155('0x3d'),'CROMJ':function _0x55986c(_0x1e7664,_0x35236a){return _0x1e7664/_0x35236a;},'iqIyP':function _0x290783(_0x598ae1,_0x5ad0b3){return _0x598ae1-_0x5ad0b3;}};_0xa0b27b[_0x4155('0x3e')]=function(_0x3e2802){return Q['Promise'](function(_0x152d63,_0x1ac1cb){var _0x5b7f9d={'VnvoQ':function _0x69fd07(_0x3a6956,_0x4d78c6){return _0x3a6956(_0x4d78c6);},'mUGpP':function _0x39c14b(_0x365e7d){return _0x365e7d();},'gOpyg':function _0x32d566(_0x120933,_0x4c494d){return _0x120933!==_0x4c494d;},'vxopM':_0x4155('0x3f'),'mwAwm':_0x4155('0x40'),'xSgAg':function _0x3fc96b(_0x42a056,_0x418bb0){return _0x42a056<_0x418bb0;},'ZDIuw':_0x4155('0x14'),'Gwwae':_0x4155('0x0'),'YiqRE':_0x4155('0x41'),'JWSLV':'JUr','KqsxC':_0x4155('0x42')};if(_0x5b7f9d[_0x4155('0x43')]!=='VnP'){aggregate[_0x4155('0x44')](_0x503afa,_0x26e45b,_0x416e57)[_0x4155('0x45')](function(_0x471ac2){return _0x5b7f9d['VnvoQ'](_0x37a207,_0x4f4a23);})[_0x4155('0x46')](function(_0x488fee){return _0x5b7f9d['VnvoQ'](_0x27d91d,_0x16426c);});}else{if(utility[_0x4155('0x47')]()){_0xa0b27b['create'](_0x3e2802,function(_0x23de07){if(_0x23de07){log['error'](_0x23de07);return _0x1ac1cb(_0x23de07);}return _0x5b7f9d[_0x4155('0x48')](_0x152d63);});}else{if(_0x5b7f9d[_0x4155('0x49')]===_0x5b7f9d[_0x4155('0x4a')]){_0xa0b27b[_0x4155('0x4b')](_0x11a94b,function(_0x2208be){if(_0x4610a1){log[_0x4155('0xa')](_0x359855);return _0x1d349e(_0x7959d1);}return _0x5b7f9d[_0x4155('0x48')](_0x160d46);});}else{kafkaProducer[_0x4155('0x8')]([{'topic':config['ACCOUNTING_TOPIC'],'messages':JSON[_0x4155('0x4c')](_0x3e2802)}],function(_0xb35a28,_0x3baefc){if(_0x5b7f9d['gOpyg'](_0x5b7f9d['vxopM'],_0x5b7f9d['vxopM'])){var _0x1f3829=_0x5b7f9d[_0x4155('0x4d')][_0x4155('0x25')]('|'),_0x590a35=0x0;while(!![]){switch(_0x1f3829[_0x590a35++]){case'0':response[_0x4155('0x4e')][month]=utility['toMByte'](_0x12fa5c)[_0x4155('0x4f')](0x2);continue;case'1':var _0x1e86c2=0x0;continue;case'2':for(_0x1a83fd;_0x5b7f9d[_0x4155('0x50')](_0x7c9cf7,_0x439d0f);_0x8df7ce++){_0x2d4423+=memberResult[daysCounter]['download']['value'];_0xc62490+=memberResult[daysCounter][_0x4155('0x4e')][_0x4155('0x51')];}continue;case'3':response[_0x4155('0x52')][month]=memberResult[days]['key'];continue;case'4':var _0xf8e317=0x0;continue;case'5':response['download'][month]=utility[_0x4155('0x53')](_0x2a6b4d)[_0x4155('0x4f')](0x2);continue;case'6':_0x4dec3f+=monthDays[month];continue;}break;}}else{if(_0xb35a28){log[_0x4155('0xa')](_0x5b7f9d['ZDIuw'],_0xb35a28);return;}log['debug'](_0x5b7f9d[_0x4155('0x54')],_0x3baefc);}});return _0x5b7f9d['mUGpP'](_0x152d63);}}}});};_0xa0b27b[_0x4155('0x55')]=function(_0x3048ca,_0x40eda2,_0x35f4fb,_0x405a69,_0x585d17,_0x5b5c41){return Q[_0x4155('0x56')](function(_0x47173b,_0x1cea2a){var _0x5e9fb7={'CjpkD':function _0x51e20a(_0x547abf,_0x3530d4){return _0x547abf!==_0x3530d4;},'oqYHD':_0x4155('0x57'),'SAxYr':'OjJ','iIkYp':function _0x46353b(_0x52977e,_0x224365){return _0x52977e(_0x224365);},'zGrQT':function _0x17e167(_0x22f9ac,_0x34f803){return _0x22f9ac!==_0x34f803;},'KspYB':'SZa','mWMUN':_0x4155('0x58'),'yxncU':_0x4155('0x59'),'qMMgf':function _0x10a709(_0xcd5320,_0x5e5608){return _0xcd5320!==_0x5e5608;},'MEqTr':_0x4155('0x5a'),'swXxj':function _0xc9b5(_0x29c78b,_0x20447e){return _0x29c78b<_0x20447e;},'ULSEa':'tdK','lMlUC':function _0x1fc79e(_0x328cd9,_0x5d7e56){return _0x328cd9===_0x5d7e56;},'IvQKL':function _0x2c2c83(_0xa438a8,_0x343ec6){return _0xa438a8*_0x343ec6;},'knvmN':function _0xa4d6e9(_0x2a9e6d,_0x415751){return _0x2a9e6d<_0x415751;},'eAEzH':_0x4155('0x5b'),'nOOGI':function _0x201413(_0x5eba53,_0x191de3){return _0x5eba53-_0x191de3;}};if(_0x4155('0x5c')===_0x5e9fb7[_0x4155('0x5d')]){if(utility['isMongoDbStorage']()){aggregate[_0x4155('0x44')](_0x35f4fb,_0x3048ca,_0x40eda2)[_0x4155('0x45')](function(_0x531c5a){if(_0x5e9fb7[_0x4155('0x5e')](_0x5e9fb7[_0x4155('0x5f')],_0x5e9fb7[_0x4155('0x5f')])){var _0x1bd057=sessionList[i];var _0x3a24f5=singleSession['id'];ownersDictionary[sessionId]=_0x505e5d;sessionReportFunc[_0x4155('0x60')](aggregate['getSessionsReport'](singleSession[_0x4155('0x61')],singleSession[_0x4155('0x62')],_0x3f8299));}else{return _0x47173b(_0x531c5a);}})['fail'](function(_0x51c343){return _0x1cea2a(_0x51c343);});}else{if(_0x5e9fb7['lMlUC'](_0x4155('0x63'),_0x4155('0x63'))){_0x405a69=_0x5e9fb7[_0x4155('0x64')](-_0x405a69,config[_0x4155('0x65')][_0x4155('0x66')]);log['debug'](_0x4155('0x67'));aggregate[_0x4155('0x68')](_0x35f4fb,_0x3048ca,_0x40eda2)[_0x4155('0x45')](function(_0x1c64fc){var _0x22af3f={'vlpBX':function _0x23790c(_0x4d420a,_0xb0fb49){return _0x5e9fb7['CjpkD'](_0x4d420a,_0xb0fb49);},'AydRO':_0x5e9fb7[_0x4155('0x69')],'nkDiU':function _0x20af53(_0x96cd8f,_0x8f7d9c){return _0x5e9fb7[_0x4155('0x6a')](_0x96cd8f,_0x8f7d9c);},'kZvLw':function _0x426821(_0x1e2e5e,_0x357fc3){return _0x1e2e5e===_0x357fc3;},'fIrYp':function _0x1b37df(_0x471289,_0x35219d){return _0x471289<_0x35219d;},'TQUyG':function _0x12db6a(_0x5f09b6,_0x537f7f){return _0x5e9fb7['zGrQT'](_0x5f09b6,_0x537f7f);},'tjksS':_0x5e9fb7[_0x4155('0x6b')],'lnwbN':function _0x5cd03b(_0x160a6a,_0x31dc71){return _0x160a6a-_0x31dc71;},'mrJvI':_0x5e9fb7['mWMUN'],'jBWCU':_0x5e9fb7[_0x4155('0x6c')]};if(_0x5e9fb7[_0x4155('0x6d')](_0x5e9fb7[_0x4155('0x6e')],'tcV')){if(_0x3b642a){var _0x4b08aa=fn['apply'](_0x54257c,_0x271ee7);_0x231abc=null;return _0x5a1dbb;}}else{if(_0x5e9fb7[_0x4155('0x6f')](_0x1c64fc,config['DEFAULT_AGGREGATION_SIZE'])){_0x1c64fc=config[_0x4155('0xe')];}aggregate[_0x4155('0x70')](_0x3048ca,_0x40eda2,_0x35f4fb,_0x405a69,_0x585d17,_0x1c64fc)[_0x4155('0x45')](function(_0x2ad25d){if(_0x22af3f[_0x4155('0x71')](_0x4155('0x72'),_0x22af3f[_0x4155('0x73')])){var _0x2856b5='1|4|3|0|2'[_0x4155('0x25')]('|'),_0x565257=0x0;while(!![]){switch(_0x2856b5[_0x565257++]){case'0':log[_0x4155('0xb')](_0x4155('0x74')+JSON[_0x4155('0x4c')](_0x438d8c));continue;case'1':var _0x438d8c={'date':[],'download':[],'upload':[]};continue;case'2':return _0x22af3f[_0x4155('0x75')](_0x47173b,_0x438d8c);continue;case'3':if(_0x22af3f[_0x4155('0x76')](_0x5b5c41[_0x4155('0x77')],0x0)){for(var _0x4132bc=0x0;_0x22af3f[_0x4155('0x78')](_0x4132bc,_0x2ad25d[_0x4155('0x77')]);_0x4132bc++){_0x438d8c[_0x4155('0x52')][_0x4132bc]=_0x2ad25d[_0x4132bc][_0x4155('0x79')];_0x438d8c[_0x4155('0x7a')][_0x4132bc]=utility[_0x4155('0x53')](_0x2ad25d[_0x4132bc][_0x4155('0x7a')]['value'])['toFixed'](0x0);_0x438d8c[_0x4155('0x4e')][_0x4132bc]=utility[_0x4155('0x53')](_0x2ad25d[_0x4132bc][_0x4155('0x4e')][_0x4155('0x51')])[_0x4155('0x4f')](0x0);}}else{if(_0x22af3f['TQUyG'](_0x22af3f[_0x4155('0x7b')],_0x4155('0x7c'))){var _0x5c81d9=0x0;var _0x166dd7=0x0;for(var _0x4280fd in _0x5b5c41){var _0xd0aa1c=_0x4155('0x7d')['split']('|'),_0x45ea9b=0x0;while(!![]){switch(_0xd0aa1c[_0x45ea9b++]){case'0':_0x5c81d9+=_0x5b5c41[_0x4280fd];continue;case'1':_0x438d8c[_0x4155('0x52')][_0x4280fd]=_0x2ad25d[_0x5c81d9][_0x4155('0x79')];continue;case'2':var _0x5aafa4=0x0;continue;case'3':_0x438d8c[_0x4155('0x4e')][_0x4280fd]=utility[_0x4155('0x53')](_0x5075a9)[_0x4155('0x4f')](0x2);continue;case'4':for(_0x166dd7;_0x166dd7<_0x5c81d9;_0x166dd7++){_0x5aafa4+=_0x2ad25d[_0x166dd7][_0x4155('0x7a')][_0x4155('0x51')];_0x5075a9+=_0x2ad25d[_0x166dd7][_0x4155('0x4e')][_0x4155('0x51')];}continue;case'5':_0x438d8c[_0x4155('0x7a')][_0x4280fd]=utility['toMByte'](_0x5aafa4)[_0x4155('0x4f')](0x2);continue;case'6':var _0x5075a9=0x0;continue;}break;}}}else{var _0x46357c=sessionReportList[k];res[_0x4155('0x7a')]=utility[_0x4155('0x53')](sessionReport[_0x4155('0x7a')][_0x4155('0x51')])[_0x4155('0x4f')](0x0);res['upload']=utility[_0x4155('0x53')](sessionReport[_0x4155('0x4e')]['value'])[_0x4155('0x4f')](0x0);res[_0x4155('0x7e')]=(_0x22af3f[_0x4155('0x7f')](new _0x3ae2f1()[_0x4155('0x80')](),_0x550fa8)/0xea60)[_0x4155('0x4f')](0x0);}}continue;case'4':_0x5b5c41=_0x5b5c41||[];continue;}break;}}else{log[_0x4155('0xa')](_0x1038cf);return _0x22af3f[_0x4155('0x75')](_0x5d2895,_0x40190f);}})[_0x4155('0x46')](function(_0x2ee9f3){if(_0x22af3f[_0x4155('0x76')](_0x22af3f['mrJvI'],_0x22af3f['jBWCU'])){that[_0x4155('0x1e')]=function(_0x2b663c){var _0x2f2443=_0x4155('0x81')['split']('|'),_0x906a9=0x0;while(!![]){switch(_0x2f2443[_0x906a9++]){case'0':c[_0x4155('0x20')]=_0x2eb0a4;continue;case'1':return _0x42d0c7;continue;case'2':c[_0x4155('0xa')]=_0x3d6258;continue;case'3':c[_0x4155('0x1f')]=_0x3aaacd;continue;case'4':var _0x2e1109={};continue;case'5':c[_0x4155('0xb')]=_0x32de9f;continue;case'6':c[_0x4155('0x26')]=_0x2cec45;continue;case'7':c[_0x4155('0x38')]=_0x3716e3;continue;case'8':c[_0x4155('0x21')]=_0x53d22e;continue;}break;}}(_0x216148);}else{log[_0x4155('0xa')](_0x2ee9f3);return _0x1cea2a(_0x2ee9f3);}});}})[_0x4155('0x46')](function(_0x21cfa7){log[_0x4155('0xa')](_0x21cfa7);return _0x1cea2a(_0x21cfa7);});}else{var _0x44a569=[];for(var _0x2871bf=0x0;_0x5e9fb7['knvmN'](_0x20a013,tasksResult[_0x4155('0x77')]);_0x430338++){var _0x17230a=_0x5e9fb7['eAEzH'][_0x4155('0x25')]('|'),_0x471c76=0x0;while(!![]){switch(_0x17230a[_0x471c76++]){case'0':var _0x1001c5=reportResult[_0x4155('0x82')];continue;case'1':for(var _0x356aed=0x0;_0x200e64<sessionReportList['length'];_0x40d889++){var _0x184362=sessionReportList[k];res[_0x4155('0x7a')]=utility['toMByte'](sessionReport[_0x4155('0x7a')][_0x4155('0x51')])[_0x4155('0x4f')](0x0);res[_0x4155('0x4e')]=utility['toMByte'](sessionReport[_0x4155('0x4e')]['value'])['toFixed'](0x0);res['sessionTime']=(_0x5e9fb7[_0x4155('0x83')](new _0x4875ff()['getTime'](),_0x494b9a)/0xea60)[_0x4155('0x4f')](0x0);}continue;case'2':var _0x53a0e0=reportResult[_0x4155('0x84')];continue;case'3':var _0x4f0df0=ownersDictionary[reportSessionId];continue;case'4':var _0x1848c0=tasksResult[n];continue;case'5':var _0x1d7526=reportResult[_0x4155('0x85')];continue;case'6':report['push'](_0x520541);continue;}break;}}return _0x5e9fb7['iIkYp'](_0x18d1b9,{'_0x5adf2e':_0x12cb3d});}}}else{var _0x3f3397=fn[_0x4155('0x5')](_0x5960fe,_0x3b7c91);_0x1fd754=null;return _0x32cd0;}});};_0xa0b27b[_0x4155('0x86')]=function(_0x28f404){var _0x5a78a2={'umzeH':function _0xec8aab(_0x4d701b,_0x545e4b){return _0x5afa7b['ENHTU'](_0x4d701b,_0x545e4b);},'kTROB':function _0x18cec7(_0x5404c7,_0x2f359c){return _0x5afa7b[_0x4155('0x87')](_0x5404c7,_0x2f359c);},'jOgcj':_0x5afa7b[_0x4155('0x88')],'wrQzn':_0x4155('0x89'),'xcMpI':function _0xa63bb1(_0x40ae42,_0x27e5a7){return _0x5afa7b[_0x4155('0x8a')](_0x40ae42,_0x27e5a7);},'TzBDF':function _0x1d7c99(_0x4936b0,_0x4fc27c){return _0x5afa7b['iqIyP'](_0x4936b0,_0x4fc27c);}};return Q[_0x4155('0x56')](function(_0x545435,_0x40966a){var _0x2b31cc={'sepOK':function _0x4fc911(_0x3b54e6,_0x106aa8){return _0x5a78a2[_0x4155('0x8b')](_0x3b54e6,_0x106aa8);},'wpejm':function _0x16c6c9(_0x50f24f,_0x42dd8c){return _0x5a78a2[_0x4155('0x8c')](_0x50f24f,_0x42dd8c);},'XJIDJ':_0x5a78a2[_0x4155('0x8d')],'vMSXn':_0x5a78a2[_0x4155('0x8e')],'AWuJS':function _0x46c904(_0x59548d,_0x512c15){return _0x5a78a2[_0x4155('0x8f')](_0x59548d,_0x512c15);},'rUYOF':function _0x34037f(_0x4619df,_0x5a3738){return _0x5a78a2[_0x4155('0x90')](_0x4619df,_0x5a3738);},'Iyvce':function _0x1516bd(_0xc634ab,_0x5d939d){return _0xc634ab(_0x5d939d);}};var _0x44d0ef=[];var _0xdd389c={};for(var _0x351b5c=0x0;_0x5a78a2[_0x4155('0x8b')](_0x351b5c,_0x28f404[_0x4155('0x77')]);_0x351b5c++){var _0x2d4425=_0x28f404[_0x351b5c];var _0x98f83=_0x2d4425['id'];_0xdd389c[_0x98f83]=_0x2d4425;_0x44d0ef[_0x4155('0x60')](aggregate['getSessionsReport'](_0x2d4425[_0x4155('0x61')],_0x2d4425[_0x4155('0x62')],_0x98f83));}Q[_0x4155('0x91')](_0x44d0ef)['then'](function(_0x44bb4d){var _0x199b2d=[];for(var _0x81900c=0x0;_0x2b31cc['sepOK'](_0x81900c,_0x44bb4d[_0x4155('0x77')]);_0x81900c++){if(_0x2b31cc[_0x4155('0x92')](_0x2b31cc['XJIDJ'],_0x2b31cc[_0x4155('0x93')])){log[_0x4155('0x38')](_0x4155('0x94'));kafkaClient[_0x4155('0x3a')]([config[_0x4155('0x9')]],function(_0x5c5f6){log[_0x4155('0xb')](_0x4155('0x32'),_0xef0a4a);});}else{var _0x2f3b65=_0x44bb4d[_0x81900c];var _0x4b49bf=_0x2f3b65[_0x4155('0x85')];var _0x4c6719=_0x2f3b65[_0x4155('0x82')];var _0x35cbde=_0x2f3b65['sessionId'];var _0x1c1c4b=_0xdd389c[_0x35cbde];for(var _0x3a3da0=0x0;_0x2b31cc[_0x4155('0x95')](_0x3a3da0,_0x4b49bf[_0x4155('0x77')]);_0x3a3da0++){var _0x2d38f7=_0x4b49bf[_0x3a3da0];_0x1c1c4b[_0x4155('0x7a')]=utility[_0x4155('0x53')](_0x2d38f7[_0x4155('0x7a')]['value'])[_0x4155('0x4f')](0x0);_0x1c1c4b[_0x4155('0x4e')]=utility['toMByte'](_0x2d38f7['upload'][_0x4155('0x51')])['toFixed'](0x0);_0x1c1c4b[_0x4155('0x7e')]=_0x2b31cc[_0x4155('0x96')](_0x2b31cc[_0x4155('0x97')](new Date()[_0x4155('0x80')](),_0x4c6719),0xea60)['toFixed'](0x0);}_0x199b2d[_0x4155('0x60')](_0x1c1c4b);}}return _0x2b31cc['Iyvce'](_0x545435,{'data':_0x199b2d});})['fail'](function(_0x5e7a6e){var _0x4f1721={'oPlNr':function _0x2e7dc5(_0x11f0ee,_0x3298cd){return _0x11f0ee!==_0x3298cd;},'kvzob':_0x4155('0x98'),'uVjhJ':function _0x53962c(_0x4ea517,_0x53c641){return _0x4ea517(_0x53c641);},'uZIbE':function _0x3ca234(_0x1134cd,_0x48d504){return _0x1134cd(_0x48d504);}};if(_0x4f1721[_0x4155('0x99')]('oiO',_0x4f1721['kvzob'])){log[_0x4155('0xa')](_0x2d7a53);return _0x4f1721[_0x4155('0x9a')](_0x35340a,_0x3ee660);}else{log[_0x4155('0xa')](_0x5e7a6e);return _0x4f1721[_0x4155('0x9b')](_0x40966a,_0x5e7a6e);}});});};};