var _0x360d=['ZkdT','ZmFpbGVkIHRvIGNhY2hl','eW92','WVF0aXI=','VnFzV1A=','dWlvQUs=','ZmFpbGVkIHRvIGdldCB1c2FnZSBmcm9tIGNhY2hlIGJ5IGlkOiA=','U0d3cUI=','UFNqYXY=','Y3VycmVudFVzZXJJZA==','cGFyc2VJbnQ=','WGJ2V08=','Tlh2bm0=','R2pMQ08=','cmhsTlU=','cHhTc3Q=','R3RRVmI=','d2Vuc3M=','a3NIWlE=','dHloSFc=','dXhnb24=','bXZ0eUE=','RE9LVXY=','ZktUblk=','SU5aelY=','Y2FjaGVVc2FnZQ==','cHJvbWlzZQ==','c2V0','c2Vzc2lvbklk','c3RyaW5naWZ5','d1RF','Z1ZL','ZmFpbGVkIHRvIGNhY2hlIHVzYWdl','cnZIdWM=','SEhwVUs=','SHlJclU=','WVR6b0M=','T3F5RVU=','U1pn','M3w2fDh8NHwyfDF8N3w1fDA=','dE11','Y1hl','SWhLQ04=','QVpKTEM=','SWlmZmQ=','Uk9EdmE=','ZFB0YXc=','SUpRRko=','SXRVVnI=','cGFyc2U=','UG5S','b0lD','b3Zk','dmVrWUg=','SXdUeWw=','V0ludm8=','YXBwbHk=','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','bFJW','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','ak9qc3I=','aHNqV1Q=','S09wanQ=','RUZoU0Y=','YUthQng=','Y29uc29sZQ==','R0ZsZUg=','RlFxVUU=','MHwxfDJ8NXw0fDZ8M3w4fDc=','c3BsaXQ=','bG9n','ZXhjZXB0aW9u','aW5mbw==','ZGVidWc=','dHJhY2U=','RWlTV0E=','d2Fybg==','cHVzaA==','dXNlcm5hbWU=','TmtSSFY=','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','ZW52','S0FGS0FfSVA=','Li4vLi4vc2VydmVyL21vZHVsZXMvZGIuZmFjdG9yeQ==','UHJvZHVjZXI=','cmVkaXM=','UkVESVM=','SE9TVA==','cmVhZHk=','UHJvZHVjZXIgcmVhZHkuLi4=','aERzSVA=','cmVmcmVzaE1ldGFkYXRh','dU9m','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','SmpjVUk=','SGpYbkY=','WmZaUVg=','bUF3d2g=','ZXJyb3I=','TkFTeWo=','YnJY','YWxs','Z2V0VXNhZ2U=','R2V0IHVzYWdlIHJlcG9ydC4=','ZGVwYXJ0bWVudElk','c3RyaW5n','bnVtYmVy','b3B0aW9uc0Zyb21SZXF1ZXN0','R2V0IHJlcG9ydC4=','Z2V0VG9wTWVtYmVycw==','R2V0IFRvcCBNZW1iZXJzLg==','c3RhcnREYXRl','U3RhcnQgRGF0ZQ==','ZW5kRGF0ZQ==','Y2FsY3VsYXRlVXNhZ2U=','Z2V0VXNhZ2VGcm9tQ2FjaGU=','Wkt6QkM=','dXBsb2Fk','ZG93bmxvYWQ=','YWhjVUE=','c2Vzc2lvblRpbWU=','YXhocG8=','VG9seXE=','TUJsRGc=','Z2V0QnVzaW5lc3NVc2FnZQ==','cmVtb3RlTWV0aG9k','QXZLc0g=','U3B6Q1M=','cVlDVmY=','bVBmaU4=','RW5kIERhdGU=','b3B0aW9ucw==','bU9NWk0=','cmVwb3J0U3RhdHVz','dGFibGU=','cHJldmlld3Mgc2Vzc2lvbiBpcyBlbXB0eQ==','b2NY'];(function(_0x2c1c08,_0x2d7676){var _0x26ca05=function(_0x2ba810){while(--_0x2ba810){_0x2c1c08['push'](_0x2c1c08['shift']());}};var _0x316681=function(){var _0x8bc99c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x48fa66,_0x3a976c,_0x4235e7,_0x531ef1){_0x531ef1=_0x531ef1||{};var _0x530f59=_0x3a976c+'='+_0x4235e7;var _0x364fd7=0x0;for(var _0x364fd7=0x0,_0xd5381a=_0x48fa66['length'];_0x364fd7<_0xd5381a;_0x364fd7++){var _0x8d05ba=_0x48fa66[_0x364fd7];_0x530f59+=';\x20'+_0x8d05ba;var _0xaab1b2=_0x48fa66[_0x8d05ba];_0x48fa66['push'](_0xaab1b2);_0xd5381a=_0x48fa66['length'];if(_0xaab1b2!==!![]){_0x530f59+='='+_0xaab1b2;}}_0x531ef1['cookie']=_0x530f59;},'removeCookie':function(){return'dev';},'getCookie':function(_0x318b9b,_0x12e67e){_0x318b9b=_0x318b9b||function(_0x4bf7fa){return _0x4bf7fa;};var _0x13c9a7=_0x318b9b(new RegExp('(?:^|;\x20)'+_0x12e67e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x494740=function(_0x352f72,_0x2fdb02){_0x352f72(++_0x2fdb02);};_0x494740(_0x26ca05,_0x2d7676);return _0x13c9a7?decodeURIComponent(_0x13c9a7[0x1]):undefined;}};var _0x17c63b=function(){var _0x490c1e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x490c1e['test'](_0x8bc99c['removeCookie']['toString']());};_0x8bc99c['updateCookie']=_0x17c63b;var _0x514832='';var _0x5c545a=_0x8bc99c['updateCookie']();if(!_0x5c545a){_0x8bc99c['setCookie'](['*'],'counter',0x1);}else if(_0x5c545a){_0x514832=_0x8bc99c['getCookie'](null,'counter');}else{_0x8bc99c['removeCookie']();}};_0x316681();}(_0x360d,0x1d9));var _0xd360=function(_0x35c12c,_0x378ba0){_0x35c12c=_0x35c12c-0x0;var _0x2bab3a=_0x360d[_0x35c12c];if(_0xd360['initialized']===undefined){(function(){var _0xe5fdee;try{var _0xbdceed=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xe5fdee=_0xbdceed();}catch(_0x207564){_0xe5fdee=window;}var _0x12dfa2='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0xe5fdee['atob']||(_0xe5fdee['atob']=function(_0x124cda){var _0x117eaf=String(_0x124cda)['replace'](/=+$/,'');for(var _0x4759ec=0x0,_0x2f9145,_0x2774cb,_0x10237e=0x0,_0x1456ab='';_0x2774cb=_0x117eaf['charAt'](_0x10237e++);~_0x2774cb&&(_0x2f9145=_0x4759ec%0x4?_0x2f9145*0x40+_0x2774cb:_0x2774cb,_0x4759ec++%0x4)?_0x1456ab+=String['fromCharCode'](0xff&_0x2f9145>>(-0x2*_0x4759ec&0x6)):0x0){_0x2774cb=_0x12dfa2['indexOf'](_0x2774cb);}return _0x1456ab;});}());_0xd360['base64DecodeUnicode']=function(_0x39dbc7){var _0x590683=atob(_0x39dbc7);var _0x53d5ca=[];for(var _0x13caf5=0x0,_0x203d1e=_0x590683['length'];_0x13caf5<_0x203d1e;_0x13caf5++){_0x53d5ca+='%'+('00'+_0x590683['charCodeAt'](_0x13caf5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x53d5ca);};_0xd360['data']={};_0xd360['initialized']=!![];}var _0x244f73=_0xd360['data'][_0x35c12c];if(_0x244f73===undefined){var _0x3f1b0c=function(_0x5fd210){this['rc4Bytes']=_0x5fd210;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3f1b0c['prototype']['checkState']=function(){var _0x5c0ad4=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x5c0ad4['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x3f1b0c['prototype']['runState']=function(_0x4d1fac){if(!Boolean(~_0x4d1fac)){return _0x4d1fac;}return this['getState'](this['rc4Bytes']);};_0x3f1b0c['prototype']['getState']=function(_0x26c6ed){for(var _0x17ba46=0x0,_0x5c83b0=this['states']['length'];_0x17ba46<_0x5c83b0;_0x17ba46++){this['states']['push'](Math['round'](Math['random']()));_0x5c83b0=this['states']['length'];}return _0x26c6ed(this['states'][0x0]);};new _0x3f1b0c(_0xd360)['checkState']();_0x2bab3a=_0xd360['base64DecodeUnicode'](_0x2bab3a);_0xd360['data'][_0x35c12c]=_0x2bab3a;}else{_0x2bab3a=_0x244f73;}return _0x2bab3a;};var _0x4e1da7=function(){var _0x4f911f=!![];return function(_0x1774d6,_0x21808a){var _0x4b6de4=_0x4f911f?function(){if(_0x21808a){var _0x5c7cf0=_0x21808a['apply'](_0x1774d6,arguments);_0x21808a=null;return _0x5c7cf0;}}:function(){};_0x4f911f=![];return _0x4b6de4;};}();var _0x2309df=_0x4e1da7(this,function(){var _0x5aa288=function(){return'\x64\x65\x76';},_0x1f7959=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x5f506c=function(){var _0x5d594e=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5d594e['\x74\x65\x73\x74'](_0x5aa288['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2da1f9=function(){var _0x19b9e5=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x19b9e5['\x74\x65\x73\x74'](_0x1f7959['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x17beb9=function(_0x524f33){var _0x5e6365=~-0x1>>0x1+0xff%0x0;if(_0x524f33['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x5e6365)){_0xa87259(_0x524f33);}};var _0xa87259=function(_0x14ac2e){var _0x44b298=~-0x4>>0x1+0xff%0x0;if(_0x14ac2e['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x44b298){_0x17beb9(_0x14ac2e);}};if(!_0x5f506c()){if(!_0x2da1f9()){_0x17beb9('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x17beb9('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x17beb9('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2309df();var _0x5a0f9f=function(){var _0x5a7ae2=!![];return function(_0x38b903,_0x5cf0ae){var _0x563e4b={'WInvo':_0xd360('0x0'),'vekYH':function _0x3a813f(_0x21d818,_0x19a81b){return _0x21d818!==_0x19a81b;},'IwTyl':_0xd360('0x1'),'MrIaX':_0xd360('0x2')};if(_0x563e4b[_0xd360('0x3')](_0x563e4b[_0xd360('0x4')],_0x563e4b['MrIaX'])){var _0x5a11a8=_0x5a7ae2?function(){if(_0x563e4b[_0xd360('0x5')]===_0x563e4b['WInvo']){if(_0x5cf0ae){var _0xc183f1=_0x5cf0ae[_0xd360('0x6')](_0x38b903,arguments);_0x5cf0ae=null;return _0xc183f1;}}else{var _0x49573c=_0x5cf0ae[_0xd360('0x6')](_0x8e725a,_0x4ce31d);_0x5b4820=null;return _0x1689d8;}}:function(){};_0x5a7ae2=![];return _0x5a11a8;}else{_0x558563=null;}};}();var _0x30e8be=_0x5a0f9f(this,function(){var _0x4bd42={'jOjsr':function _0x5030f5(_0x75b7bd,_0x4a68be){return _0x75b7bd===_0x4a68be;},'hsjWT':'CBD','KOpjt':function _0x411d9e(_0x3c9b47,_0x4dbd59){return _0x3c9b47(_0x4dbd59);},'kKjXU':_0xd360('0x7'),'EFhSF':_0xd360('0x8'),'aKaBx':function _0x10c19b(_0x34d272){return _0x34d272();},'GFleH':_0xd360('0x9'),'FQqUE':_0xd360('0xa'),'EiSWA':'2|3|0|4|1|6|5','NkRHV':function _0x3cb732(_0x7703e0,_0x55f136){return _0x7703e0(_0x55f136);}};if(_0x4bd42[_0xd360('0xb')](_0x4bd42[_0xd360('0xc')],_0x4bd42[_0xd360('0xc')])){var _0x1bb890=function(){};var _0x5bce5b;try{var _0x499537=_0x4bd42[_0xd360('0xd')](Function,_0x4bd42['kKjXU']+_0x4bd42[_0xd360('0xe')]+');');_0x5bce5b=_0x4bd42[_0xd360('0xf')](_0x499537);}catch(_0x456ee9){_0x5bce5b=window;}if(!_0x5bce5b[_0xd360('0x10')]){if('lRV'!==_0x4bd42[_0xd360('0x11')]){log['error'](_0x4bd42[_0xd360('0x12')],_0x3ca4c9);}else{_0x5bce5b[_0xd360('0x10')]=function(_0xb433d9){var _0x55d40d=_0xd360('0x13')[_0xd360('0x14')]('|'),_0x16214b=0x0;while(!![]){switch(_0x55d40d[_0x16214b++]){case'0':var _0x19af44={};continue;case'1':_0x19af44[_0xd360('0x15')]=_0xb433d9;continue;case'2':_0x19af44['warn']=_0xb433d9;continue;case'3':_0x19af44[_0xd360('0x16')]=_0xb433d9;continue;case'4':_0x19af44[_0xd360('0x17')]=_0xb433d9;continue;case'5':_0x19af44[_0xd360('0x18')]=_0xb433d9;continue;case'6':_0x19af44['error']=_0xb433d9;continue;case'7':return _0x19af44;continue;case'8':_0x19af44[_0xd360('0x19')]=_0xb433d9;continue;}break;}}(_0x1bb890);}}else{var _0x27d1a3=_0x4bd42[_0xd360('0x1a')][_0xd360('0x14')]('|'),_0x79e7ec=0x0;while(!![]){switch(_0x27d1a3[_0x79e7ec++]){case'0':_0x5bce5b[_0xd360('0x10')]['debug']=_0x1bb890;continue;case'1':_0x5bce5b[_0xd360('0x10')]['error']=_0x1bb890;continue;case'2':_0x5bce5b['console'][_0xd360('0x15')]=_0x1bb890;continue;case'3':_0x5bce5b[_0xd360('0x10')][_0xd360('0x1b')]=_0x1bb890;continue;case'4':_0x5bce5b['console'][_0xd360('0x17')]=_0x1bb890;continue;case'5':_0x5bce5b[_0xd360('0x10')][_0xd360('0x19')]=_0x1bb890;continue;case'6':_0x5bce5b[_0xd360('0x10')][_0xd360('0x16')]=_0x1bb890;continue;}break;}}}else{username[_0xd360('0x1c')](res[_0xd360('0x1d')]);upload[_0xd360('0x1c')](_0x4bd42[_0xd360('0xd')](_0x35acbf,res['upload']));download[_0xd360('0x1c')](_0x4bd42[_0xd360('0xd')](_0x1baa06,res['download']));sessionTime['push'](_0x4bd42[_0xd360('0x1e')](_0x8ba3c2,res['sessionTime']));}});_0x30e8be();'use strict';var app=require(_0xd360('0x1f'));var utility=require(_0xd360('0x20'));var Q=require('q');var kafka=require('kafka-node');var config=require('../../server/modules/config.js');var logger=require(_0xd360('0x21'));var log=logger[_0xd360('0x22')]();var _=require('underscore');var kafkaClient=new kafka['KafkaClient']({'kafkaHost':process[_0xd360('0x23')][_0xd360('0x24')]+':'+process[_0xd360('0x23')]['KAFKA_PORT']});const db=require(_0xd360('0x25'));var kafkaProducer=new kafka[(_0xd360('0x26'))](kafkaClient,{'partitionerType':0x2});var redis=require(_0xd360('0x27'));var redisClient=redis['createClient'](config[_0xd360('0x28')]['PORT'],config[_0xd360('0x28')][_0xd360('0x29')]);kafkaProducer['on'](_0xd360('0x2a'),function(){var _0x728a3={'hDsIP':_0xd360('0x2b')};log[_0xd360('0x1b')](_0x728a3[_0xd360('0x2c')]);kafkaClient[_0xd360('0x2d')]([config['ACCOUNTING_TOPIC']],function(_0x60919c){var _0x450b44={'JjcUI':_0xd360('0x2e'),'oVUua':_0xd360('0x2f'),'lMPIk':function _0x49cdc2(_0x28147b,_0x319f2f){return _0x28147b(_0x319f2f);},'YIPOK':function _0x208526(_0x4417c2,_0x362eac){return _0x4417c2+_0x362eac;},'HjXnF':function _0x1f71b6(_0x30d6a6,_0x40b331){return _0x30d6a6+_0x40b331;},'ZfZQX':_0xd360('0x8'),'mAwwh':function _0x5e0977(_0x3031d7){return _0x3031d7();}};if(_0x450b44['JjcUI']===_0x450b44[_0xd360('0x30')]){log[_0xd360('0x18')](_0x450b44['oVUua'],_0x60919c);}else{var _0x238f83=_0x450b44['lMPIk'](_0x4b8944,_0x450b44['YIPOK'](_0x450b44[_0xd360('0x31')](_0xd360('0x7'),_0x450b44[_0xd360('0x32')]),');'));_0x1bdefb=_0x450b44[_0xd360('0x33')](_0x58f9f2);}});});kafkaProducer['on'](_0xd360('0x34'),function(_0x4d0550){var _0x44abba={'NASyj':_0xd360('0xa')};log[_0xd360('0x34')](_0x44abba[_0xd360('0x35')],_0x4d0550);});module['exports']=function(_0x2833ae){var _0x91673e={'ZKzBC':function _0x450d51(_0x3bdd9a,_0x43d68f){return _0x3bdd9a-_0x43d68f;},'ahcUA':function _0x516f61(_0x57ca81,_0x19e041){return _0x57ca81-_0x19e041;},'axhpo':function _0x571ee7(_0x196d95,_0x5ea97a){return _0x196d95!==_0x5ea97a;},'Tolyq':_0xd360('0x36'),'MBlDg':_0xd360('0x37'),'KNibj':function _0x496018(_0x5c73c4,_0x13968e){return _0x5c73c4===_0x13968e;},'AvKsH':_0xd360('0x38'),'SpzCS':_0xd360('0x39'),'qYCVf':_0xd360('0x3a'),'mPfiN':_0xd360('0x3b'),'tyhHW':_0xd360('0x3c'),'INZzV':'object','mOMZM':_0xd360('0x3d'),'SVllv':_0xd360('0x3e'),'wenss':_0xd360('0x3f'),'vaKtq':_0xd360('0x40'),'ksHZQ':_0xd360('0x41'),'uxgon':_0xd360('0x42'),'mvtyA':_0xd360('0x43'),'DOKUv':'End\x20Date','fKTnY':'options'};_0x2833ae[_0xd360('0x44')]=async(_0x34f346,_0x16da6d)=>{let {upload,download,sessionTime}=_0x16da6d;const _0x21bbad=await _0x2833ae[_0xd360('0x45')](_0x34f346);if(_0x21bbad){upload=_0x91673e[_0xd360('0x46')](upload,_0x21bbad[_0xd360('0x47')]);download=_0x91673e[_0xd360('0x46')](download,_0x21bbad[_0xd360('0x48')]);sessionTime=_0x91673e[_0xd360('0x49')](sessionTime,_0x21bbad[_0xd360('0x4a')]);}return{'upload':upload,'download':download,'sessionTime':sessionTime};};_0x2833ae[_0xd360('0x38')]=async(_0x37d3b5,_0x113c60,_0x4d283a,_0x385fac)=>{var _0x23b221=_0x385fac['currentUserId'];if(!_0x37d3b5){if(_0x91673e[_0xd360('0x4b')](_0x91673e[_0xd360('0x4c')],_0x91673e[_0xd360('0x4c')])){var _0xcf101d=_0x385fac['currentUserId'];if(!_0x32544c){return{'_0x1e092f':0x0,'_0x1c1620':0x0,'_0x174506':0x0,'_0x138ecb':0x0};}if(_0x47b3fc===_0x91673e[_0xd360('0x4d')]){_0x4f6b13=null;}const _0x398b03=await db[_0xd360('0x4e')](_0x1fb378,_0x4c3049,_0x223772,_0x1ded6d);return _0x244501;}else{return{'bulk':0x0,'download':0x0,'upload':0x0,'sessionTime':0x0};}}if(_0x91673e['KNibj'](_0x37d3b5,_0x91673e[_0xd360('0x4d')])){_0x37d3b5=null;}const _0x476459=await db[_0xd360('0x4e')](_0x23b221,_0x37d3b5,_0x113c60,_0x4d283a);return _0x476459;};_0x2833ae[_0xd360('0x4f')](_0x91673e[_0xd360('0x50')],{'description':_0x91673e[_0xd360('0x51')],'accepts':[{'arg':_0x91673e[_0xd360('0x52')],'type':_0x91673e[_0xd360('0x53')],'description':_0xd360('0x3a')},{'arg':_0xd360('0x41'),'type':_0xd360('0x3c'),'required':!![],'description':_0xd360('0x42')},{'arg':_0xd360('0x43'),'type':_0x91673e['tyhHW'],'required':!![],'description':_0xd360('0x54')},{'arg':_0xd360('0x55'),'type':_0x91673e['INZzV'],'http':_0x91673e[_0xd360('0x56')]}],'returns':{'root':!![]}});_0x2833ae[_0xd360('0x57')]=async()=>{const _0x18a16c=await db['getDatabaseInfo']();const _0x1e51ee={};for(const _0x21bd86 of _0x18a16c){_0x1e51ee[_0x21bd86[_0xd360('0x58')]]=_0x21bd86;}return{'db':_0x1e51ee};};_0x2833ae[_0xd360('0x4f')](_0xd360('0x57'),{'description':_0x91673e['SVllv'],'accepts':[],'returns':{'root':!![]}});_0x2833ae['getTopMembers']=async(_0x14e5b3,_0x13f882,_0x48bbed,_0x425262)=>{var _0x47fea1={'IUoAd':function _0x57000e(_0x27a54f,_0x4db3e1){return _0x27a54f(_0x4db3e1);},'SGwqB':_0xd360('0x59'),'PSjav':function _0x4121e5(_0x39a9b9,_0x4bbee1){return _0x39a9b9(_0x4bbee1);},'YQtir':function _0x15c51d(_0x578787,_0x464920){return _0x578787===_0x464920;},'VqsWP':_0xd360('0x5a'),'uioAK':'cZx','XbvWO':function _0x2e5a04(_0xc9705,_0x54dbfe){return _0xc9705===_0x54dbfe;},'NXvnm':_0xd360('0x5b'),'GjLCO':'failed\x20to\x20cache\x20usage','rhlNU':function _0x352e6c(_0x334831,_0x116667){return _0x334831(_0x116667);},'FdgzH':_0xd360('0x5c'),'NgRDy':'all','pxSst':_0xd360('0x5d'),'gsAlJ':function _0xe7ca36(_0x5cca5b,_0x49728b){return _0x5cca5b(_0x49728b);},'GtQVb':function _0x349233(_0x3e83cb,_0x855b23){return _0x3e83cb-_0x855b23;}};if(_0x47fea1[_0xd360('0x5e')](_0x47fea1[_0xd360('0x5f')],_0x47fea1[_0xd360('0x60')])){redisClient['get'](_0x881bc2,(_0x3d8f37,_0x40e17a)=>{if(_0x2c0dc4){log[_0xd360('0x34')](_0xd360('0x61')+_0x2a4998);return _0x47fea1['IUoAd'](_0xacbec0,_0x1afeac);}if(!_0x5500a9){log[_0xd360('0x1b')](_0x47fea1[_0xd360('0x62')]);return _0x3a5966();}return _0x47fea1[_0xd360('0x63')](_0x586efd,JSON['parse'](_0x221644));});}else{var _0x51cc8d=_0x425262[_0xd360('0x64')];var _0x492e1d=Number['parseInt'](_0x13f882);var _0x5020be=Number[_0xd360('0x65')](_0x48bbed);const _0x5bfe08=0xa;const _0x4f0fb4=0x0;const _0x2ba8ce=[];const _0x1e2e8a=[];const _0x972c50=[];const _0x394cf7=[];if(!_0x14e5b3){if(_0x47fea1[_0xd360('0x66')](_0x47fea1['NXvnm'],_0x47fea1[_0xd360('0x67')])){return{'username':_0x2ba8ce,'upload':_0x1e2e8a,'download':_0x972c50,'sessionTime':_0x394cf7};}else{log[_0xd360('0x34')](_0x47fea1[_0xd360('0x68')],_0x5b9bc6);return _0x47fea1[_0xd360('0x69')](_0x204bb9,_0x47fea1['FdgzH']);}}if(_0x47fea1[_0xd360('0x66')](_0x14e5b3,_0x47fea1['NgRDy'])){_0x14e5b3=null;}const _0x3d1c18=await db['getTopMembersByUsage'](_0x51cc8d,_0x14e5b3,_0x492e1d,_0x5020be,_0x5bfe08,_0x4f0fb4);for(const _0x111102 of _0x3d1c18){if(_0x47fea1[_0xd360('0x66')](_0x47fea1[_0xd360('0x6a')],'yov')){_0x2ba8ce[_0xd360('0x1c')](_0x111102[_0xd360('0x1d')]);_0x1e2e8a['push'](Number(_0x111102[_0xd360('0x47')]));_0x972c50['push'](_0x47fea1['gsAlJ'](Number,_0x111102[_0xd360('0x48')]));_0x394cf7[_0xd360('0x1c')](Number(_0x111102[_0xd360('0x4a')]));}else{_0x5381ad=_0x47130d-previewsUsage['upload'];_0x56cf98=_0x47fea1[_0xd360('0x6b')](_0x2ef2d2,previewsUsage[_0xd360('0x48')]);_0x5c70cb=_0x5bfe67-previewsUsage['sessionTime'];}}return{'username':_0x2ba8ce,'upload':_0x1e2e8a,'download':_0x972c50,'sessionTime':_0x394cf7};}};_0x2833ae[_0xd360('0x4f')](_0x91673e[_0xd360('0x6c')],{'description':_0x91673e['vaKtq'],'accepts':[{'arg':_0x91673e[_0xd360('0x52')],'type':_0xd360('0x3b'),'description':_0xd360('0x3a')},{'arg':_0x91673e[_0xd360('0x6d')],'type':_0x91673e[_0xd360('0x6e')],'required':!![],'description':_0x91673e[_0xd360('0x6f')]},{'arg':_0x91673e[_0xd360('0x70')],'type':_0xd360('0x3c'),'required':!![],'description':_0x91673e[_0xd360('0x71')]},{'arg':_0x91673e[_0xd360('0x72')],'type':_0x91673e[_0xd360('0x73')],'http':_0x91673e['mOMZM']}],'returns':{'root':!![]}});_0x2833ae[_0xd360('0x74')]=function(_0x165e39){return Q[_0xd360('0x75')]((_0x436223,_0x50b5d2)=>{redisClient[_0xd360('0x76')](_0x165e39[_0xd360('0x77')],JSON[_0xd360('0x78')](_0x165e39),'EX',0xe10,function(_0x2b9ba6){var _0x48b393={'rvHuc':function _0x29ace1(_0x5638e5,_0x2cefb8){return _0x5638e5!==_0x2cefb8;},'HHpUK':_0xd360('0x79'),'lMyvH':_0xd360('0x7a'),'HyIrU':_0xd360('0x7b'),'lnbvk':function _0x173e74(_0x39c55c,_0x47ebd5){return _0x39c55c(_0x47ebd5);},'SMjCJ':_0xd360('0x5c'),'YTzoC':function _0x275951(_0x47ee64){return _0x47ee64();}};if(_0x48b393[_0xd360('0x7c')](_0x48b393[_0xd360('0x7d')],_0x48b393['lMyvH'])){if(_0x2b9ba6){log[_0xd360('0x34')](_0x48b393[_0xd360('0x7e')],_0x2b9ba6);return _0x48b393['lnbvk'](_0x50b5d2,_0x48b393['SMjCJ']);}return _0x48b393[_0xd360('0x7f')](_0x436223);}else{that['console']=function(_0x4dd696){var _0x53c396={'OqyEU':'6|7|1|8|0|4|3|2|5'};var _0x20d409=_0x53c396[_0xd360('0x80')][_0xd360('0x14')]('|'),_0x1c7aa2=0x0;while(!![]){switch(_0x20d409[_0x1c7aa2++]){case'0':c[_0xd360('0x17')]=_0x3ee040;continue;case'1':c[_0xd360('0x1b')]=_0x24961a;continue;case'2':c[_0xd360('0x19')]=_0x4c7276;continue;case'3':c['exception']=_0x2c7812;continue;case'4':c[_0xd360('0x34')]=_0x2726e5;continue;case'5':return _0x4af841;continue;case'6':var _0x1eb092={};continue;case'7':c[_0xd360('0x15')]=_0x55aca7;continue;case'8':c[_0xd360('0x18')]=_0x682876;continue;}break;}}(_0x4514b6);}});});};_0x2833ae[_0xd360('0x45')]=function(_0x2d7855){return Q[_0xd360('0x75')]((_0x22d2b0,_0x358ca4)=>{redisClient['get'](_0x2d7855,(_0x36dd22,_0x8cf159)=>{var _0x40ee4e={'IhKCN':function _0x44948e(_0xa818ab,_0x1e878e){return _0xa818ab!==_0x1e878e;},'AZJLC':_0xd360('0x81'),'FBmHa':_0xd360('0x82'),'Iiffd':function _0x456c04(_0x1d73a2,_0x426f5b){return _0x1d73a2===_0x426f5b;},'psLmh':_0xd360('0x83'),'vwibb':_0xd360('0x84'),'RODva':function _0x4b44ef(_0x31068c,_0x2eac5b){return _0x31068c(_0x2eac5b);},'dPtaw':_0xd360('0x59'),'IJQFJ':function _0x3d3665(_0x474d9d){return _0x474d9d();},'ItUVr':function _0x492606(_0x26c28c,_0x200e21){return _0x26c28c(_0x200e21);}};if(_0x40ee4e[_0xd360('0x85')](_0x40ee4e[_0xd360('0x86')],_0x40ee4e[_0xd360('0x86')])){var _0x39933b=_0x40ee4e['FBmHa'][_0xd360('0x14')]('|'),_0x173be6=0x0;while(!![]){switch(_0x39933b[_0x173be6++]){case'0':return _0x299192;continue;case'1':c[_0xd360('0x34')]=_0xa2e7f3;continue;case'2':c[_0xd360('0x17')]=_0x4e771a;continue;case'3':var _0x397aae={};continue;case'4':c[_0xd360('0x18')]=_0x208330;continue;case'5':c[_0xd360('0x19')]=_0x34231c;continue;case'6':c[_0xd360('0x15')]=_0x41e19e;continue;case'7':c[_0xd360('0x16')]=_0x3b6505;continue;case'8':c[_0xd360('0x1b')]=_0x1023fc;continue;}break;}}else{if(_0x36dd22){if(_0x40ee4e[_0xd360('0x87')](_0x40ee4e['psLmh'],_0x40ee4e['vwibb'])){if(_0x4ddb97){var _0x33b741=fn['apply'](_0x2a8bf9,_0x294bea);_0x27be60=null;return _0xede054;}}else{log[_0xd360('0x34')](_0xd360('0x61')+_0x2d7855);return _0x40ee4e[_0xd360('0x88')](_0x358ca4,_0x36dd22);}}if(!_0x8cf159){log[_0xd360('0x1b')](_0x40ee4e[_0xd360('0x89')]);return _0x40ee4e[_0xd360('0x8a')](_0x22d2b0);}return _0x40ee4e[_0xd360('0x8b')](_0x22d2b0,JSON[_0xd360('0x8c')](_0x8cf159));}});});};};