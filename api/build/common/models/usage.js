var _0xe71c=['SE9VUl9NSUxMSVNFQ09ORFM=','Y2RLZFc=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','dGhlbg==','Y3NqVlQ=','TFZ3UEQ=','TllrUWM=','VWVHR2g=','cnVZcGc=','UEtQ','aVNkbE8=','R3dqaVY=','cmhPcXk=','bFVx','cHVyUUo=','UldWSHI=','bnJ2YlY=','Qk12Tms=','b2RzbnM=','ZG93bmxvYWQ=','dG9NQnl0ZQ==','dmFsdWU=','dG9GaXhlZA==','dXBsb2Fk','c2Vzc2lvblRpbWU=','RkhEbkk=','Z2V0VGltZQ==','eGFUWWo=','eEhuQVI=','cUdQTmw=','aW54U0I=','bHhkV1M=','SHJFemI=','bGVuZ3Ro','bnZHTUs=','c3hLWXM=','RGtjbkY=','enZjV2o=','ZGF0ZQ==','a2V5','NHwyfDF8M3w2fDB8NQ==','TnpWU3g=','ZnJvbURhdGU=','c2Vzc2lvblJlcG9ydHM=','c2Vzc2lvbklk','cHVzaA==','TUZ2bm0=','bGd3bU0=','cWtBSXE=','R0R2dGs=','Tk5rUXM=','SVFIV2E=','YnlvR0M=','c1V4V0E=','ZmFpbA==','ZVBNcUQ=','Z2V0U2Vzc2lvbnNSZXBvcnQ=','Y3JlYXRpb25EYXRl','UXdTeUE=','Z2V0U2Vzc2lvblVzYWdl','Q3VoZEg=','UVhldkk=','UUdQa0M=','UHNQbXM=','bWVtYmVySWQ=','YWxs','Y2lTS3c=','UWZET2k=','V0xJ','bmp3','YlZC','UW5j','MnwzfDV8MHw4fDd8NHw2fDE=','TFJkaUY=','eWN3','Qk54Z2U=','aW1hdEo=','ZGVidWc=','bG9n','ZXhjZXB0aW9u','d2Fybg==','dHJhY2U=','TnFyWlY=','QlhGa2Q=','Q0lmZG0=','SkVkaGs=','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','YXBwbHk=','d1J5SmE=','Y29uc29sZQ==','MHwyfDZ8OHw0fDN8MXw3fDU=','ZmppRXI=','c3BsaXQ=','ZXJyb3I=','aW5mbw==','V01T','TEdR','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','MHwxfDN8Mnw0fDZ8NQ==','SGlEUEU=','ellTc2k=','eXRY','aGVOV3E=','S3l2U1k=','dHRxdk8=','dXRvUHk=','eERnRWE=','Y2NpZHA=','NXw4fDR8Nnw3fDJ8MXwzfDA=','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvYWdncmVnYXRlcw==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmlnLmpz','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','S2Fma2FDbGllbnQ=','ZW52','S0FGS0FfSVA=','UHJvZHVjZXI=','cmVhZHk=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','UHJvZHVjZXIgcmVhZHkuLi4=','U3ppRng=','Z09h','ZWN6YnM=','cmVmcmVzaE1ldGFkYXRh','QUNDT1VOVElOR19UT1BJQw==','dXFIRnI=','YXFT','RHRGQnA=','a3VCSXQ=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','ZVVzTlI=','dXNhZ2UgYWRkZWQ6','WHBQ','RE95','M3w0fDF8MHwy','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','Q2RF','b3FH','RlZB','QGdldFRyYWZmaWNVc2FnZSBmcm9tIGVsYXN0aWM=','RFBQbm8=','bkdFelA=','Q3ZP','VmpIYU4=','RnBaUWg=','UHJvbWlzZQ==','R0JYdmk=','Yk9tcU4=','Vk9vYkY=','c2VuZA==','c3RyaW5naWZ5','VXhGUUQ=','Z2V0QnVzaW5lc3NVc2FnZVJlcG9ydA==','V29raG8=','aHNVd3c=','WEd1QWk=','Q01McWY=','RmpKV3U=','cEFYZHg=','U053TXA=','THhlSkc=','RmJReFk=','YXdk','UnJaU1A=','S2RqaEs=','c1poUko=','ZkN1cVA=','TlJQbXQ=','ZnFlS3M=','b1BNclE=','dUlDQ0I=','ZkdZ','VEhOdkE=','QWpkTlA=','ZUNwc08=','c0p6SXQ=','b3Nyd1k=','d2hkSkM='];(function(_0x1ae5ab,_0xc5d441){var _0x1ce001=function(_0x5ef96d){while(--_0x5ef96d){_0x1ae5ab['push'](_0x1ae5ab['shift']());}};var _0x34e2d6=function(){var _0x51c055={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1461ad,_0x5af9cc,_0x18108f,_0x5a830e){_0x5a830e=_0x5a830e||{};var _0x190f74=_0x5af9cc+'='+_0x18108f;var _0x5af469=0x0;for(var _0x5af469=0x0,_0x25d44f=_0x1461ad['length'];_0x5af469<_0x25d44f;_0x5af469++){var _0x133727=_0x1461ad[_0x5af469];_0x190f74+=';\x20'+_0x133727;var _0x4c098d=_0x1461ad[_0x133727];_0x1461ad['push'](_0x4c098d);_0x25d44f=_0x1461ad['length'];if(_0x4c098d!==!![]){_0x190f74+='='+_0x4c098d;}}_0x5a830e['cookie']=_0x190f74;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1859da,_0x2596c2){_0x1859da=_0x1859da||function(_0x34e61a){return _0x34e61a;};var _0x236b20=_0x1859da(new RegExp('(?:^|;\x20)'+_0x2596c2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x161e1b=function(_0x2d6be9,_0x438d15){_0x2d6be9(++_0x438d15);};_0x161e1b(_0x1ce001,_0xc5d441);return _0x236b20?decodeURIComponent(_0x236b20[0x1]):undefined;}};var _0x416625=function(){var _0x377aae=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x377aae['test'](_0x51c055['removeCookie']['toString']());};_0x51c055['updateCookie']=_0x416625;var _0x15d392='';var _0x5bb066=_0x51c055['updateCookie']();if(!_0x5bb066){_0x51c055['setCookie'](['*'],'counter',0x1);}else if(_0x5bb066){_0x15d392=_0x51c055['getCookie'](null,'counter');}else{_0x51c055['removeCookie']();}};_0x34e2d6();}(_0xe71c,0x1ae));var _0xce71=function(_0xf04c6d,_0xe98786){_0xf04c6d=_0xf04c6d-0x0;var _0x4a804e=_0xe71c[_0xf04c6d];if(_0xce71['initialized']===undefined){(function(){var _0x3fd8f2;try{var _0x4045d3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3fd8f2=_0x4045d3();}catch(_0x292b7e){_0x3fd8f2=window;}var _0x37afd9='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3fd8f2['atob']||(_0x3fd8f2['atob']=function(_0x365fda){var _0x4522c2=String(_0x365fda)['replace'](/=+$/,'');for(var _0x46f819=0x0,_0x34c5fb,_0x1126a3,_0x31c4f3=0x0,_0x2467a5='';_0x1126a3=_0x4522c2['charAt'](_0x31c4f3++);~_0x1126a3&&(_0x34c5fb=_0x46f819%0x4?_0x34c5fb*0x40+_0x1126a3:_0x1126a3,_0x46f819++%0x4)?_0x2467a5+=String['fromCharCode'](0xff&_0x34c5fb>>(-0x2*_0x46f819&0x6)):0x0){_0x1126a3=_0x37afd9['indexOf'](_0x1126a3);}return _0x2467a5;});}());_0xce71['base64DecodeUnicode']=function(_0x598ff3){var _0x4c10bf=atob(_0x598ff3);var _0x1cff60=[];for(var _0x56f1e3=0x0,_0x58d663=_0x4c10bf['length'];_0x56f1e3<_0x58d663;_0x56f1e3++){_0x1cff60+='%'+('00'+_0x4c10bf['charCodeAt'](_0x56f1e3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1cff60);};_0xce71['data']={};_0xce71['initialized']=!![];}var _0x43a2a6=_0xce71['data'][_0xf04c6d];if(_0x43a2a6===undefined){var _0x1c8459=function(_0x3273c2){this['rc4Bytes']=_0x3273c2;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1c8459['prototype']['checkState']=function(){var _0x5b962d=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x5b962d['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x1c8459['prototype']['runState']=function(_0x517624){if(!Boolean(~_0x517624)){return _0x517624;}return this['getState'](this['rc4Bytes']);};_0x1c8459['prototype']['getState']=function(_0x3f5cad){for(var _0xa672e8=0x0,_0x16c4fb=this['states']['length'];_0xa672e8<_0x16c4fb;_0xa672e8++){this['states']['push'](Math['round'](Math['random']()));_0x16c4fb=this['states']['length'];}return _0x3f5cad(this['states'][0x0]);};new _0x1c8459(_0xce71)['checkState']();_0x4a804e=_0xce71['base64DecodeUnicode'](_0x4a804e);_0xce71['data'][_0xf04c6d]=_0x4a804e;}else{_0x4a804e=_0x43a2a6;}return _0x4a804e;};var _0x5b75d1=function(){var _0x5526ee=!![];return function(_0x969db5,_0x357100){var _0x3046f4=_0x5526ee?function(){if(_0x357100){var _0x596f96=_0x357100['apply'](_0x969db5,arguments);_0x357100=null;return _0x596f96;}}:function(){};_0x5526ee=![];return _0x3046f4;};}();var _0x7baadf=_0x5b75d1(this,function(){var _0x2b10c6=function(){return'\x64\x65\x76';},_0x185590=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x39c8c5=function(){var _0x196cec=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x196cec['\x74\x65\x73\x74'](_0x2b10c6['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x266285=function(){var _0x1080e8=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1080e8['\x74\x65\x73\x74'](_0x185590['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x23bbaa=function(_0x446b17){var _0x4e281c=~-0x1>>0x1+0xff%0x0;if(_0x446b17['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x4e281c)){_0x41030e(_0x446b17);}};var _0x41030e=function(_0x27925d){var _0x30f33d=~-0x4>>0x1+0xff%0x0;if(_0x27925d['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x30f33d){_0x23bbaa(_0x27925d);}};if(!_0x39c8c5()){if(!_0x266285()){_0x23bbaa('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x23bbaa('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x23bbaa('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x7baadf();var _0x42090f=function(){var _0x137809={'BXFkd':function _0x47efcc(_0x1a2d05,_0x5c9b91){return _0x1a2d05===_0x5c9b91;},'CIfdm':_0xce71('0x0'),'JEdhk':_0xce71('0x1'),'NqrZV':_0xce71('0x2'),'LRdiF':function _0x2d1eec(_0x49d232,_0x29df51){return _0x49d232===_0x29df51;},'BNxge':_0xce71('0x3'),'imatJ':_0xce71('0x4')};if(_0x137809[_0xce71('0x5')](_0xce71('0x6'),_0x137809[_0xce71('0x7')])){var _0x252efd=_0x137809[_0xce71('0x8')]['split']('|'),_0xe394d7=0x0;while(!![]){switch(_0x252efd[_0xe394d7++]){case'0':c[_0xce71('0x9')]=_0x2dd774;continue;case'1':return _0x32f241;continue;case'2':var _0x43efee={};continue;case'3':c[_0xce71('0xa')]=_0x263f93;continue;case'4':c[_0xce71('0xb')]=_0x130cb6;continue;case'5':c[_0xce71('0xc')]=_0x404e29;continue;case'6':c[_0xce71('0xd')]=_0x341bff;continue;case'7':c['error']=_0x36823a;continue;case'8':c['info']=_0x36fd31;continue;}break;}}else{var _0x29bf04=!![];return function(_0x267ec4,_0x42f1d2){var _0x1af3f1={'wRyJa':function _0x3b3131(_0x225577,_0x15c4de){return _0x137809['BXFkd'](_0x225577,_0x15c4de);},'GMCyq':_0x137809[_0xce71('0xe')]};var _0xcc3f0b=_0x29bf04?function(){if(_0x42f1d2){if(_0x137809[_0xce71('0xf')](_0x137809[_0xce71('0x10')],_0x137809[_0xce71('0x11')])){_0x6ab57f=config[_0xce71('0x12')];}else{var _0x50cedf=_0x42f1d2[_0xce71('0x13')](_0x267ec4,arguments);_0x42f1d2=null;return _0x50cedf;}}}:function(){if(_0x1af3f1[_0xce71('0x14')](_0x1af3f1['GMCyq'],'bVB')){}else{that[_0xce71('0x15')]=function(_0x21ff24){var _0x39f068={'fjiEr':_0xce71('0x16')};var _0x274df=_0x39f068[_0xce71('0x17')][_0xce71('0x18')]('|'),_0x3132fb=0x0;while(!![]){switch(_0x274df[_0x3132fb++]){case'0':var _0x14206f={};continue;case'1':c[_0xce71('0xb')]=_0x45d32b;continue;case'2':c[_0xce71('0xa')]=_0x450d59;continue;case'3':c[_0xce71('0x19')]=_0x47295b;continue;case'4':c[_0xce71('0x1a')]=_0x10fa40;continue;case'5':return _0x3030fb;continue;case'6':c[_0xce71('0xc')]=_0x36e67c;continue;case'7':c['trace']=_0x2f4dcf;continue;case'8':c['debug']=_0x5d18bb;continue;}break;}}(_0x389c76);}};_0x29bf04=![];return _0xcc3f0b;};}}();var _0x1e0320=_0x42090f(this,function(){var _0x241685={'VWjkP':function _0x4da607(_0x21b1e7,_0x31bcb6){return _0x21b1e7!==_0x31bcb6;},'HiDPE':_0xce71('0x1b'),'zYSsi':function _0x428141(_0x3d4c8c,_0x22f872){return _0x3d4c8c!==_0x22f872;},'heNWq':_0xce71('0x1c'),'KyvSY':function _0x445324(_0x4e7133,_0x56e5d8){return _0x4e7133(_0x56e5d8);},'ttqvO':function _0x6d815d(_0x209d2b,_0x254b3b){return _0x209d2b+_0x254b3b;},'utoPy':_0xce71('0x1d'),'bJNzN':_0xce71('0x1e'),'xDgEa':function _0x1614df(_0x55d88e){return _0x55d88e();},'ccidp':_0xce71('0x1f'),'JQkBr':_0xce71('0x20')};if(_0x241685['VWjkP'](_0x241685[_0xce71('0x21')],'WMS')){}else{var _0x5621fb=function(){};var _0x550ab3;try{if(_0x241685[_0xce71('0x22')](_0xce71('0x23'),_0x241685[_0xce71('0x24')])){var _0x86642a=_0x241685[_0xce71('0x25')](Function,_0x241685[_0xce71('0x26')](_0x241685[_0xce71('0x27')]+_0x241685['bJNzN'],');'));_0x550ab3=_0x241685[_0xce71('0x28')](_0x86642a);}else{log[_0xce71('0x19')](_0x241685[_0xce71('0x29')],_0x4fbf69);return;}}catch(_0x1c6fac){_0x550ab3=window;}if(!_0x550ab3[_0xce71('0x15')]){_0x550ab3[_0xce71('0x15')]=function(_0x344e16){var _0x252d5f=_0xce71('0x2a')['split']('|'),_0x586628=0x0;while(!![]){switch(_0x252d5f[_0x586628++]){case'0':return _0x34cbda;continue;case'1':_0x34cbda['exception']=_0x344e16;continue;case'2':_0x34cbda[_0xce71('0x19')]=_0x344e16;continue;case'3':_0x34cbda[_0xce71('0xd')]=_0x344e16;continue;case'4':_0x34cbda[_0xce71('0xc')]=_0x344e16;continue;case'5':var _0x34cbda={};continue;case'6':_0x34cbda[_0xce71('0x9')]=_0x344e16;continue;case'7':_0x34cbda[_0xce71('0x1a')]=_0x344e16;continue;case'8':_0x34cbda['log']=_0x344e16;continue;}break;}}(_0x5621fb);}else{var _0x13d0f0=_0x241685['JQkBr'][_0xce71('0x18')]('|'),_0x5858a1=0x0;while(!![]){switch(_0x13d0f0[_0x5858a1++]){case'0':_0x550ab3[_0xce71('0x15')][_0xce71('0xa')]=_0x5621fb;continue;case'1':_0x550ab3[_0xce71('0x15')][_0xce71('0xc')]=_0x5621fb;continue;case'2':_0x550ab3['console'][_0xce71('0x1a')]=_0x5621fb;continue;case'3':_0x550ab3[_0xce71('0x15')][_0xce71('0x9')]=_0x5621fb;continue;case'4':_0x550ab3[_0xce71('0x15')]['error']=_0x5621fb;continue;case'5':_0x550ab3[_0xce71('0x15')][_0xce71('0xd')]=_0x5621fb;continue;case'6':_0x550ab3['console'][_0xce71('0xb')]=_0x5621fb;continue;}break;}}}});_0x1e0320();'use strict';var app=require(_0xce71('0x2b'));var utility=require('../../server/modules/utility');var Q=require('q');var kafka=require('kafka-node');var aggregate=require(_0xce71('0x2c'));var config=require(_0xce71('0x2d'));var logger=require(_0xce71('0x2e'));var log=logger[_0xce71('0x2f')]();var _=require('underscore');var kafkaClient=new kafka[(_0xce71('0x30'))]({'kafkaHost':process[_0xce71('0x31')][_0xce71('0x32')]+':'+process[_0xce71('0x31')]['KAFKA_PORT']});var kafkaProducer=new kafka[(_0xce71('0x33'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0xce71('0x34'),function(){var _0x576aca={'uqHFr':function _0x97e270(_0x5c454b,_0x15ca84){return _0x5c454b===_0x15ca84;},'OFPDQ':'aqS','iyLrj':_0xce71('0x35'),'DtFBp':_0xce71('0x36'),'SziFx':function _0x577b08(_0x3473ef,_0x71ff08){return _0x3473ef===_0x71ff08;},'eczbs':'gOa','FopnM':function _0x75c8a5(_0x423f3b,_0x5721eb){return _0x423f3b+_0x5721eb;},'kuBIt':function _0x3b7891(_0xb1d8f8){return _0xb1d8f8();}};if(_0x576aca[_0xce71('0x37')](_0xce71('0x38'),_0x576aca[_0xce71('0x39')])){log[_0xce71('0xc')](_0xce71('0x36'));kafkaClient[_0xce71('0x3a')]([config[_0xce71('0x3b')]],function(_0x5af0b2){if(_0x576aca[_0xce71('0x3c')](_0x576aca['OFPDQ'],_0xce71('0x3d'))){log[_0xce71('0x9')](_0x576aca['iyLrj'],_0x5af0b2);}else{log['warn'](_0x576aca[_0xce71('0x3e')]);kafkaClient[_0xce71('0x3a')]([config[_0xce71('0x3b')]],function(_0x15d822){log[_0xce71('0x9')](_0xce71('0x35'),_0x4d0448);});}});}else{var _0x27b038=_0x30e75e(_0x576aca['FopnM']('return\x20(function()\x20'+_0xce71('0x1e'),');'));_0xd6a47b=_0x576aca[_0xce71('0x3f')](_0x12841d);}});kafkaProducer['on'](_0xce71('0x19'),function(_0x3e93ac){var _0x19cb27={'eUsNR':_0xce71('0x40')};log['error'](_0x19cb27[_0xce71('0x41')],_0x3e93ac);});module['exports']=function(_0x3142a3){var _0x5abcfc={'GBXvi':_0xce71('0x1f'),'bOmqN':_0xce71('0x42'),'VOobF':_0xce71('0x43'),'VERvP':function _0x3171f6(_0x41a719,_0xa3bbde){return _0x41a719!==_0xa3bbde;},'VjHaN':_0xce71('0x44'),'FpZQh':'mQa','Wokho':'mbH','hsUww':_0xce71('0x45'),'mBWLI':_0xce71('0x46'),'DPPno':function _0x1ae155(_0x28fece,_0x1186b2){return _0x28fece===_0x1186b2;},'XGuAi':function _0x371918(_0x37d5bc,_0x1b0052){return _0x37d5bc-_0x1b0052;},'CMLqf':'0|6|2|5|3|1|4','FjJWu':_0xce71('0x47'),'bxAwO':function _0x296b90(_0x3decaf,_0x2c0cc8){return _0x3decaf(_0x2c0cc8);},'bjpMs':_0xce71('0x48'),'pAXdx':'WDf','SNwMp':function _0x5455(_0x1bb2e3,_0x80c52a){return _0x1bb2e3/_0x80c52a;},'LxeJG':_0xce71('0x49'),'FbQxY':_0xce71('0x4a'),'QGPkC':'eCy','BEbrP':function _0x4d488c(_0x55c805,_0x1eb928){return _0x55c805(_0x1eb928);},'PsPms':function _0x2d06dc(_0xb08564,_0x22321d){return _0xb08564<_0x22321d;},'CuhdH':function _0x5e8ebd(_0x7757f0,_0x39987f){return _0x7757f0<_0x39987f;},'QXevI':function _0x48c3d6(_0x2267b6,_0xb1d03b){return _0x2267b6/_0xb1d03b;},'nGEzP':'CvO'};if(_0x5abcfc[_0xce71('0x4b')](_0x5abcfc[_0xce71('0x4c')],_0xce71('0x4d'))){_0x3142a3['addUsageReport']=function(_0x467a9e){if(_0x5abcfc['VERvP'](_0x5abcfc[_0xce71('0x4e')],_0x5abcfc[_0xce71('0x4f')])){return Q[_0xce71('0x50')](function(_0xff2f,_0x15999c){var _0x47b1e9={'bvnEF':_0x5abcfc[_0xce71('0x51')],'UxFQD':_0x5abcfc[_0xce71('0x52')]};if(_0x5abcfc[_0xce71('0x53')]!==_0x5abcfc[_0xce71('0x53')]){_0x10ec15=_0x558c47;}else{kafkaProducer[_0xce71('0x54')]([{'topic':config[_0xce71('0x3b')],'messages':JSON[_0xce71('0x55')](_0x467a9e)}],function(_0x19d89f,_0x296e96){if(_0x19d89f){log[_0xce71('0x19')](_0x47b1e9['bvnEF'],_0x19d89f);return;}log[_0xce71('0x9')](_0x47b1e9[_0xce71('0x56')],_0x296e96);});return _0xff2f();}});}else{var _0x3be280=_0x467911?function(){if(_0x563eb4){var _0x2d2ae0=fn['apply'](_0xcbd1fa,_0x4c0607);_0x2b270b=null;return _0xadc100;}}:function(){};_0x600db=![];return _0x43b914;}};_0x3142a3[_0xce71('0x57')]=function(_0x4839bd,_0x40355f,_0x13aec8,_0x455749,_0x1d6cad,_0x41512c){var _0x12d4f6={'RrZSP':_0x5abcfc[_0xce71('0x58')],'vhKcN':_0x5abcfc[_0xce71('0x59')],'KdjhK':function _0x2085df(_0x548dd5,_0x2fd6ce){return _0x548dd5+_0x2fd6ce;},'sZhRJ':_0x5abcfc['mBWLI'],'fCuqP':function _0x95166(_0x320c83,_0x342af7){return _0x5abcfc[_0xce71('0x4b')](_0x320c83,_0x342af7);},'oPMrQ':function _0x3b61dd(_0x253674,_0x94c778){return _0x253674<_0x94c778;},'NRPmt':function _0x21ff72(_0x3c8bd9,_0x2602c0){return _0x3c8bd9!==_0x2602c0;},'fqeKs':'Lne','uICCB':function _0x5a66b9(_0xbc5f8f,_0x124b94){return _0x5abcfc[_0xce71('0x5a')](_0xbc5f8f,_0x124b94);},'THNvA':_0x5abcfc[_0xce71('0x5b')],'FgpfZ':_0x5abcfc[_0xce71('0x5c')],'AjdNP':function _0x19d050(_0x4d9fb6,_0x2526c0){return _0x5abcfc['bxAwO'](_0x4d9fb6,_0x2526c0);},'eCpsO':_0x5abcfc['bjpMs'],'sJzIt':_0x5abcfc[_0xce71('0x5d')],'osrwY':function _0x50f841(_0xc3e264,_0x5e0f4b){return _0x5abcfc[_0xce71('0x5e')](_0xc3e264,_0x5e0f4b);},'whdJC':_0x5abcfc[_0xce71('0x5f')],'cdKdW':_0x5abcfc[_0xce71('0x60')]};return Q[_0xce71('0x50')](function(_0x56d2c8,_0x12eaa1){var _0x581dd8={'csjVT':_0xce71('0x61'),'LVwPD':_0x12d4f6[_0xce71('0x62')],'jTecp':_0x12d4f6['vhKcN'],'NYkQc':function _0x34bf89(_0x57d95f,_0x3419aa){return _0x12d4f6[_0xce71('0x63')](_0x57d95f,_0x3419aa);},'gNRVs':_0x12d4f6[_0xce71('0x64')],'UeGGh':function _0x36d6f8(_0x857b33,_0x1ccf51){return _0x12d4f6[_0xce71('0x65')](_0x857b33,_0x1ccf51);},'ruYpg':function _0x31896c(_0x27ba4c,_0x3512ff){return _0x12d4f6['oPMrQ'](_0x27ba4c,_0x3512ff);},'vriYh':function _0x439b08(_0x177cab,_0x17a6bb){return _0x12d4f6[_0xce71('0x66')](_0x177cab,_0x17a6bb);},'BMHEH':_0x12d4f6[_0xce71('0x67')],'iSdlO':function _0x1d2d61(_0x221698,_0x36fc52){return _0x12d4f6[_0xce71('0x68')](_0x221698,_0x36fc52);},'GwjiV':function _0x1cdd40(_0x4c161a,_0x1a35fb){return _0x12d4f6[_0xce71('0x69')](_0x4c161a,_0x1a35fb);},'rhOqy':_0xce71('0x6a'),'purQJ':_0x12d4f6[_0xce71('0x6b')],'RWVHr':_0x12d4f6['FgpfZ'],'nrvbV':function _0x497b5d(_0x26e1fc,_0x3fc82d){return _0x12d4f6[_0xce71('0x6c')](_0x26e1fc,_0x3fc82d);},'BMvNk':function _0x4fa968(_0x7d5297,_0x537dc3){return _0x12d4f6[_0xce71('0x68')](_0x7d5297,_0x537dc3);},'FKOSv':_0x12d4f6[_0xce71('0x6d')],'odsns':_0x12d4f6[_0xce71('0x6e')],'FHDnI':function _0x8b4c67(_0x15855b,_0x4c0e90){return _0x12d4f6[_0xce71('0x6f')](_0x15855b,_0x4c0e90);},'XCXCR':function _0x438cb3(_0x3a0a01,_0x2417af){return _0x12d4f6[_0xce71('0x66')](_0x3a0a01,_0x2417af);},'ePMqD':_0x12d4f6[_0xce71('0x70')],'QwSyA':function _0x1255d7(_0xfa603d,_0x4e9035){return _0x12d4f6[_0xce71('0x6c')](_0xfa603d,_0x4e9035);}};_0x455749=-_0x455749*config['AGGREGATE'][_0xce71('0x71')];log['debug'](_0x12d4f6[_0xce71('0x72')]);aggregate[_0xce71('0x73')](_0x13aec8,_0x4839bd,_0x40355f)[_0xce71('0x74')](function(_0x3e7aae){var _0x5d69f5={'GPePd':function _0xdfaaea(_0x2cc8ee){return _0x2cc8ee();},'xaTYj':function _0x4e6679(_0x4b46f5,_0x5553b1){return _0x4b46f5===_0x5553b1;},'xHnAR':_0x581dd8[_0xce71('0x75')],'qGPNl':_0x581dd8[_0xce71('0x76')],'hXIBq':_0x581dd8['jTecp'],'inxSB':function _0x251ccd(_0x132cec,_0x5a2e70){return _0x581dd8[_0xce71('0x77')](_0x132cec,_0x5a2e70);},'lxdWS':_0x581dd8['gNRVs'],'HrEzb':function _0x2b3de5(_0xa80001,_0x47cb09){return _0x581dd8[_0xce71('0x78')](_0xa80001,_0x47cb09);},'nvGMK':function _0xd40fbf(_0x145c5f,_0x1fae9f){return _0x581dd8[_0xce71('0x79')](_0x145c5f,_0x1fae9f);},'sxKYs':function _0x3ec545(_0x5e56c4,_0x4dab99){return _0x581dd8['vriYh'](_0x5e56c4,_0x4dab99);},'DkcnF':_0xce71('0x7a'),'zvcWj':_0x581dd8['BMHEH'],'NzVSx':function _0x8fb04d(_0x4b833e,_0x3c95b0){return _0x581dd8[_0xce71('0x7b')](_0x4b833e,_0x3c95b0);},'PvIOV':function _0x327abc(_0x4bf2e4,_0x549e95){return _0x581dd8[_0xce71('0x7c')](_0x4bf2e4,_0x549e95);},'TUPGA':function _0x3587a0(_0x4b968c,_0x1b7750){return _0x4b968c!==_0x1b7750;},'MFvnm':_0x581dd8[_0xce71('0x7d')],'qkAIq':_0xce71('0x7e'),'GDvtk':_0x581dd8[_0xce71('0x7f')],'NNkQs':function _0x14b1af(_0x2b889e,_0x15cc64){return _0x581dd8['iSdlO'](_0x2b889e,_0x15cc64);},'IQHWa':_0x581dd8[_0xce71('0x80')],'byoGC':function _0x3aab9b(_0x518587,_0x4089b8){return _0x581dd8[_0xce71('0x81')](_0x518587,_0x4089b8);},'sUxWA':function _0x358f1b(_0x34a70e,_0xda49f3){return _0x581dd8[_0xce71('0x82')](_0x34a70e,_0xda49f3);}};if(_0x581dd8['FKOSv']===_0x581dd8[_0xce71('0x83')]){var _0x5a12f9=sessionReportList[k];res[_0xce71('0x84')]=utility[_0xce71('0x85')](sessionReport[_0xce71('0x84')][_0xce71('0x86')])[_0xce71('0x87')](0x0);res[_0xce71('0x88')]=utility['toMByte'](sessionReport[_0xce71('0x88')][_0xce71('0x86')])[_0xce71('0x87')](0x0);res[_0xce71('0x89')]=_0x581dd8[_0xce71('0x8a')](new _0x2123b2()[_0xce71('0x8b')]()-_0x2b12e8,0xea60)['toFixed'](0x0);}else{if(_0x3e7aae<config['DEFAULT_AGGREGATION_SIZE']){_0x3e7aae=config['DEFAULT_AGGREGATION_SIZE'];}aggregate['getMemberTrafficUsageReport'](_0x4839bd,_0x40355f,_0x13aec8,_0x455749,_0x1d6cad,_0x3e7aae)[_0xce71('0x74')](function(_0x40ca83){if(_0x5d69f5[_0xce71('0x8c')](_0x5d69f5[_0xce71('0x8d')],_0x5d69f5[_0xce71('0x8e')])){log[_0xce71('0x19')](_0xce71('0x40'),_0x338bfe);}else{var _0x253d6d=_0x5d69f5['hXIBq'][_0xce71('0x18')]('|'),_0x919cba=0x0;while(!![]){switch(_0x253d6d[_0x919cba++]){case'0':log[_0xce71('0x9')](_0x5d69f5[_0xce71('0x8f')](_0x5d69f5[_0xce71('0x90')],JSON['stringify'](_0x1620a5)));continue;case'1':if(_0x5d69f5[_0xce71('0x91')](_0x41512c[_0xce71('0x92')],0x0)){for(var _0x3cf739=0x0;_0x5d69f5[_0xce71('0x93')](_0x3cf739,_0x40ca83['length']);_0x3cf739++){if(_0x5d69f5[_0xce71('0x94')](_0x5d69f5[_0xce71('0x95')],_0x5d69f5[_0xce71('0x96')])){_0x1620a5[_0xce71('0x97')][_0x3cf739]=_0x40ca83[_0x3cf739][_0xce71('0x98')];_0x1620a5[_0xce71('0x84')][_0x3cf739]=utility[_0xce71('0x85')](_0x40ca83[_0x3cf739][_0xce71('0x84')]['value'])[_0xce71('0x87')](0x0);_0x1620a5[_0xce71('0x88')][_0x3cf739]=utility[_0xce71('0x85')](_0x40ca83[_0x3cf739][_0xce71('0x88')]['value'])[_0xce71('0x87')](0x0);}else{var _0x20f1a8=_0xce71('0x99')[_0xce71('0x18')]('|'),_0x56ea17=0x0;while(!![]){switch(_0x20f1a8[_0x56ea17++]){case'0':for(var _0xda37c9=0x0;_0x5d69f5[_0xce71('0x9a')](_0x236caf,sessionReportList[_0xce71('0x92')]);_0x1a19f1++){var _0x4103dd=sessionReportList[k];res[_0xce71('0x84')]=utility['toMByte'](sessionReport[_0xce71('0x84')]['value'])[_0xce71('0x87')](0x0);res['upload']=utility[_0xce71('0x85')](sessionReport[_0xce71('0x88')][_0xce71('0x86')])[_0xce71('0x87')](0x0);res[_0xce71('0x89')]=(_0x5d69f5['PvIOV'](new _0x5ac782()[_0xce71('0x8b')](),_0x9ecb63)/0xea60)[_0xce71('0x87')](0x0);}continue;case'1':var _0x2ff709=reportResult[_0xce71('0x9b')];continue;case'2':var _0x57bfa0=reportResult[_0xce71('0x9c')];continue;case'3':var _0x598e04=reportResult[_0xce71('0x9d')];continue;case'4':var _0x20f0a7=tasksResult[n];continue;case'5':report[_0xce71('0x9e')](_0x3fb7c3);continue;case'6':var _0x5cad03=ownersDictionary[reportSessionId];continue;}break;}}}}else{if(_0x5d69f5['TUPGA'](_0x5d69f5[_0xce71('0x9f')],_0x5d69f5[_0xce71('0x9f')])){return Q[_0xce71('0x50')](function(_0x3c5236,_0x282833){var _0x11dfa3={'lgwmM':'Failed\x20to\x20add\x20accounting\x20to\x20kafka:\x20'};kafkaProducer[_0xce71('0x54')]([{'_0x198433':config[_0xce71('0x3b')],'_0x1b1416':JSON[_0xce71('0x55')](_0x3e284e)}],function(_0x5ae567,_0x290214){if(_0x20fa81){log['error'](_0x11dfa3[_0xce71('0xa0')],_0x4ec6aa);return;}log[_0xce71('0x9')]('usage\x20added:',_0x288642);});return _0x5d69f5['GPePd'](_0x313e94);});}else{var _0x22ad2f=0x0;var _0x508df8=0x0;for(var _0x7874ec in _0x41512c){if(_0x5d69f5['qkAIq']===_0x5d69f5[_0xce71('0xa1')]){var _0x53ec81=_0x5d69f5[_0xce71('0xa2')][_0xce71('0x18')]('|'),_0x26dca6=0x0;while(!![]){switch(_0x53ec81[_0x26dca6++]){case'0':var _0x26f109=0x0;continue;case'1':_0x1620a5[_0xce71('0x84')][_0x7874ec]=utility[_0xce71('0x85')](_0x26f109)[_0xce71('0x87')](0x2);continue;case'2':_0x22ad2f+=_0x41512c[_0x7874ec];continue;case'3':_0x1620a5[_0xce71('0x97')][_0x7874ec]=_0x40ca83[_0x22ad2f][_0xce71('0x98')];continue;case'4':_0x1620a5['upload'][_0x7874ec]=utility['toMByte'](_0x39b8b9)[_0xce71('0x87')](0x2);continue;case'5':for(_0x508df8;_0x5d69f5[_0xce71('0xa3')](_0x508df8,_0x22ad2f);_0x508df8++){if(_0x5d69f5[_0xce71('0xa4')]!==_0xce71('0x47')){log[_0xce71('0x19')](_0x46c5a3);return _0x5d69f5[_0xce71('0xa5')](_0x26d7f1,_0x9bbdb8);}else{_0x26f109+=_0x40ca83[_0x508df8]['download'][_0xce71('0x86')];_0x39b8b9+=_0x40ca83[_0x508df8][_0xce71('0x88')][_0xce71('0x86')];}}continue;case'6':var _0x39b8b9=0x0;continue;}break;}}else{var _0x3e9f7c=0x0;var _0x5c0803=0x0;for(var _0x16530f in _0x2cae56){var _0xf305ce=0x0;var _0x1733ab=0x0;_0x49ce05+=_0x41512c[_0x7874ec];for(_0x201bed;_0x5d69f5[_0xce71('0xa6')](_0x5bbf45,_0x250094);_0x5c8506++){_0x4761a1+=_0x40ca83[_0x508df8][_0xce71('0x84')]['value'];_0x3fb120+=_0x40ca83[_0x508df8][_0xce71('0x88')][_0xce71('0x86')];}_0x1620a5[_0xce71('0x97')][_0x7874ec]=_0x40ca83[_0x22ad2f][_0xce71('0x98')];_0x1620a5[_0xce71('0x84')][_0x7874ec]=utility['toMByte'](_0x43bb09)[_0xce71('0x87')](0x2);_0x1620a5[_0xce71('0x88')][_0x7874ec]=utility[_0xce71('0x85')](_0x59118d)[_0xce71('0x87')](0x2);}}}}}continue;case'2':return _0x56d2c8(_0x1620a5);continue;case'3':var _0x1620a5={'date':[],'download':[],'upload':[]};continue;case'4':_0x41512c=_0x41512c||[];continue;}break;}}})[_0xce71('0xa7')](function(_0x5412f1){log['error'](_0x5412f1);return _0x12eaa1(_0x5412f1);});}})[_0xce71('0xa7')](function(_0x1a80d9){if(_0x581dd8['XCXCR']('FVA',_0x581dd8[_0xce71('0xa8')])){var _0x4a832a=sessionList[i];var _0x9f8590=singleSession['id'];ownersDictionary[sessionId]=_0x33a870;sessionReportFunc[_0xce71('0x9e')](aggregate[_0xce71('0xa9')](singleSession[_0xce71('0xaa')],singleSession['memberId'],_0x91a8d3));}else{log[_0xce71('0x19')](_0x1a80d9);return _0x581dd8[_0xce71('0xab')](_0x12eaa1,_0x1a80d9);}});});};_0x3142a3[_0xce71('0xac')]=function(_0x4c82c7){var _0x11e44c={'sROkc':function _0x4c7911(_0x344423,_0xe7b9b9){return _0x5abcfc[_0xce71('0xad')](_0x344423,_0xe7b9b9);},'WCvWM':function _0x263dd(_0x3442b5,_0x10419f){return _0x5abcfc[_0xce71('0xae')](_0x3442b5,_0x10419f);},'ciSKw':function _0x44fc86(_0x4d7368,_0x416d02){return _0x5abcfc[_0xce71('0x5a')](_0x4d7368,_0x416d02);},'QfDOi':function _0x1057e2(_0xa8bb50,_0x17cc69){return _0xa8bb50(_0x17cc69);}};return Q[_0xce71('0x50')](function(_0x48b2d8,_0x14f33b){var _0xec5c63={'LXTTp':function _0x3ebb99(_0x2bc663,_0x426ba0){return _0x2bc663(_0x426ba0);}};if(_0x5abcfc[_0xce71('0xaf')]!=='eCy'){log['error'](_0x236a08);return _0x5abcfc['BEbrP'](_0x70ef6c,_0x1489e9);}else{var _0x489bc5=[];var _0x14c48c={};for(var _0xa851d7=0x0;_0x5abcfc[_0xce71('0xb0')](_0xa851d7,_0x4c82c7['length']);_0xa851d7++){var _0x40c4d3=_0x4c82c7[_0xa851d7];var _0x355d85=_0x40c4d3['id'];_0x14c48c[_0x355d85]=_0x40c4d3;_0x489bc5[_0xce71('0x9e')](aggregate['getSessionsReport'](_0x40c4d3[_0xce71('0xaa')],_0x40c4d3[_0xce71('0xb1')],_0x355d85));}Q[_0xce71('0xb2')](_0x489bc5)[_0xce71('0x74')](function(_0x316e67){var _0x587c71=[];for(var _0x3d89c8=0x0;_0x3d89c8<_0x316e67[_0xce71('0x92')];_0x3d89c8++){var _0x4a1913='2|4|3|5|1|0|6'[_0xce71('0x18')]('|'),_0x5fb823=0x0;while(!![]){switch(_0x4a1913[_0x5fb823++]){case'0':for(var _0x3e330e=0x0;_0x11e44c['sROkc'](_0x3e330e,_0x1d2707[_0xce71('0x92')]);_0x3e330e++){var _0x250b5e=_0x1d2707[_0x3e330e];_0x58b2d7['download']=utility['toMByte'](_0x250b5e[_0xce71('0x84')][_0xce71('0x86')])[_0xce71('0x87')](0x0);_0x58b2d7['upload']=utility[_0xce71('0x85')](_0x250b5e[_0xce71('0x88')][_0xce71('0x86')])[_0xce71('0x87')](0x0);_0x58b2d7['sessionTime']=_0x11e44c['WCvWM'](_0x11e44c[_0xce71('0xb3')](new Date()[_0xce71('0x8b')](),_0x31ad7a),0xea60)[_0xce71('0x87')](0x0);}continue;case'1':var _0x58b2d7=_0x14c48c[_0x421142];continue;case'2':var _0x201510=_0x316e67[_0x3d89c8];continue;case'3':var _0x31ad7a=_0x201510[_0xce71('0x9b')];continue;case'4':var _0x1d2707=_0x201510['sessionReports'];continue;case'5':var _0x421142=_0x201510['sessionId'];continue;case'6':_0x587c71['push'](_0x58b2d7);continue;}break;}}return _0x11e44c[_0xce71('0xb4')](_0x48b2d8,{'data':_0x587c71});})[_0xce71('0xa7')](function(_0xa062d6){log['error'](_0xa062d6);return _0xec5c63['LXTTp'](_0x14f33b,_0xa062d6);});}});};}else{}};