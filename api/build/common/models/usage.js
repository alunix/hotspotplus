var _0x7eab=['Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','S2Fma2FDbGllbnQ=','ZW52','S0FGS0FfSVA=','UHJvZHVjZXI=','cmVhZHk=','YXZL','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','UVRq','VkZNYWc=','T21rTmY=','QUNDT1VOVElOR19UT1BJQw==','TVNPd0c=','NXwwfDF8NHwzfDJ8Ng==','ZGF0ZQ==','T0RlSHY=','R1NQdnM=','ZXhwb3J0cw==','WXNI','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','dXNhZ2UgYWRkZWQ6','b3hxaU8=','Z0JD','c2VuZA==','bXRDdUc=','Uk5V','Z2lY','ZVhOdXA=','UENRR0k=','TVBXRng=','QXJweHE=','TktZSEg=','Z2V0QnVzaW5lc3NVc2FnZVJlcG9ydA==','Qll2','QU1uSVk=','a2xz','UHJvbWlzZQ==','dGtLUng=','aUVKRUc=','QWFEalY=','SE9VUl9NSUxMSVNFQ09ORFM=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','dGhlbg==','enFrS2g=','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','Z2V0TWVtYmVyVHJhZmZpY1VzYWdlUmVwb3J0','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','cWF4','SHdq','WHJLUm8=','dEt0Tmw=','ZW1Cekc=','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','T1lD','SmtQ','Z0FGWUw=','eG5Bbnc=','eEVZbGs=','cGdhamI=','Q2doelg=','QkhYWFA=','RXJtc04=','Rk9GbXM=','akx1VWo=','Rm9GTlM=','c3RyaW5naWZ5','TlJ1UVU=','cHVzaA==','Z2V0U2Vzc2lvbnNSZXBvcnQ=','bWVtYmVySWQ=','ZGxqbVA=','ZmFpbA==','WVdpVXg=','dkJ5S3Y=','QkNuZE4=','QVp1eW4=','Z2V0U2Vzc2lvblVzYWdl','SEJU','bGdw','ZnN1','WGZubmc=','VlhiTE0=','TkNnSE4=','bEZnd04=','UFFEeWQ=','ak5S','d2pYaEc=','bUNERGw=','S0ltb0Y=','bkNOVWE=','c2Vzc2lvblJlcG9ydHM=','c2Vzc2lvbklk','QkZiYnQ=','SWdp','ZnJvbURhdGU=','c2Vzc2lvblRpbWU=','Z2V0VGltZQ==','QnBrdXA=','ZEtHZVI=','TGVY','c3hZeGs=','Mnw3fDR8MXw1fDB8OHwzfDY=','Wm56aW4=','YlFWc3g=','V096aFg=','QURjQVc=','Y29uc29sZQ==','bG9n','d2Fybg==','ZGVidWc=','aW5mbw==','ZXJyb3I=','ZXhjZXB0aW9u','dHJhY2U=','YXBwbHk=','RGZF','VVBxaWo=','T1lrUkQ=','cmV0dXJuIChmdW5jdGlvbigpIA==','bFlV','Z3lEQVU=','aVBXYVE=','RllhQ24=','b2pUbUQ=','MHwzfDZ8NXw3fDR8MXw4fDI=','RFlweHA=','c3BsaXQ=','Ymp5SHA=','ckpia04=','TWl1alU=','cmlmZmg=','bGVuZ3Ro','a2V5','ZG93bmxvYWQ=','dG9NQnl0ZQ==','dmFsdWU=','dG9GaXhlZA==','dXBsb2Fk','NXwwfDN8Mnw2fDF8NA==','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmlnLmpz'];(function(_0x2bd218,_0x497e02){var _0x4ba40d=function(_0x3dbb2b){while(--_0x3dbb2b){_0x2bd218['push'](_0x2bd218['shift']());}};var _0x1baaf8=function(){var _0x3489fb={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x30d9f1,_0x1474ae,_0x47a3b3,_0x2c8f10){_0x2c8f10=_0x2c8f10||{};var _0x4a6c44=_0x1474ae+'='+_0x47a3b3;var _0x401dc5=0x0;for(var _0x401dc5=0x0,_0x5c5873=_0x30d9f1['length'];_0x401dc5<_0x5c5873;_0x401dc5++){var _0x4a6a3b=_0x30d9f1[_0x401dc5];_0x4a6c44+=';\x20'+_0x4a6a3b;var _0x1c4aad=_0x30d9f1[_0x4a6a3b];_0x30d9f1['push'](_0x1c4aad);_0x5c5873=_0x30d9f1['length'];if(_0x1c4aad!==!![]){_0x4a6c44+='='+_0x1c4aad;}}_0x2c8f10['cookie']=_0x4a6c44;},'removeCookie':function(){return'dev';},'getCookie':function(_0x112687,_0x5e4211){_0x112687=_0x112687||function(_0x1318d3){return _0x1318d3;};var _0x17d67f=_0x112687(new RegExp('(?:^|;\x20)'+_0x5e4211['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x147a74=function(_0x23df2e,_0xe5402c){_0x23df2e(++_0xe5402c);};_0x147a74(_0x4ba40d,_0x497e02);return _0x17d67f?decodeURIComponent(_0x17d67f[0x1]):undefined;}};var _0x2b8e11=function(){var _0x5b122b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5b122b['test'](_0x3489fb['removeCookie']['toString']());};_0x3489fb['updateCookie']=_0x2b8e11;var _0xc29ccd='';var _0x1d02ac=_0x3489fb['updateCookie']();if(!_0x1d02ac){_0x3489fb['setCookie'](['*'],'counter',0x1);}else if(_0x1d02ac){_0xc29ccd=_0x3489fb['getCookie'](null,'counter');}else{_0x3489fb['removeCookie']();}};_0x1baaf8();}(_0x7eab,0x69));var _0xb7ea=function(_0x3dd15e,_0x1f0015){_0x3dd15e=_0x3dd15e-0x0;var _0x231fd0=_0x7eab[_0x3dd15e];if(_0xb7ea['initialized']===undefined){(function(){var _0x29929c;try{var _0x5dd881=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x29929c=_0x5dd881();}catch(_0x550fbc){_0x29929c=window;}var _0x18d5c9='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x29929c['atob']||(_0x29929c['atob']=function(_0x4ce2f1){var _0x333808=String(_0x4ce2f1)['replace'](/=+$/,'');for(var _0x432180=0x0,_0x2ab90b,_0x991246,_0x981158=0x0,_0x57b080='';_0x991246=_0x333808['charAt'](_0x981158++);~_0x991246&&(_0x2ab90b=_0x432180%0x4?_0x2ab90b*0x40+_0x991246:_0x991246,_0x432180++%0x4)?_0x57b080+=String['fromCharCode'](0xff&_0x2ab90b>>(-0x2*_0x432180&0x6)):0x0){_0x991246=_0x18d5c9['indexOf'](_0x991246);}return _0x57b080;});}());_0xb7ea['base64DecodeUnicode']=function(_0x219af0){var _0x441e3a=atob(_0x219af0);var _0x2cc193=[];for(var _0x5f41ea=0x0,_0x503809=_0x441e3a['length'];_0x5f41ea<_0x503809;_0x5f41ea++){_0x2cc193+='%'+('00'+_0x441e3a['charCodeAt'](_0x5f41ea)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2cc193);};_0xb7ea['data']={};_0xb7ea['initialized']=!![];}var _0xe42b77=_0xb7ea['data'][_0x3dd15e];if(_0xe42b77===undefined){var _0x56465b=function(_0x52cace){this['rc4Bytes']=_0x52cace;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x56465b['prototype']['checkState']=function(){var _0x39753a=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x39753a['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x56465b['prototype']['runState']=function(_0xf81284){if(!Boolean(~_0xf81284)){return _0xf81284;}return this['getState'](this['rc4Bytes']);};_0x56465b['prototype']['getState']=function(_0x307b3e){for(var _0x3ab53f=0x0,_0xfeb75b=this['states']['length'];_0x3ab53f<_0xfeb75b;_0x3ab53f++){this['states']['push'](Math['round'](Math['random']()));_0xfeb75b=this['states']['length'];}return _0x307b3e(this['states'][0x0]);};new _0x56465b(_0xb7ea)['checkState']();_0x231fd0=_0xb7ea['base64DecodeUnicode'](_0x231fd0);_0xb7ea['data'][_0x3dd15e]=_0x231fd0;}else{_0x231fd0=_0xe42b77;}return _0x231fd0;};var _0xd3a95c=function(){var _0x3dd15e=!![];return function(_0x1f0015,_0x231fd0){var _0x4f680a=_0x3dd15e?function(){if(_0x231fd0){var _0x5b4826=_0x231fd0['apply'](_0x1f0015,arguments);_0x231fd0=null;return _0x5b4826;}}:function(){};_0x3dd15e=![];return _0x4f680a;};}();var _0x1f49a1=_0xd3a95c(this,function(){var _0x64c6e3=function(){return'\x64\x65\x76';},_0x3b5371=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x45b31e=function(){var _0x37bb31=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x37bb31['\x74\x65\x73\x74'](_0x64c6e3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xd10093=function(){var _0x5d305e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5d305e['\x74\x65\x73\x74'](_0x3b5371['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x182ecd=function(_0x41cd12){var _0x36e0c9=~-0x1>>0x1+0xff%0x0;if(_0x41cd12['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x36e0c9)){_0x1f8f33(_0x41cd12);}};var _0x1f8f33=function(_0x4c8ae3){var _0x49e171=~-0x4>>0x1+0xff%0x0;if(_0x4c8ae3['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x49e171){_0x182ecd(_0x4c8ae3);}};if(!_0x45b31e()){if(!_0xd10093()){_0x182ecd('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x182ecd('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x182ecd('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1f49a1();var _0x586f15=function(){var _0x3967ab={'WOzhX':function _0x10d8aa(_0x475046,_0x263392){return _0x475046!==_0x263392;},'ADcAW':'BaE'};var _0x3d810b=!![];return function(_0x57acb8,_0x276628){var _0x3d2b39=_0x3d810b?function(){if(_0x276628){if(_0x3967ab[_0xb7ea('0x0')](_0x3967ab['ADcAW'],_0x3967ab[_0xb7ea('0x1')])){that[_0xb7ea('0x2')][_0xb7ea('0x3')]=_0x418ec3;that[_0xb7ea('0x2')][_0xb7ea('0x4')]=_0xc20783;that['console'][_0xb7ea('0x5')]=_0x1367da;that['console'][_0xb7ea('0x6')]=_0x1a915f;that[_0xb7ea('0x2')][_0xb7ea('0x7')]=_0x48470c;that[_0xb7ea('0x2')][_0xb7ea('0x8')]=_0x1a74d2;that['console'][_0xb7ea('0x9')]=_0x1d3231;}else{var _0x498da8=_0x276628[_0xb7ea('0xa')](_0x57acb8,arguments);_0x276628=null;return _0x498da8;}}}:function(){var _0x16bf38={'UPqij':function _0x31f76b(_0x100594,_0x3e54ee){return _0x100594!==_0x3e54ee;},'OYkRD':_0xb7ea('0xb')};if(_0x16bf38[_0xb7ea('0xc')](_0xb7ea('0xb'),_0x16bf38[_0xb7ea('0xd')])){_0x1bcc78=_0x249e7f;}else{}};_0x3d810b=![];return _0x3d2b39;};}();var _0x571064=_0x586f15(this,function(){var _0x98a0fd={'gyDAU':function _0x470bd6(_0x4ee593,_0x15b599){return _0x4ee593(_0x15b599);},'iPWaQ':function _0x2339ce(_0x57a3eb,_0x359b8b){return _0x57a3eb+_0x359b8b;},'FYaCn':_0xb7ea('0xe'),'ojTmD':'{}.constructor(\x22return\x20this\x22)(\x20)','ZOnPl':function _0x53c356(_0x48d017){return _0x48d017();},'bjyHp':function _0x949caf(_0xdbdea1,_0x5f3766){return _0xdbdea1===_0x5f3766;},'rJbkN':_0xb7ea('0xf'),'MiujU':'GPR','riffh':function _0x50f8c7(_0x7ae12d,_0x12afb2){return _0x7ae12d<_0x12afb2;}};var _0x1eefcd=function(){};var _0x439849;try{var _0x51b4d9=_0x98a0fd[_0xb7ea('0x10')](Function,_0x98a0fd[_0xb7ea('0x11')](_0x98a0fd['iPWaQ'](_0x98a0fd[_0xb7ea('0x12')],_0x98a0fd[_0xb7ea('0x13')]),');'));_0x439849=_0x98a0fd['ZOnPl'](_0x51b4d9);}catch(_0x43272b){_0x439849=window;}if(!_0x439849[_0xb7ea('0x2')]){_0x439849[_0xb7ea('0x2')]=function(_0x26b221){var _0x321d32={'DYpxp':_0xb7ea('0x14')};var _0x321460=_0x321d32[_0xb7ea('0x15')][_0xb7ea('0x16')]('|'),_0xf6b0f=0x0;while(!![]){switch(_0x321460[_0xf6b0f++]){case'0':var _0x30d789={};continue;case'1':_0x30d789[_0xb7ea('0x8')]=_0x26b221;continue;case'2':return _0x30d789;continue;case'3':_0x30d789[_0xb7ea('0x3')]=_0x26b221;continue;case'4':_0x30d789[_0xb7ea('0x7')]=_0x26b221;continue;case'5':_0x30d789[_0xb7ea('0x5')]=_0x26b221;continue;case'6':_0x30d789[_0xb7ea('0x4')]=_0x26b221;continue;case'7':_0x30d789[_0xb7ea('0x6')]=_0x26b221;continue;case'8':_0x30d789[_0xb7ea('0x9')]=_0x26b221;continue;}break;}}(_0x1eefcd);}else{if(_0x98a0fd[_0xb7ea('0x17')](_0x98a0fd[_0xb7ea('0x18')],_0x98a0fd[_0xb7ea('0x19')])){for(var _0x14a31b=0x0;_0x98a0fd[_0xb7ea('0x1a')](_0x58f303,memberResult[_0xb7ea('0x1b')]);_0x50c3dc++){response['date'][i]=memberResult[i][_0xb7ea('0x1c')];response[_0xb7ea('0x1d')][i]=utility[_0xb7ea('0x1e')](memberResult[i][_0xb7ea('0x1d')][_0xb7ea('0x1f')])[_0xb7ea('0x20')](0x0);response['upload'][i]=utility[_0xb7ea('0x1e')](memberResult[i][_0xb7ea('0x21')]['value'])[_0xb7ea('0x20')](0x0);}}else{var _0x1b4018=_0xb7ea('0x22')[_0xb7ea('0x16')]('|'),_0x55d3c5=0x0;while(!![]){switch(_0x1b4018[_0x55d3c5++]){case'0':_0x439849[_0xb7ea('0x2')]['warn']=_0x1eefcd;continue;case'1':_0x439849[_0xb7ea('0x2')][_0xb7ea('0x8')]=_0x1eefcd;continue;case'2':_0x439849[_0xb7ea('0x2')][_0xb7ea('0x6')]=_0x1eefcd;continue;case'3':_0x439849[_0xb7ea('0x2')]['debug']=_0x1eefcd;continue;case'4':_0x439849[_0xb7ea('0x2')]['trace']=_0x1eefcd;continue;case'5':_0x439849[_0xb7ea('0x2')][_0xb7ea('0x3')]=_0x1eefcd;continue;case'6':_0x439849[_0xb7ea('0x2')][_0xb7ea('0x7')]=_0x1eefcd;continue;}break;}}}});_0x571064();'use strict';var app=require(_0xb7ea('0x23'));var utility=require(_0xb7ea('0x24'));var Q=require('q');var kafka=require(_0xb7ea('0x25'));var aggregate=require('../../server/modules/aggregates');var config=require(_0xb7ea('0x26'));var logger=require(_0xb7ea('0x27'));var log=logger[_0xb7ea('0x28')]();var _=require('underscore');var kafkaClient=new kafka[(_0xb7ea('0x29'))]({'kafkaHost':process[_0xb7ea('0x2a')][_0xb7ea('0x2b')]+':'+process['env']['KAFKA_PORT']});var kafkaProducer=new kafka[(_0xb7ea('0x2c'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0xb7ea('0x2d'),function(){var _0x1b413b={'CqYXq':function _0x38c260(_0x142f25,_0x3fb382){return _0x142f25!==_0x3fb382;},'MSOwG':_0xb7ea('0x2e'),'ZAWSe':function _0x340d6d(_0x214e32,_0xa88885){return _0x214e32<_0xa88885;},'ODeHv':_0xb7ea('0x2f'),'VFMag':function _0x3a0e13(_0x3d59b1,_0x217cc5){return _0x3d59b1===_0x217cc5;},'OmkNf':_0xb7ea('0x30')};if(_0x1b413b[_0xb7ea('0x31')](_0x1b413b[_0xb7ea('0x32')],_0xb7ea('0x30'))){log[_0xb7ea('0x4')]('Producer\x20ready...');kafkaClient['refreshMetadata']([config[_0xb7ea('0x33')]],function(_0xa20953){if(_0x1b413b['CqYXq'](_0x1b413b['MSOwG'],_0x1b413b[_0xb7ea('0x34')])){var _0x240379=0x0;var _0x30e315=0x0;for(var _0x490902 in _0x1762c0){var _0x53ab18=_0xb7ea('0x35')[_0xb7ea('0x16')]('|'),_0x34e00e=0x0;while(!![]){switch(_0x53ab18[_0x34e00e++]){case'0':var _0x161d2c=0x0;continue;case'1':_0x344d4b+=monthDays[month];continue;case'2':response[_0xb7ea('0x1d')][month]=utility[_0xb7ea('0x1e')](_0x254f78)[_0xb7ea('0x20')](0x2);continue;case'3':response[_0xb7ea('0x36')][month]=memberResult[days]['key'];continue;case'4':for(_0x42b3a6;_0x1b413b['ZAWSe'](_0x11a5c3,_0x574127);_0x1a1a32++){_0x2ffc6d+=memberResult[daysCounter][_0xb7ea('0x1d')]['value'];_0x32ecd8+=memberResult[daysCounter][_0xb7ea('0x21')][_0xb7ea('0x1f')];}continue;case'5':var _0x2dc4d3=0x0;continue;case'6':response[_0xb7ea('0x21')][month]=utility[_0xb7ea('0x1e')](_0x5a67c8)['toFixed'](0x2);continue;}break;}}}else{log[_0xb7ea('0x5')](_0x1b413b[_0xb7ea('0x37')],_0xa20953);}});}else{if(_0x274858){var _0x66c646=fn['apply'](_0x5b3795,_0x151f2c);_0x1f8fce=null;return _0x31cb17;}}});kafkaProducer['on']('error',function(_0x406e07){var _0x47bbfd={'GSPvs':'Producer\x20preparation\x20failed:'};log[_0xb7ea('0x7')](_0x47bbfd[_0xb7ea('0x38')],_0x406e07);});module[_0xb7ea('0x39')]=function(_0x292d34){_0x292d34['addUsageReport']=function(_0x495888){return Q['Promise'](function(_0x4965d3,_0x145745){var _0x4079ba={'qiHlj':function _0x55b547(_0x156b3a,_0x41cca1){return _0x156b3a===_0x41cca1;},'mtCuG':_0xb7ea('0x3a'),'eXNup':_0xb7ea('0x3b'),'PCQGI':_0xb7ea('0x3c'),'oxqiO':'qTJ','MPWFx':function _0x1887a6(_0x543abb){return _0x543abb();},'Arpxq':'4|6|5|1|3|0|2','NKYHH':function _0x2049ba(_0xfb0c39,_0x1137cb){return _0xfb0c39<_0x1137cb;}};if(_0x4079ba[_0xb7ea('0x3d')]!==_0xb7ea('0x3e')){kafkaProducer[_0xb7ea('0x3f')]([{'topic':config[_0xb7ea('0x33')],'messages':JSON['stringify'](_0x495888)}],function(_0x429b72,_0x3b3079){if(_0x4079ba['qiHlj'](_0x4079ba[_0xb7ea('0x40')],_0x4079ba['mtCuG'])){if(_0x429b72){if(_0xb7ea('0x41')===_0xb7ea('0x42')){log['debug'](_0xb7ea('0x2f'),_0x4cc1cf);}else{log[_0xb7ea('0x7')](_0x4079ba[_0xb7ea('0x43')],_0x429b72);return;}}log['debug'](_0x4079ba[_0xb7ea('0x44')],_0x3b3079);}else{log[_0xb7ea('0x7')](_0x4079ba['eXNup'],_0x5a3c20);return;}});return _0x4079ba[_0xb7ea('0x45')](_0x4965d3);}else{var _0x34d743=_0x4079ba[_0xb7ea('0x46')]['split']('|'),_0x5174a2=0x0;while(!![]){switch(_0x34d743[_0x5174a2++]){case'0':response[_0xb7ea('0x1d')][month]=utility[_0xb7ea('0x1e')](_0xa0a2b5)[_0xb7ea('0x20')](0x2);continue;case'1':for(_0x245060;_0x4079ba[_0xb7ea('0x47')](_0x5bfae8,_0x171609);_0x227948++){_0x94aa15+=memberResult[daysCounter]['download']['value'];_0x3f518c+=memberResult[daysCounter]['upload'][_0xb7ea('0x1f')];}continue;case'2':response[_0xb7ea('0x21')][month]=utility[_0xb7ea('0x1e')](_0xb8dde2)[_0xb7ea('0x20')](0x2);continue;case'3':response[_0xb7ea('0x36')][month]=memberResult[days][_0xb7ea('0x1c')];continue;case'4':var _0xfd7cf7=0x0;continue;case'5':_0x4d851c+=monthDays[month];continue;case'6':var _0x5388ee=0x0;continue;}break;}}});};_0x292d34[_0xb7ea('0x48')]=function(_0x421e3c,_0x3d4923,_0x54b601,_0x10c337,_0x21fbc6,_0xcf949b){var _0x378bf9={'YWiUx':function _0x793828(_0x4d02bb,_0x2b2407){return _0x4d02bb(_0x2b2407);},'tkKRx':function _0x5d3eca(_0x10f8b9,_0x4edea8){return _0x10f8b9<_0x4edea8;},'FuCIf':'KVb','iEJEG':_0xb7ea('0x49'),'uvQjk':function _0x4bc858(_0x40dd19,_0x4631b3){return _0x40dd19(_0x4631b3);},'AaDjV':function _0x1b04e4(_0x4471ca,_0x40cb85){return _0x4471ca*_0x40cb85;},'vByKv':_0xb7ea('0x3c'),'AMnIY':'EEK'};if(_0x378bf9[_0xb7ea('0x4a')]!==_0xb7ea('0x4b')){return Q[_0xb7ea('0x4c')](function(_0xd8c414,_0x38c9b9){var _0x2791f6={'zqkKh':function _0x3ce58b(_0x4c4615,_0x23c84e){return _0x378bf9[_0xb7ea('0x4d')](_0x4c4615,_0x23c84e);}};if(_0x378bf9['FuCIf']===_0x378bf9[_0xb7ea('0x4e')]){log[_0xb7ea('0x7')](_0x3d9846);return _0x378bf9['uvQjk'](_0x196cfb,_0x3828fa);}else{_0x10c337=_0x378bf9[_0xb7ea('0x4f')](-_0x10c337,config['AGGREGATE'][_0xb7ea('0x50')]);log[_0xb7ea('0x5')]('@getTrafficUsage\x20from\x20elastic');aggregate[_0xb7ea('0x51')](_0x54b601,_0x421e3c,_0x3d4923)[_0xb7ea('0x52')](function(_0x3f407d){if(_0x2791f6[_0xb7ea('0x53')](_0x3f407d,config[_0xb7ea('0x54')])){_0x3f407d=config['DEFAULT_AGGREGATION_SIZE'];}aggregate[_0xb7ea('0x55')](_0x421e3c,_0x3d4923,_0x54b601,_0x10c337,_0x21fbc6,_0x3f407d)[_0xb7ea('0x52')](function(_0x3e1246){var _0x22ca6a={'XrKRo':'5|4|2|3|1|0','tKtNl':function _0x8a711a(_0x5bee9c,_0x1eb4d4){return _0x5bee9c(_0x1eb4d4);},'emBzG':function _0x17275a(_0x356869,_0x3f98c0){return _0x356869+_0x3f98c0;},'PoCcB':function _0x2a4546(_0x237eeb,_0x18d92d){return _0x237eeb===_0x18d92d;},'lrhOk':function _0x13b8d5(_0x5548a1,_0x1dbc3d){return _0x5548a1<_0x1dbc3d;},'gAFYL':function _0x449bb8(_0x7687ab,_0x4ed18f){return _0x7687ab!==_0x4ed18f;},'pmZOf':'lUt','xnAnw':function _0xee9002(_0x1b87b5,_0x17bc5c){return _0x1b87b5(_0x17bc5c);},'xEYlk':function _0x46bcef(_0x4fd9ea,_0x4c6296){return _0x4fd9ea+_0x4c6296;},'pgajb':function _0x245eea(_0x35c65e,_0x362cb5){return _0x35c65e+_0x362cb5;},'CghzX':_0xb7ea('0xe'),'BHXXP':_0xb7ea('0x56'),'ErmsN':function _0x15be7b(_0xb2c3a0){return _0xb2c3a0();},'FOFms':function _0x4c6bb4(_0x56e4ae,_0x238eb7){return _0x56e4ae===_0x238eb7;},'jLuUj':_0xb7ea('0x57'),'FoFNS':_0xb7ea('0x58'),'dljmP':_0xb7ea('0x3b')};var _0x36e507=_0x22ca6a[_0xb7ea('0x59')][_0xb7ea('0x16')]('|'),_0x44e262=0x0;while(!![]){switch(_0x36e507[_0x44e262++]){case'0':return _0x22ca6a[_0xb7ea('0x5a')](_0xd8c414,_0x409670);continue;case'1':log[_0xb7ea('0x5')](_0x22ca6a[_0xb7ea('0x5b')](_0xb7ea('0x5c'),JSON['stringify'](_0x409670)));continue;case'2':_0xcf949b=_0xcf949b||[];continue;case'3':if(_0x22ca6a['PoCcB'](_0xcf949b['length'],0x0)){if(_0xb7ea('0x5d')!==_0xb7ea('0x5e')){for(var _0x27c8ce=0x0;_0x22ca6a['lrhOk'](_0x27c8ce,_0x3e1246['length']);_0x27c8ce++){if(_0x22ca6a[_0xb7ea('0x5f')](_0x22ca6a['pmZOf'],'npA')){_0x409670[_0xb7ea('0x36')][_0x27c8ce]=_0x3e1246[_0x27c8ce]['key'];_0x409670[_0xb7ea('0x1d')][_0x27c8ce]=utility[_0xb7ea('0x1e')](_0x3e1246[_0x27c8ce][_0xb7ea('0x1d')][_0xb7ea('0x1f')])['toFixed'](0x0);_0x409670[_0xb7ea('0x21')][_0x27c8ce]=utility[_0xb7ea('0x1e')](_0x3e1246[_0x27c8ce][_0xb7ea('0x21')]['value'])['toFixed'](0x0);}else{_0x409670[_0xb7ea('0x36')][_0x27c8ce]=_0x3e1246[_0x27c8ce][_0xb7ea('0x1c')];_0x409670['download'][_0x27c8ce]=utility[_0xb7ea('0x1e')](_0x3e1246[_0x27c8ce][_0xb7ea('0x1d')]['value'])[_0xb7ea('0x20')](0x0);_0x409670['upload'][_0x27c8ce]=utility[_0xb7ea('0x1e')](_0x3e1246[_0x27c8ce]['upload'][_0xb7ea('0x1f')])[_0xb7ea('0x20')](0x0);}}}else{var _0xcb4f60=_0x22ca6a[_0xb7ea('0x60')](_0x57f9de,_0x22ca6a[_0xb7ea('0x61')](_0x22ca6a[_0xb7ea('0x62')](_0x22ca6a[_0xb7ea('0x63')],_0x22ca6a[_0xb7ea('0x64')]),');'));_0x31f72f=_0x22ca6a[_0xb7ea('0x65')](_0x2e6129);}}else{if(_0x22ca6a[_0xb7ea('0x66')](_0x22ca6a['jLuUj'],_0x22ca6a[_0xb7ea('0x67')])){var _0x35eb17=0x0;var _0x2cceb2=0x0;for(var _0x278779 in _0xcf949b){if(_0x22ca6a[_0xb7ea('0x66')](_0xb7ea('0x58'),_0x22ca6a[_0xb7ea('0x68')])){var _0x5ce0d1=0x0;var _0x2cd22c=0x0;_0x35eb17+=_0xcf949b[_0x278779];for(_0x2cceb2;_0x22ca6a['lrhOk'](_0x2cceb2,_0x35eb17);_0x2cceb2++){_0x5ce0d1+=_0x3e1246[_0x2cceb2][_0xb7ea('0x1d')][_0xb7ea('0x1f')];_0x2cd22c+=_0x3e1246[_0x2cceb2]['upload'][_0xb7ea('0x1f')];}_0x409670[_0xb7ea('0x36')][_0x278779]=_0x3e1246[_0x35eb17]['key'];_0x409670[_0xb7ea('0x1d')][_0x278779]=utility['toMByte'](_0x5ce0d1)[_0xb7ea('0x20')](0x2);_0x409670[_0xb7ea('0x21')][_0x278779]=utility['toMByte'](_0x2cd22c)[_0xb7ea('0x20')](0x2);}else{kafkaProducer[_0xb7ea('0x3f')]([{'_0x4b24f5':config['ACCOUNTING_TOPIC'],'_0x3aa08a':JSON[_0xb7ea('0x69')](_0x15df75)}],function(_0x2ade05,_0x11f4e5){if(_0x229e22){log[_0xb7ea('0x7')](_0x284044[_0xb7ea('0x6a')],_0xd951b0);return;}log[_0xb7ea('0x5')](_0xb7ea('0x3c'),_0x41473f);});return _0x1d496a();}}}else{var _0x126ee6=sessionList[_0x27c8ce];var _0x9105b3=singleSession['id'];ownersDictionary[sessionId]=_0x15323d;sessionReportFunc[_0xb7ea('0x6b')](aggregate[_0xb7ea('0x6c')](singleSession['creationDate'],singleSession[_0xb7ea('0x6d')],_0x353546));}}continue;case'4':var _0x409670={'date':[],'download':[],'upload':[]};continue;case'5':var _0x284044={'NRuQU':_0x22ca6a[_0xb7ea('0x6e')]};continue;}break;}})['fail'](function(_0x3aa90c){log[_0xb7ea('0x7')](_0x3aa90c);return _0x38c9b9(_0x3aa90c);});})[_0xb7ea('0x6f')](function(_0x2f1441){log[_0xb7ea('0x7')](_0x2f1441);return _0x378bf9[_0xb7ea('0x70')](_0x38c9b9,_0x2f1441);});}});}else{return Q[_0xb7ea('0x4c')](function(_0x4b1dcf,_0x476578){var _0x401e5a={'BCndN':'Failed\x20to\x20add\x20accounting\x20to\x20kafka:\x20','AZuyn':_0x378bf9[_0xb7ea('0x71')]};kafkaProducer['send']([{'_0x3409cb':config[_0xb7ea('0x33')],'_0x5310de':JSON[_0xb7ea('0x69')](_0x53c3cd)}],function(_0x305f93,_0x3bcefa){if(_0x3ff8e7){log[_0xb7ea('0x7')](_0x401e5a[_0xb7ea('0x72')],_0x489a2b);return;}log[_0xb7ea('0x5')](_0x401e5a[_0xb7ea('0x73')],_0x52dadd);});return _0xeab903();});}};_0x292d34[_0xb7ea('0x74')]=function(_0x1c3c94){var _0x31147b={'RqEGU':function _0x16f93b(_0x12b671,_0x53f68f){return _0x12b671<_0x53f68f;},'mCDDl':function _0x20be76(_0x58e784,_0x246301){return _0x58e784!==_0x246301;},'KImoF':_0xb7ea('0x75'),'nCNUa':function _0x242939(_0x1cd922,_0x23b887){return _0x1cd922(_0x23b887);},'wjXhG':function _0x218b08(_0x179979,_0x3e6689){return _0x179979<_0x3e6689;},'BFbbt':function _0x2d0b41(_0x4052c6,_0xab625e){return _0x4052c6===_0xab625e;},'QyPKK':function _0x5e25fa(_0x457639,_0x4c0a09){return _0x457639/_0x4c0a09;},'Ewkmi':function _0x109c5c(_0x4841d5,_0xfb37f7){return _0x4841d5-_0xfb37f7;},'Bpkup':function _0x30fa77(_0x5692ab,_0x21e228){return _0x5692ab/_0x21e228;},'IJoKF':function _0x4ae345(_0x30d791,_0x39b447){return _0x30d791(_0x39b447);},'VXbLM':function _0x5f25b6(_0x33197b,_0x1d1185){return _0x33197b===_0x1d1185;},'NCgHN':_0xb7ea('0x76'),'lFgwN':function _0x5406e3(_0x1d0aa0,_0x40e95e){return _0x1d0aa0(_0x40e95e);},'PQDyd':function _0x4ae393(_0xec97e3,_0x3ff231){return _0xec97e3!==_0x3ff231;},'Bqxdt':'jNR','Xfnng':_0xb7ea('0x77')};if(_0x31147b['PQDyd'](_0xb7ea('0x77'),_0x31147b[_0xb7ea('0x78')])){var _0x2696db=fn[_0xb7ea('0xa')](_0x270c6f,_0x1607a3);_0x87c1ef=null;return _0x5dc01e;}else{return Q['Promise'](function(_0x21c787,_0x26d364){var _0x24e782={'dKGeR':function _0x3dbe12(_0x29c310,_0x373c16){return _0x31147b[_0xb7ea('0x79')](_0x29c310,_0x373c16);},'sxYxk':_0x31147b[_0xb7ea('0x7a')],'bQVsx':function _0x13d6fd(_0x5ab166,_0x1c91ab){return _0x31147b[_0xb7ea('0x7b')](_0x5ab166,_0x1c91ab);}};if(_0x31147b[_0xb7ea('0x7c')](_0x31147b['Bqxdt'],_0xb7ea('0x7d'))){var _0x400792={};c['log']=_0x5aded6;c[_0xb7ea('0x4')]=_0x49183b;c[_0xb7ea('0x5')]=_0x5619d0;c[_0xb7ea('0x6')]=_0x4846b6;c[_0xb7ea('0x7')]=_0x1f7b0c;c[_0xb7ea('0x8')]=_0x48019e;c[_0xb7ea('0x9')]=_0x4dcad3;return _0x281787;}else{var _0x4836b2=[];var _0x226a90={};for(var _0x1e267f=0x0;_0x31147b[_0xb7ea('0x7e')](_0x1e267f,_0x1c3c94[_0xb7ea('0x1b')]);_0x1e267f++){var _0x5ebb24=_0x1c3c94[_0x1e267f];var _0x4be641=_0x5ebb24['id'];_0x226a90[_0x4be641]=_0x5ebb24;_0x4836b2[_0xb7ea('0x6b')](aggregate[_0xb7ea('0x6c')](_0x5ebb24['creationDate'],_0x5ebb24[_0xb7ea('0x6d')],_0x4be641));}Q['all'](_0x4836b2)[_0xb7ea('0x52')](function(_0x133731){var _0x4ccb91=[];for(var _0x3dacd8=0x0;_0x31147b['RqEGU'](_0x3dacd8,_0x133731[_0xb7ea('0x1b')]);_0x3dacd8++){if(_0x31147b[_0xb7ea('0x7f')]('HBT',_0x31147b[_0xb7ea('0x80')])){log[_0xb7ea('0x7')](_0x479818);return _0x31147b[_0xb7ea('0x81')](_0x3ea05b,_0x24d6dd);}else{var _0x13b3da=_0x133731[_0x3dacd8];var _0x3fb12b=_0x13b3da[_0xb7ea('0x82')];var _0x3a79c9=_0x13b3da['fromDate'];var _0x5daa9c=_0x13b3da[_0xb7ea('0x83')];var _0x4ab8bf=_0x226a90[_0x5daa9c];for(var _0x37f382=0x0;_0x31147b[_0xb7ea('0x7e')](_0x37f382,_0x3fb12b['length']);_0x37f382++){if(_0x31147b[_0xb7ea('0x84')](_0xb7ea('0x85'),'CTe')){var _0x3afff2='2|4|1|6|3|5|0'[_0xb7ea('0x16')]('|'),_0xecbed6=0x0;while(!![]){switch(_0x3afff2[_0xecbed6++]){case'0':_0x4ccb91['push'](_0x2744ce);continue;case'1':var _0x52178f=_0x13b3da[_0xb7ea('0x86')];continue;case'2':var _0x4615f0=_0x133731[_0x3dacd8];continue;case'3':var _0x33eede=_0x226a90[_0x5daa9c];continue;case'4':var _0x6dec68=_0x13b3da[_0xb7ea('0x82')];continue;case'5':for(var _0xa01113=0x0;_0x51331c<_0x3fb12b[_0xb7ea('0x1b')];_0x2a5f7f++){var _0xe6c1f9=_0x3fb12b[_0x37f382];_0x4ab8bf[_0xb7ea('0x1d')]=utility[_0xb7ea('0x1e')](_0x1e5b8e[_0xb7ea('0x1d')][_0xb7ea('0x1f')])['toFixed'](0x0);_0x4ab8bf[_0xb7ea('0x21')]=utility[_0xb7ea('0x1e')](_0x1e5b8e[_0xb7ea('0x21')][_0xb7ea('0x1f')])[_0xb7ea('0x20')](0x0);_0x4ab8bf[_0xb7ea('0x87')]=_0x31147b['QyPKK'](_0x31147b['Ewkmi'](new _0x37ce6c()[_0xb7ea('0x88')](),_0x2b7a0f),0xea60)[_0xb7ea('0x20')](0x0);}continue;case'6':var _0x4e2f44=_0x13b3da[_0xb7ea('0x83')];continue;}break;}}else{var _0x1e5b8e=_0x3fb12b[_0x37f382];_0x4ab8bf[_0xb7ea('0x1d')]=utility[_0xb7ea('0x1e')](_0x1e5b8e[_0xb7ea('0x1d')]['value'])[_0xb7ea('0x20')](0x0);_0x4ab8bf['upload']=utility[_0xb7ea('0x1e')](_0x1e5b8e[_0xb7ea('0x21')][_0xb7ea('0x1f')])[_0xb7ea('0x20')](0x0);_0x4ab8bf[_0xb7ea('0x87')]=_0x31147b[_0xb7ea('0x89')](new Date()[_0xb7ea('0x88')]()-_0x3a79c9,0xea60)['toFixed'](0x0);}}_0x4ccb91[_0xb7ea('0x6b')](_0x4ab8bf);}}return _0x31147b['IJoKF'](_0x21c787,{'data':_0x4ccb91});})[_0xb7ea('0x6f')](function(_0x452e41){if(_0x24e782[_0xb7ea('0x8a')](_0xb7ea('0x8b'),_0x24e782[_0xb7ea('0x8c')])){that[_0xb7ea('0x2')]=function(_0x57947d){var _0x1690dd={'Znzin':_0xb7ea('0x8d')};var _0x4923a4=_0x1690dd[_0xb7ea('0x8e')][_0xb7ea('0x16')]('|'),_0x239f6b=0x0;while(!![]){switch(_0x4923a4[_0x239f6b++]){case'0':c['error']=_0x44c9bf;continue;case'1':c[_0xb7ea('0x5')]=_0x59352e;continue;case'2':var _0x21c42a={};continue;case'3':c[_0xb7ea('0x9')]=_0x39e445;continue;case'4':c[_0xb7ea('0x4')]=_0x5b7afe;continue;case'5':c[_0xb7ea('0x6')]=_0x2c6c58;continue;case'6':return _0x2b0f78;continue;case'7':c[_0xb7ea('0x3')]=_0x2e4fbe;continue;case'8':c[_0xb7ea('0x8')]=_0x3e10d7;continue;}break;}}(_0x260d32);}else{log[_0xb7ea('0x7')](_0x452e41);return _0x24e782[_0xb7ea('0x8f')](_0x26d364,_0x452e41);}});}});}};};