var _0x59d7=['Z2V0VXNhZ2VGcm9tQ2FjaGU=','VWNu','UlJ6cHI=','UHFOWmU=','ZG93bmxvYWQ=','c2Vzc2lvblRpbWU=','c2hVZnQ=','ZFpVSVE=','ZlBOYVc=','QXlLSEk=','Y3VycmVudFVzZXJJZA==','THNJY2U=','YWxs','eWhjbVQ=','UkNKU0c=','cmVtb3RlTWV0aG9k','QUN1eU0=','WHBZbG8=','T1JBQkc=','UERiQUw=','eUNMaGI=','RnRxdms=','aVpsWmY=','ZlpPRUc=','ZXJsaHE=','cWFGSGc=','ekJIdGc=','cmVwb3J0U3RhdHVz','Z2V0RGF0YWJhc2VJbmZv','dGFibGU=','cGFyc2VJbnQ=','eFNzWlY=','cHVzaA==','dXBsb2Fk','TENBVnM=','cXd3blQ=','QXFDUXo=','Y2FjaGVVc2FnZQ==','Y3dU','Y1BL','cmt3QkU=','a0tmd0w=','cHJvbWlzZQ==','c2plYks=','WnZCVWY=','UkthdnQ=','YUFDUm0=','c2V0','c2Vzc2lvbklk','c3RyaW5naWZ5','Z3laQks=','QkFNZVM=','aHJITm0=','c2d0SVU=','aVhNSHk=','bm1xTks=','R0RR','d25Cb04=','V3JxRkI=','WmVYZ08=','TFd4RUY=','ekhSWUQ=','ZlppWGc=','Z2V0','Qkt0SXg=','ZmFpbGVkIHRvIGdldCB1c2FnZSBmcm9tIGNhY2hlIGJ5IGlkOiA=','ZkJEWm4=','b0hr','SVBmb3Q=','ZXhjZXB0aW9u','RWlB','ZmFpbGVkIHRvIGNhY2hlIHVzYWdl','ZmFpbGVkIHRvIGNhY2hl','QVFDYmU=','akd2dlI=','ZXJyb3I=','bWJibG0=','Y0lHcUo=','YXBwbHk=','a3Fq','R0l3','ZWlT','Mnw0fDF8M3wwfDZ8NQ==','c0VDTlo=','ZlB4U0I=','emRaSGo=','VFJvZW0=','d011cFE=','S1NVc1Y=','cmV0dXJuIChmdW5jdGlvbigpIA==','Y29uc29sZQ==','NnwyfDB8N3wxfDh8M3w0fDU=','aEZiVGg=','c3BsaXQ=','d2Fybg==','bG9n','ZGVidWc=','T0tiQW4=','Uk5pWGg=','dHJhY2U=','aW5mbw==','Li4vLi4vc2VydmVyL3NlcnZlcg==','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','S2Fma2FDbGllbnQ=','ZW52','S0FGS0FfSVA=','S0FGS0FfUE9SVA==','UHJvZHVjZXI=','cmVkaXM=','Y3JlYXRlQ2xpZW50','UE9SVA==','UkVESVM=','SE9TVA==','cmVhZHk=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','Qmp5YXc=','QUNDT1VOVElOR19UT1BJQw==','cEhIdm8=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','S3ZpSVk=','MHwxfDR8Mnw2fDV8Mw==','UGp4','cHJldmlld3Mgc2Vzc2lvbiBpcyBlbXB0eQ==','Z2V0VXNhZ2U=','R2V0IHVzYWdlIHJlcG9ydC4=','c3RyaW5n','ZGVwYXJ0bWVudElk','bnVtYmVy','U3RhcnQgRGF0ZQ==','RW5kIERhdGU=','b3B0aW9ucw==','b2JqZWN0','b3B0aW9uc0Zyb21SZXF1ZXN0','Z2V0VG9wTWVtYmVycw==','ZW5kRGF0ZQ==','VVJy','emtr','Z3ZEZHo='];(function(_0x383200,_0x55917e){var _0x36592f=function(_0x4005b1){while(--_0x4005b1){_0x383200['push'](_0x383200['shift']());}};var _0x28d167=function(){var _0x30832f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3e549b,_0x352b7a,_0x43f02,_0x3be9c4){_0x3be9c4=_0x3be9c4||{};var _0x4c9ec4=_0x352b7a+'='+_0x43f02;var _0x4ffbd2=0x0;for(var _0x4ffbd2=0x0,_0x452c0c=_0x3e549b['length'];_0x4ffbd2<_0x452c0c;_0x4ffbd2++){var _0x548e1f=_0x3e549b[_0x4ffbd2];_0x4c9ec4+=';\x20'+_0x548e1f;var _0x2616b4=_0x3e549b[_0x548e1f];_0x3e549b['push'](_0x2616b4);_0x452c0c=_0x3e549b['length'];if(_0x2616b4!==!![]){_0x4c9ec4+='='+_0x2616b4;}}_0x3be9c4['cookie']=_0x4c9ec4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x416b85,_0x1a5d0b){_0x416b85=_0x416b85||function(_0x4874ba){return _0x4874ba;};var _0x14363c=_0x416b85(new RegExp('(?:^|;\x20)'+_0x1a5d0b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x534877=function(_0x32504f,_0x4d756a){_0x32504f(++_0x4d756a);};_0x534877(_0x36592f,_0x55917e);return _0x14363c?decodeURIComponent(_0x14363c[0x1]):undefined;}};var _0x47b6f3=function(){var _0x1ab167=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1ab167['test'](_0x30832f['removeCookie']['toString']());};_0x30832f['updateCookie']=_0x47b6f3;var _0x26a373='';var _0x340b12=_0x30832f['updateCookie']();if(!_0x340b12){_0x30832f['setCookie'](['*'],'counter',0x1);}else if(_0x340b12){_0x26a373=_0x30832f['getCookie'](null,'counter');}else{_0x30832f['removeCookie']();}};_0x28d167();}(_0x59d7,0xd2));var _0x759d=function(_0x204e2e,_0x40be74){_0x204e2e=_0x204e2e-0x0;var _0xfcd857=_0x59d7[_0x204e2e];if(_0x759d['initialized']===undefined){(function(){var _0x5625a1;try{var _0x548030=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5625a1=_0x548030();}catch(_0x7913ca){_0x5625a1=window;}var _0x52c991='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5625a1['atob']||(_0x5625a1['atob']=function(_0x578e88){var _0x98d4f4=String(_0x578e88)['replace'](/=+$/,'');for(var _0xbd6204=0x0,_0x245f3a,_0x5b9272,_0x1c2178=0x0,_0xb1b946='';_0x5b9272=_0x98d4f4['charAt'](_0x1c2178++);~_0x5b9272&&(_0x245f3a=_0xbd6204%0x4?_0x245f3a*0x40+_0x5b9272:_0x5b9272,_0xbd6204++%0x4)?_0xb1b946+=String['fromCharCode'](0xff&_0x245f3a>>(-0x2*_0xbd6204&0x6)):0x0){_0x5b9272=_0x52c991['indexOf'](_0x5b9272);}return _0xb1b946;});}());_0x759d['base64DecodeUnicode']=function(_0x4bfd23){var _0xb7a325=atob(_0x4bfd23);var _0x454b87=[];for(var _0x3af1f1=0x0,_0x350f81=_0xb7a325['length'];_0x3af1f1<_0x350f81;_0x3af1f1++){_0x454b87+='%'+('00'+_0xb7a325['charCodeAt'](_0x3af1f1)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x454b87);};_0x759d['data']={};_0x759d['initialized']=!![];}var _0xb1db56=_0x759d['data'][_0x204e2e];if(_0xb1db56===undefined){var _0x4ccfda=function(_0x31fcc5){this['rc4Bytes']=_0x31fcc5;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4ccfda['prototype']['checkState']=function(){var _0x2ddeeb=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x2ddeeb['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x4ccfda['prototype']['runState']=function(_0x3e2a9f){if(!Boolean(~_0x3e2a9f)){return _0x3e2a9f;}return this['getState'](this['rc4Bytes']);};_0x4ccfda['prototype']['getState']=function(_0x270527){for(var _0x468a2c=0x0,_0x11ef77=this['states']['length'];_0x468a2c<_0x11ef77;_0x468a2c++){this['states']['push'](Math['round'](Math['random']()));_0x11ef77=this['states']['length'];}return _0x270527(this['states'][0x0]);};new _0x4ccfda(_0x759d)['checkState']();_0xfcd857=_0x759d['base64DecodeUnicode'](_0xfcd857);_0x759d['data'][_0x204e2e]=_0xfcd857;}else{_0xfcd857=_0xb1db56;}return _0xfcd857;};var _0xebaf9e=function(){var _0x388b8d=!![];return function(_0x1ef03d,_0x26ae0c){var _0x5e9354=_0x388b8d?function(){if(_0x26ae0c){var _0x138956=_0x26ae0c['apply'](_0x1ef03d,arguments);_0x26ae0c=null;return _0x138956;}}:function(){};_0x388b8d=![];return _0x5e9354;};}();var _0x2900c9=_0xebaf9e(this,function(){var _0x1bb9f8=function(){return'\x64\x65\x76';},_0x1cd4b4=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1f8331=function(){var _0x5a8540=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5a8540['\x74\x65\x73\x74'](_0x1bb9f8['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x492482=function(){var _0x5c54a4=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5c54a4['\x74\x65\x73\x74'](_0x1cd4b4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4c431b=function(_0x4a4536){var _0x1ffa69=~-0x1>>0x1+0xff%0x0;if(_0x4a4536['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1ffa69)){_0x4d4f4b(_0x4a4536);}};var _0x4d4f4b=function(_0x1d6b59){var _0x116bcc=~-0x4>>0x1+0xff%0x0;if(_0x1d6b59['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x116bcc){_0x4c431b(_0x1d6b59);}};if(!_0x1f8331()){if(!_0x492482()){_0x4c431b('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4c431b('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4c431b('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2900c9();var _0xe2bf0f=function(){var _0x3d0cba=!![];return function(_0x493310,_0x198789){var _0x251d9f=_0x3d0cba?function(){var _0x54eb87={'AQCbe':function _0x3d4f91(_0x45d244,_0x5471fd){return _0x45d244!==_0x5471fd;},'jGvvR':_0x759d('0x0'),'QgliY':_0x759d('0x1'),'mbblm':function _0xc15cfd(_0x252a55,_0x4b80a3){return _0x252a55(_0x4b80a3);},'cIGqJ':_0x759d('0x2')};if(_0x54eb87[_0x759d('0x3')](_0x54eb87[_0x759d('0x4')],_0x54eb87[_0x759d('0x4')])){log[_0x759d('0x5')](_0x54eb87['QgliY'],_0x5c73ea);return _0x54eb87[_0x759d('0x6')](_0x5b02f8,_0x54eb87[_0x759d('0x7')]);}else{if(_0x198789){var _0xd8f535=_0x198789[_0x759d('0x8')](_0x493310,arguments);_0x198789=null;return _0xd8f535;}}}:function(){};_0x3d0cba=![];return _0x251d9f;};}();var _0x26bb96=_0xe2bf0f(this,function(){var _0x23635c={'sECNZ':function _0x18904f(_0x1a0fea,_0x3a3d22){return _0x1a0fea===_0x3a3d22;},'fPxSB':_0x759d('0x9'),'zdZHj':function _0x75aa8b(_0x199ed5,_0x2ed59c){return _0x199ed5!==_0x2ed59c;},'TRoem':_0x759d('0xa'),'LUjAv':_0x759d('0xb'),'wMupQ':function _0xda0f48(_0xf6bddd,_0x162310){return _0xf6bddd(_0x162310);},'KSUsV':function _0x511b64(_0x6e345c,_0x5be9de){return _0x6e345c+_0x5be9de;},'SeIri':'{}.constructor(\x22return\x20this\x22)(\x20)','OKbAn':'KNG','RNiXh':_0x759d('0xc'),'LEqCW':'previews\x20session\x20is\x20empty'};if(_0x23635c[_0x759d('0xd')](_0x23635c[_0x759d('0xe')],_0x23635c[_0x759d('0xe')])){var _0x1aaa74=function(){};var _0x5beac4;try{if(_0x23635c[_0x759d('0xf')](_0x23635c[_0x759d('0x10')],_0x23635c['LUjAv'])){var _0x323437=_0x23635c[_0x759d('0x11')](Function,_0x23635c[_0x759d('0x12')](_0x759d('0x13'),_0x23635c['SeIri'])+');');_0x5beac4=_0x323437();}else{var _0x577946=fn['apply'](_0x174194,_0x2de7f8);_0x4157aa=null;return _0x280d8e;}}catch(_0x35eb42){_0x5beac4=window;}if(!_0x5beac4[_0x759d('0x14')]){_0x5beac4['console']=function(_0x332708){var _0x118d30={'hFbTh':_0x759d('0x15')};var _0x5bf23a=_0x118d30[_0x759d('0x16')][_0x759d('0x17')]('|'),_0x102ef4=0x0;while(!![]){switch(_0x5bf23a[_0x102ef4++]){case'0':_0x504504[_0x759d('0x18')]=_0x332708;continue;case'1':_0x504504['info']=_0x332708;continue;case'2':_0x504504[_0x759d('0x19')]=_0x332708;continue;case'3':_0x504504['exception']=_0x332708;continue;case'4':_0x504504['trace']=_0x332708;continue;case'5':return _0x504504;continue;case'6':var _0x504504={};continue;case'7':_0x504504[_0x759d('0x1a')]=_0x332708;continue;case'8':_0x504504[_0x759d('0x5')]=_0x332708;continue;}break;}}(_0x1aaa74);}else{if(_0x23635c[_0x759d('0x1b')]===_0x23635c[_0x759d('0x1b')]){var _0x3bf967=_0x23635c[_0x759d('0x1c')][_0x759d('0x17')]('|'),_0x6eb16b=0x0;while(!![]){switch(_0x3bf967[_0x6eb16b++]){case'0':_0x5beac4[_0x759d('0x14')][_0x759d('0x5')]=_0x1aaa74;continue;case'1':_0x5beac4[_0x759d('0x14')]['debug']=_0x1aaa74;continue;case'2':_0x5beac4[_0x759d('0x14')][_0x759d('0x19')]=_0x1aaa74;continue;case'3':_0x5beac4['console']['info']=_0x1aaa74;continue;case'4':_0x5beac4[_0x759d('0x14')][_0x759d('0x18')]=_0x1aaa74;continue;case'5':_0x5beac4[_0x759d('0x14')][_0x759d('0x1d')]=_0x1aaa74;continue;case'6':_0x5beac4[_0x759d('0x14')]['exception']=_0x1aaa74;continue;}break;}}else{_0x5beac4['console']=function(_0x596fc2){var _0x205aef={};c[_0x759d('0x19')]=_0x1be8dd;c['warn']=_0x44d967;c[_0x759d('0x1a')]=_0x263757;c[_0x759d('0x1e')]=_0x2ac9ae;c[_0x759d('0x5')]=_0x137f86;c['exception']=_0x37b1a9;c[_0x759d('0x1d')]=_0x57be87;return _0x46a72d;}(_0x32c4d5);}}}else{log[_0x759d('0x18')](_0x23635c['LEqCW']);return _0x3de3f3();}});_0x26bb96();'use strict';var app=require(_0x759d('0x1f'));var utility=require('../../server/modules/utility');var Q=require('q');var kafka=require(_0x759d('0x20'));var config=require('../../server/modules/config.js');var logger=require(_0x759d('0x21'));var log=logger[_0x759d('0x22')]();var _=require('underscore');var kafkaClient=new kafka[(_0x759d('0x23'))]({'kafkaHost':process[_0x759d('0x24')][_0x759d('0x25')]+':'+process[_0x759d('0x24')][_0x759d('0x26')]});const db=require('../../server/modules/db.factory');var kafkaProducer=new kafka[(_0x759d('0x27'))](kafkaClient,{'partitionerType':0x2});var redis=require(_0x759d('0x28'));var redisClient=redis[_0x759d('0x29')](config['REDIS'][_0x759d('0x2a')],config[_0x759d('0x2b')][_0x759d('0x2c')]);kafkaProducer['on'](_0x759d('0x2d'),function(){var _0x305772={'pHHvo':_0x759d('0x2e'),'Bjyaw':'Producer\x20ready...'};log[_0x759d('0x18')](_0x305772[_0x759d('0x2f')]);kafkaClient['refreshMetadata']([config[_0x759d('0x30')]],function(_0x81a32d){log[_0x759d('0x1a')](_0x305772[_0x759d('0x31')],_0x81a32d);});});kafkaProducer['on'](_0x759d('0x5'),function(_0x214070){var _0x2fdd95={'KviIY':_0x759d('0x32')};log[_0x759d('0x5')](_0x2fdd95[_0x759d('0x33')],_0x214070);});module['exports']=function(_0x21cdbc){var _0x32c1b2={'LsIce':function _0x440743(_0x2f0a29,_0x51fd61){return _0x2f0a29===_0x51fd61;},'yhcmT':'ifH','UiWhF':'EaQ','RCJSG':_0x759d('0x34'),'xSsZV':_0x759d('0x35'),'LCAVs':function _0x99476c(_0x5b4b49,_0x22bbe0){return _0x5b4b49(_0x22bbe0);},'wnBoN':function _0x22eaf8(_0x4de381,_0x33d160){return _0x4de381(_0x33d160);},'WrqFB':_0x759d('0x36'),'eXBoK':function _0x1c5076(_0x4c435b){return _0x4c435b();},'ACuyM':_0x759d('0x37'),'XpYlo':_0x759d('0x38'),'ORABG':_0x759d('0x39'),'PDbAL':_0x759d('0x3a'),'yCLhb':'startDate','Ftqvk':_0x759d('0x3b'),'iZlZf':_0x759d('0x3c'),'fZOEG':_0x759d('0x3d'),'erlhq':_0x759d('0x3e'),'qaFHg':_0x759d('0x3f'),'zBHtg':_0x759d('0x40'),'YgErp':'Get\x20report.','qwwnT':_0x759d('0x41'),'AqCQz':'Get\x20Top\x20Members.','tXWfe':_0x759d('0x42')};_0x21cdbc['calculateUsage']=async(_0x42c0d0,_0x5e885d)=>{var _0x2c0e0a={'gvDdz':_0x759d('0x43'),'RRzpr':_0x759d('0x44'),'PqNZe':function _0x1b7987(_0x58dc08,_0x3b50b5){return _0x58dc08-_0x3b50b5;},'shUft':function _0x36a0a8(_0x3248b9,_0x11df3f){return _0x3248b9-_0x11df3f;},'dZUIQ':'failed\x20to\x20cache\x20usage','fPNaW':function _0x275cf0(_0x5ef9b5,_0x1e0dbb){return _0x5ef9b5(_0x1e0dbb);},'AyKHI':function _0x39d593(_0x48b0f6){return _0x48b0f6();}};if(_0x2c0e0a[_0x759d('0x45')]===_0x759d('0x43')){let {upload,download,sessionTime}=_0x5e885d;const _0x2536c8=await _0x21cdbc[_0x759d('0x46')](_0x42c0d0);if(_0x2536c8){if(_0x759d('0x47')!==_0x2c0e0a[_0x759d('0x48')]){upload=_0x2c0e0a[_0x759d('0x49')](upload,_0x2536c8['upload']);download=_0x2c0e0a['PqNZe'](download,_0x2536c8[_0x759d('0x4a')]);sessionTime=_0x2c0e0a['PqNZe'](sessionTime,_0x2536c8[_0x759d('0x4b')]);}else{_0x406c4d=_0x2c0e0a[_0x759d('0x4c')](_0x5b3b0d,_0x2536c8['upload']);_0x111ad8=_0x2c0e0a[_0x759d('0x4c')](_0x5e3a6f,_0x2536c8['download']);_0x449bcd=_0x2c0e0a[_0x759d('0x4c')](_0x41e173,_0x2536c8[_0x759d('0x4b')]);}}return{'upload':upload,'download':download,'sessionTime':sessionTime};}else{if(_0xfa8a7){log[_0x759d('0x5')](_0x2c0e0a[_0x759d('0x4d')],_0x6d8a7c);return _0x2c0e0a[_0x759d('0x4e')](_0x25c986,'failed\x20to\x20cache');}return _0x2c0e0a[_0x759d('0x4f')](_0x4c9376);}};_0x21cdbc['getUsage']=async(_0x5821a7,_0x2df083,_0xc6f13c,_0x48075f)=>{var _0xe3ea45=_0x48075f[_0x759d('0x50')];if(!_0x5821a7){return{'bulk':0x0,'download':0x0,'upload':0x0,'sessionTime':0x0};}if(_0x32c1b2[_0x759d('0x51')](_0x5821a7,_0x759d('0x52'))){if(_0x32c1b2[_0x759d('0x51')](_0x32c1b2[_0x759d('0x53')],_0x32c1b2['UiWhF'])){var _0x2663d4=_0x32c1b2[_0x759d('0x54')]['split']('|'),_0x5ddcf0=0x0;while(!![]){switch(_0x2663d4[_0x5ddcf0++]){case'0':that['console'][_0x759d('0x19')]=_0xe484c8;continue;case'1':that[_0x759d('0x14')][_0x759d('0x18')]=_0x35668f;continue;case'2':that['console']['info']=_0x3d5112;continue;case'3':that[_0x759d('0x14')][_0x759d('0x1d')]=_0x49594d;continue;case'4':that[_0x759d('0x14')][_0x759d('0x1a')]=_0x4dbbbc;continue;case'5':that[_0x759d('0x14')]['exception']=_0x1a1cce;continue;case'6':that['console'][_0x759d('0x5')]=_0x21fae1;continue;}break;}}else{_0x5821a7=null;}}const _0x469d92=await db['getBusinessUsage'](_0xe3ea45,_0x5821a7,_0x2df083,_0xc6f13c);return _0x469d92;};_0x21cdbc[_0x759d('0x55')](_0x32c1b2[_0x759d('0x56')],{'description':_0x32c1b2[_0x759d('0x57')],'accepts':[{'arg':_0x759d('0x3a'),'type':_0x32c1b2[_0x759d('0x58')],'description':_0x32c1b2[_0x759d('0x59')]},{'arg':_0x32c1b2[_0x759d('0x5a')],'type':_0x32c1b2[_0x759d('0x5b')],'required':!![],'description':_0x32c1b2[_0x759d('0x5c')]},{'arg':_0x759d('0x42'),'type':_0x759d('0x3b'),'required':!![],'description':_0x32c1b2[_0x759d('0x5d')]},{'arg':_0x32c1b2[_0x759d('0x5e')],'type':_0x32c1b2[_0x759d('0x5f')],'http':_0x32c1b2[_0x759d('0x60')]}],'returns':{'root':!![]}});_0x21cdbc[_0x759d('0x61')]=async()=>{const _0x6f2078=await db[_0x759d('0x62')]();const _0x93812={};for(const _0x3e14c8 of _0x6f2078){_0x93812[_0x3e14c8[_0x759d('0x63')]]=_0x3e14c8;}return{'db':_0x93812};};_0x21cdbc[_0x759d('0x55')]('reportStatus',{'description':_0x32c1b2['YgErp'],'accepts':[],'returns':{'root':!![]}});_0x21cdbc['getTopMembers']=async(_0x1772d6,_0x17d022,_0x35e327,_0x3b8fdb)=>{var _0x5cbcfb=_0x3b8fdb[_0x759d('0x50')];var _0x452fc6=Number[_0x759d('0x64')](_0x17d022);var _0x25d27f=Number[_0x759d('0x64')](_0x35e327);const _0x3835cf=0xa;const _0x3d5468=0x0;const _0x4a2318=[];const _0x48a5ef=[];const _0x1eb8db=[];const _0x1481b7=[];if(!_0x1772d6){return{'username':_0x4a2318,'upload':_0x48a5ef,'download':_0x1eb8db,'sessionTime':_0x1481b7};}if(_0x1772d6===_0x759d('0x52')){if(_0x32c1b2[_0x759d('0x51')](_0x759d('0x35'),_0x32c1b2[_0x759d('0x65')])){_0x1772d6=null;}else{_0x584627=_0x2fe4bc;}}const _0x3cc02b=await db['getTopMembersByUsage'](_0x5cbcfb,_0x1772d6,_0x452fc6,_0x25d27f,_0x3835cf,_0x3d5468);for(const _0x2492a7 of _0x3cc02b){_0x4a2318[_0x759d('0x66')](_0x2492a7['username']);_0x48a5ef[_0x759d('0x66')](Number(_0x2492a7[_0x759d('0x67')]));_0x1eb8db[_0x759d('0x66')](_0x32c1b2[_0x759d('0x68')](Number,_0x2492a7[_0x759d('0x4a')]));_0x1481b7[_0x759d('0x66')](Number(_0x2492a7['sessionTime']));}return{'username':_0x4a2318,'upload':_0x48a5ef,'download':_0x1eb8db,'sessionTime':_0x1481b7};};_0x21cdbc[_0x759d('0x55')](_0x32c1b2[_0x759d('0x69')],{'description':_0x32c1b2[_0x759d('0x6a')],'accepts':[{'arg':_0x32c1b2[_0x759d('0x59')],'type':_0x32c1b2['ORABG'],'description':_0x32c1b2['PDbAL']},{'arg':_0x32c1b2[_0x759d('0x5a')],'type':_0x759d('0x3b'),'required':!![],'description':_0x32c1b2['iZlZf']},{'arg':_0x32c1b2['tXWfe'],'type':_0x759d('0x3b'),'required':!![],'description':_0x32c1b2[_0x759d('0x5d')]},{'arg':_0x32c1b2['erlhq'],'type':'object','http':_0x759d('0x40')}],'returns':{'root':!![]}});_0x21cdbc[_0x759d('0x6b')]=function(_0x3a9258){var _0x485ec8={'sjebK':function _0x1f5343(_0x34c0aa,_0x35181f){return _0x34c0aa===_0x35181f;},'ZvBUf':_0x759d('0x6c'),'RKavt':function _0x386b27(_0xfe2a65,_0x1b597e){return _0xfe2a65(_0x1b597e);},'JmTxh':_0x759d('0x2'),'aACRm':_0x759d('0x2e'),'rkwBE':function _0x32db2f(_0x11e556,_0x386c51){return _0x11e556!==_0x386c51;},'kKfwL':_0x759d('0x6d'),'dJHja':'UzM'};if(_0x485ec8[_0x759d('0x6e')](_0x485ec8[_0x759d('0x6f')],_0x485ec8['dJHja'])){return Q[_0x759d('0x70')]((_0x2e097d,_0x30e833)=>{var _0x139259={'gyZBK':function _0x329ccf(_0x337162,_0x5e8c36){return _0x485ec8[_0x759d('0x71')](_0x337162,_0x5e8c36);},'BAMeS':_0x485ec8[_0x759d('0x72')],'sAohe':_0x759d('0x1'),'hrHNm':function _0x5385bd(_0x23e6c9,_0x3909b3){return _0x485ec8[_0x759d('0x73')](_0x23e6c9,_0x3909b3);},'sgtIU':_0x485ec8['JmTxh'],'iXMHy':_0x485ec8[_0x759d('0x74')],'nmqNK':function _0x5172e1(_0x51ab2d){return _0x51ab2d();}};redisClient[_0x759d('0x75')](_0x3a9258[_0x759d('0x76')],JSON[_0x759d('0x77')](_0x3a9258),'EX',0xe10,function(_0x1344c2){if(_0x1344c2){if(_0x139259[_0x759d('0x78')](_0x139259[_0x759d('0x79')],_0x139259[_0x759d('0x79')])){log[_0x759d('0x5')](_0x139259['sAohe'],_0x1344c2);return _0x139259[_0x759d('0x7a')](_0x30e833,_0x139259[_0x759d('0x7b')]);}else{log[_0x759d('0x1a')](_0x139259[_0x759d('0x7c')],_0xb8b27a);}}return _0x139259[_0x759d('0x7d')](_0x2e097d);});});}else{if(_0x2c337a){var _0x17f3ef=fn[_0x759d('0x8')](_0x508d79,_0xa272ec);_0x30c4f8=null;return _0x1b24ce;}}};_0x21cdbc[_0x759d('0x46')]=function(_0x24b03a){var _0xc4a193={'ZeXgO':function _0xe2dc01(_0x46cfa9,_0x32e9b4){return _0x32c1b2[_0x759d('0x51')](_0x46cfa9,_0x32e9b4);},'LWxEF':_0x759d('0x7e'),'zHRYD':function _0x3d303e(_0x411a6a,_0x2e22d1){return _0x32c1b2[_0x759d('0x7f')](_0x411a6a,_0x2e22d1);},'LjqSC':'WgL','pWgXz':_0x32c1b2[_0x759d('0x80')],'fZiXg':function _0x4e37c1(_0x1409eb){return _0x32c1b2['eXBoK'](_0x1409eb);}};return Q[_0x759d('0x70')]((_0x5c8449,_0x2eaeb0)=>{var _0x439a26={'PoggA':function _0x86c97e(_0x7c220d,_0x6bdedd){return _0xc4a193[_0x759d('0x81')](_0x7c220d,_0x6bdedd);},'BKtIx':_0xc4a193[_0x759d('0x82')],'fBDZn':function _0x40ad11(_0x5c81fd,_0x51603e){return _0xc4a193[_0x759d('0x83')](_0x5c81fd,_0x51603e);},'CffYG':_0xc4a193['LjqSC'],'Fseck':_0xc4a193['pWgXz'],'IPfot':function _0x68b1c4(_0x2e357b){return _0xc4a193[_0x759d('0x84')](_0x2e357b);}};redisClient[_0x759d('0x85')](_0x24b03a,(_0x29483d,_0x40905d)=>{if(_0x29483d){if(_0x439a26['PoggA'](_0x759d('0x7e'),_0x439a26[_0x759d('0x86')])){log[_0x759d('0x5')](_0x759d('0x87')+_0x24b03a);return _0x439a26[_0x759d('0x88')](_0x2eaeb0,_0x29483d);}else{log[_0x759d('0x5')](_0x759d('0x32'),_0x3b20de);}}if(!_0x40905d){if(_0x439a26['CffYG']!==_0x759d('0x89')){log[_0x759d('0x18')](_0x439a26['Fseck']);return _0x439a26[_0x759d('0x8a')](_0x5c8449);}else{var _0x1815af={};c[_0x759d('0x19')]=_0x2e22d0;c[_0x759d('0x18')]=_0x2954ee;c[_0x759d('0x1a')]=_0x186cda;c[_0x759d('0x1e')]=_0x1f3b90;c['error']=_0x33a610;c[_0x759d('0x8b')]=_0x430882;c[_0x759d('0x1d')]=_0x4f35e6;return _0x515f73;}}return _0x5c8449(JSON['parse'](_0x40905d));});});};};