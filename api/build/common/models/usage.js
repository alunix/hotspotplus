var _0x6489=['UGdVdHg=','Uk1ObEs=','blJWdHQ=','dlNnWVA=','ZW5aUGs=','RmdD','dllSTlY=','VlltRnI=','ZVpP','YklOSHQ=','RnNVaXU=','Y0Z0a04=','T1llT2c=','Y3JlYXRpb25EYXRl','bWVtYmVySWQ=','QU1xQWw=','Z1lmekY=','bGFKaUo=','c2Vzc2lvblJlcG9ydHM=','ZnJvbURhdGU=','VFRtb0M=','WXhFaWw=','Ykp3TGQ=','WUNRYlM=','eUxD','cmxI','bW1y','eFJM','Sld5SUQ=','VE90TXk=','SGZOdUE=','ZUhIQlM=','V0VaakQ=','YXBwbHk=','M3wyfDB8NnwxfDV8NA==','c3BsaXQ=','Y29uc29sZQ==','ZXJyb3I=','d2Fybg==','dHJhY2U=','SUt5','UFFh','aGFn','cmV0dXJuIChmdW5jdGlvbigpIA==','NnwzfDJ8MXwwfDR8NQ==','N3w1fDZ8Mnw4fDN8MXw0fDA=','dmpydHQ=','bmRiWGQ=','S1hWaXY=','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','ekdMWGM=','Qk9HTEE=','dHFHRnU=','dURlV3M=','SEpnQ2Q=','TVZJRHo=','TEZ0','V3lTU20=','ZXhjZXB0aW9u','ZGVidWc=','R050dlU=','aXhnWWo=','aW5mbw==','R2Z0bWU=','bG9n','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmlnLmpz','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','S2Fma2FDbGllbnQ=','ZW52','S0FGS0FfSVA=','S0FGS0FfUE9SVA==','cmVhZHk=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','UHJvZHVjZXIgcmVhZHkuLi4=','Z3RiZmw=','cmVmcmVzaE1ldGFkYXRh','QUNDT1VOVElOR19UT1BJQw==','WkF1Ykc=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','Vk1BcGo=','ZXhwb3J0cw==','R091','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','TkRacGs=','VVZHVVc=','RFRjaVU=','WG1VU1I=','UHJvbWlzZQ==','dXNhZ2UgYWRkZWQ6','aXNNb25nb0RiU3RvcmFnZQ==','Y3JlYXRl','RnJrZko=','VmJQTHk=','c2VuZA==','c3RyaW5naWZ5','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','VGJpVkU=','Z2V0QnVzaW5lc3NVc2FnZVJlcG9ydA==','a1VlelI=','a2RVaHg=','cUVoQVA=','bU9pa1A=','YkZ5Y04=','Z2V0QnVzaW5lc3NEYWlseVVzYWdlUmVwb3J0','ZmFpbA==','ZXVnbUo=','QUdHUkVHQVRF','SE9VUl9NSUxMSVNFQ09ORFM=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','dGhlbg==','Z2V0TWVtYmVyVHJhZmZpY1VzYWdlUmVwb3J0','M3w0fDJ8MXww','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','bXNQ','NXw2fDN8MXwyfDR8MA==','TlBi','a0l3','eWpi','NHw1fDF8M3wwfDZ8Mg==','U0RvR3A=','emljeUQ=','Z2xTa24=','aVByZXY=','VlZ4cFE=','bGVuZ3Ro','RWlHS3Y=','ZGF0ZQ==','a2V5','ZG93bmxvYWQ=','dG9NQnl0ZQ==','dmFsdWU=','dXBsb2Fk','dG9GaXhlZA==','UEJBUE8=','cHVzaA==','c2Vzc2lvbklk','b2NabWY=','c2Vzc2lvblRpbWU=','eVNnUkg=','eEJjZkk=','Z2V0VGltZQ==','cXBVSnE=','VlVHdnY='];(function(_0xac151d,_0x4ea1d2){var _0x111dba=function(_0x13d7f4){while(--_0x13d7f4){_0xac151d['push'](_0xac151d['shift']());}};var _0x4fadac=function(){var _0x589640={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x305b6b,_0x400c43,_0x39fd49,_0x560afa){_0x560afa=_0x560afa||{};var _0x1d12e3=_0x400c43+'='+_0x39fd49;var _0x3b8a46=0x0;for(var _0x3b8a46=0x0,_0x2949a4=_0x305b6b['length'];_0x3b8a46<_0x2949a4;_0x3b8a46++){var _0x561055=_0x305b6b[_0x3b8a46];_0x1d12e3+=';\x20'+_0x561055;var _0x122b71=_0x305b6b[_0x561055];_0x305b6b['push'](_0x122b71);_0x2949a4=_0x305b6b['length'];if(_0x122b71!==!![]){_0x1d12e3+='='+_0x122b71;}}_0x560afa['cookie']=_0x1d12e3;},'removeCookie':function(){return'dev';},'getCookie':function(_0xeefe34,_0x2445a0){_0xeefe34=_0xeefe34||function(_0x1fbbe6){return _0x1fbbe6;};var _0x1d8b50=_0xeefe34(new RegExp('(?:^|;\x20)'+_0x2445a0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x4a9f85=function(_0x455dda,_0x417f34){_0x455dda(++_0x417f34);};_0x4a9f85(_0x111dba,_0x4ea1d2);return _0x1d8b50?decodeURIComponent(_0x1d8b50[0x1]):undefined;}};var _0x4e57f5=function(){var _0x469d0d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x469d0d['test'](_0x589640['removeCookie']['toString']());};_0x589640['updateCookie']=_0x4e57f5;var _0x38fc68='';var _0x23f7f2=_0x589640['updateCookie']();if(!_0x23f7f2){_0x589640['setCookie'](['*'],'counter',0x1);}else if(_0x23f7f2){_0x38fc68=_0x589640['getCookie'](null,'counter');}else{_0x589640['removeCookie']();}};_0x4fadac();}(_0x6489,0x13c));var _0x9648=function(_0x19a550,_0x30df50){_0x19a550=_0x19a550-0x0;var _0x18ecef=_0x6489[_0x19a550];if(_0x9648['initialized']===undefined){(function(){var _0xa615cd;try{var _0x354aa8=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xa615cd=_0x354aa8();}catch(_0x3d1030){_0xa615cd=window;}var _0x3f7ae9='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0xa615cd['atob']||(_0xa615cd['atob']=function(_0x98b9dc){var _0x4efcf1=String(_0x98b9dc)['replace'](/=+$/,'');for(var _0x34ab35=0x0,_0x6b150d,_0x5d4f50,_0x242600=0x0,_0x30120d='';_0x5d4f50=_0x4efcf1['charAt'](_0x242600++);~_0x5d4f50&&(_0x6b150d=_0x34ab35%0x4?_0x6b150d*0x40+_0x5d4f50:_0x5d4f50,_0x34ab35++%0x4)?_0x30120d+=String['fromCharCode'](0xff&_0x6b150d>>(-0x2*_0x34ab35&0x6)):0x0){_0x5d4f50=_0x3f7ae9['indexOf'](_0x5d4f50);}return _0x30120d;});}());_0x9648['base64DecodeUnicode']=function(_0x23fb22){var _0x314db8=atob(_0x23fb22);var _0x3a1181=[];for(var _0x22fb97=0x0,_0xd3a9ba=_0x314db8['length'];_0x22fb97<_0xd3a9ba;_0x22fb97++){_0x3a1181+='%'+('00'+_0x314db8['charCodeAt'](_0x22fb97)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3a1181);};_0x9648['data']={};_0x9648['initialized']=!![];}var _0x3090d0=_0x9648['data'][_0x19a550];if(_0x3090d0===undefined){var _0x1b4c0e=function(_0xb97d99){this['rc4Bytes']=_0xb97d99;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1b4c0e['prototype']['checkState']=function(){var _0x4b6d3e=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x4b6d3e['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x1b4c0e['prototype']['runState']=function(_0xe15dce){if(!Boolean(~_0xe15dce)){return _0xe15dce;}return this['getState'](this['rc4Bytes']);};_0x1b4c0e['prototype']['getState']=function(_0x1a538c){for(var _0x33864c=0x0,_0x423969=this['states']['length'];_0x33864c<_0x423969;_0x33864c++){this['states']['push'](Math['round'](Math['random']()));_0x423969=this['states']['length'];}return _0x1a538c(this['states'][0x0]);};new _0x1b4c0e(_0x9648)['checkState']();_0x18ecef=_0x9648['base64DecodeUnicode'](_0x18ecef);_0x9648['data'][_0x19a550]=_0x18ecef;}else{_0x18ecef=_0x3090d0;}return _0x18ecef;};var _0x20fc28=function(){var _0x3dd15e=!![];return function(_0x1f0015,_0x231fd0){var _0x4f680a=_0x3dd15e?function(){if(_0x231fd0){var _0x5b4826=_0x231fd0['apply'](_0x1f0015,arguments);_0x231fd0=null;return _0x5b4826;}}:function(){};_0x3dd15e=![];return _0x4f680a;};}();var _0x564001=_0x20fc28(this,function(){var _0x20a584=function(){return'\x64\x65\x76';},_0xe384a5=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x46f3fa=function(){var _0x44b31e=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x44b31e['\x74\x65\x73\x74'](_0x20a584['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x58157c=function(){var _0x1d33e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1d33e['\x74\x65\x73\x74'](_0xe384a5['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4086cd=function(_0x4880bf){var _0x5f7f12=~-0x1>>0x1+0xff%0x0;if(_0x4880bf['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x5f7f12)){_0x11bf85(_0x4880bf);}};var _0x11bf85=function(_0x2a1a7e){var _0x3717e1=~-0x4>>0x1+0xff%0x0;if(_0x2a1a7e['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3717e1){_0x4086cd(_0x2a1a7e);}};if(!_0x46f3fa()){if(!_0x58157c()){_0x4086cd('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4086cd('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4086cd('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x564001();var _0x11112f=function(){var _0xee7430=!![];return function(_0x698ad9,_0x3e49eb){var _0x1963aa={'koBTF':function _0x5ddf55(_0x4f0450,_0x4cf828){return _0x4f0450===_0x4cf828;},'HfNuA':_0x9648('0x0'),'eHHBS':function _0x302658(_0x1d4db3,_0x2cde5e){return _0x1d4db3!==_0x2cde5e;},'ZnBhl':_0x9648('0x1'),'WEZjD':function _0x24f3c8(_0x16ba67,_0x46a2e1){return _0x16ba67(_0x46a2e1);},'lzeUf':function _0x4be042(_0x3dfff8,_0x1bac4f){return _0x3dfff8!==_0x1bac4f;},'JWyID':_0x9648('0x2'),'TOtMy':_0x9648('0x3')};if(_0x1963aa['lzeUf'](_0x1963aa[_0x9648('0x4')],_0x1963aa[_0x9648('0x5')])){var _0x195714=_0xee7430?function(){if(_0x1963aa['koBTF'](_0x1963aa[_0x9648('0x6')],_0x1963aa[_0x9648('0x6')])){if(_0x3e49eb){if(_0x1963aa[_0x9648('0x7')](_0x1963aa['ZnBhl'],_0x1963aa['ZnBhl'])){return _0x1963aa[_0x9648('0x8')](_0x1aae99,_0x225646);}else{var _0x550424=_0x3e49eb['apply'](_0x698ad9,arguments);_0x3e49eb=null;return _0x550424;}}}else{var _0xe49819=_0x1ecc30?function(){if(_0x1644ea){var _0x52aaa8=_0x3e49eb[_0x9648('0x9')](_0x1ba91d,_0x25316b);_0x4557cb=null;return _0x5b75d6;}}:function(){};_0x4ff6f1=![];return _0x181f85;}}:function(){};_0xee7430=![];return _0x195714;}else{var _0x28402c=_0x9648('0xa')[_0x9648('0xb')]('|'),_0x2d6e8f=0x0;while(!![]){switch(_0x28402c[_0x2d6e8f++]){case'0':that[_0x9648('0xc')]['debug']=_0x33c103;continue;case'1':that[_0x9648('0xc')][_0x9648('0xd')]=_0x29ac7c;continue;case'2':that['console'][_0x9648('0xe')]=_0x1cd69d;continue;case'3':that['console']['log']=_0x59dde6;continue;case'4':that[_0x9648('0xc')][_0x9648('0xf')]=_0x9b0bd2;continue;case'5':that['console']['exception']=_0x58e9f1;continue;case'6':that[_0x9648('0xc')]['info']=_0x3f341a;continue;}break;}}};}();var _0x3ffe6f=_0x11112f(this,function(){var _0x4f664d={'KXViv':_0x9648('0x10'),'gNHAo':_0x9648('0x11'),'MVIDz':function _0x1b18dc(_0x30b8d6,_0x330f87){return _0x30b8d6===_0x330f87;},'WySSm':'LFt','UcWlp':'1|3|5|2|7|8|0|4|6','GNtvU':function _0x2992c7(_0x42c2e3,_0x13adfc){return _0x42c2e3(_0x13adfc);},'vjrtt':function _0x1ba6ed(_0x509018,_0x3bb49f){return _0x509018===_0x3bb49f;},'ndbXd':_0x9648('0x12'),'zGLXc':function _0xa50941(_0x1ae3f3,_0x501e00){return _0x1ae3f3+_0x501e00;},'BOGLA':function _0x41e511(_0x117ece,_0x364219){return _0x117ece+_0x364219;},'tqGFu':_0x9648('0x13'),'uDeWs':'{}.constructor(\x22return\x20this\x22)(\x20)','HJgCd':function _0x3c9729(_0x4c286a){return _0x4c286a();},'ixgYj':_0x9648('0x14'),'Gftme':_0x9648('0x15')};if(_0x4f664d[_0x9648('0x16')](_0x4f664d['ndbXd'],_0x4f664d[_0x9648('0x17')])){var _0x265452=function(){if(_0x4f664d[_0x9648('0x18')]!==_0x4f664d['gNHAo']){}else{_0x56689b=config[_0x9648('0x19')];}};var _0x4eda2b;try{var _0x28deeb=Function(_0x4f664d[_0x9648('0x1a')](_0x4f664d[_0x9648('0x1b')](_0x4f664d[_0x9648('0x1c')],_0x4f664d[_0x9648('0x1d')]),');'));_0x4eda2b=_0x4f664d[_0x9648('0x1e')](_0x28deeb);}catch(_0x27703c){_0x4eda2b=window;}if(!_0x4eda2b[_0x9648('0xc')]){_0x4eda2b[_0x9648('0xc')]=function(_0x32d3c5){if(_0x4f664d[_0x9648('0x1f')](_0x9648('0x20'),_0x4f664d[_0x9648('0x21')])){var _0x10316e=_0x4f664d['UcWlp']['split']('|'),_0x21b2cb=0x0;while(!![]){switch(_0x10316e[_0x21b2cb++]){case'0':_0x2882fd[_0x9648('0x22')]=_0x32d3c5;continue;case'1':var _0x2882fd={};continue;case'2':_0x2882fd[_0x9648('0x23')]=_0x32d3c5;continue;case'3':_0x2882fd['log']=_0x32d3c5;continue;case'4':_0x2882fd[_0x9648('0xf')]=_0x32d3c5;continue;case'5':_0x2882fd['warn']=_0x32d3c5;continue;case'6':return _0x2882fd;continue;case'7':_0x2882fd['info']=_0x32d3c5;continue;case'8':_0x2882fd[_0x9648('0xd')]=_0x32d3c5;continue;}break;}}else{return _0x4f664d[_0x9648('0x24')](_0x12ecfb,_0x460e1f);}}(_0x265452);}else{var _0x104fa4=_0x4f664d[_0x9648('0x25')][_0x9648('0xb')]('|'),_0x504d0b=0x0;while(!![]){switch(_0x104fa4[_0x504d0b++]){case'0':_0x4eda2b[_0x9648('0xc')]['error']=_0x265452;continue;case'1':_0x4eda2b[_0x9648('0xc')][_0x9648('0x26')]=_0x265452;continue;case'2':_0x4eda2b['console'][_0x9648('0x23')]=_0x265452;continue;case'3':_0x4eda2b[_0x9648('0xc')][_0x9648('0xe')]=_0x265452;continue;case'4':_0x4eda2b[_0x9648('0xc')][_0x9648('0x22')]=_0x265452;continue;case'5':_0x4eda2b[_0x9648('0xc')]['trace']=_0x265452;continue;case'6':_0x4eda2b[_0x9648('0xc')]['log']=_0x265452;continue;}break;}}}else{var _0x5c0384=_0x4f664d[_0x9648('0x27')][_0x9648('0xb')]('|'),_0x434388=0x0;while(!![]){switch(_0x5c0384[_0x434388++]){case'0':return _0x2789df;continue;case'1':c[_0x9648('0x22')]=_0x41e457;continue;case'2':c[_0x9648('0x23')]=_0x580ba0;continue;case'3':c['error']=_0x29fa2c;continue;case'4':c[_0x9648('0xf')]=_0x376432;continue;case'5':c[_0x9648('0x28')]=_0x1d1e3f;continue;case'6':c[_0x9648('0xe')]=_0x1c4dcf;continue;case'7':var _0x392f73={};continue;case'8':c['info']=_0x3c90e3;continue;}break;}}});_0x3ffe6f();'use strict';var app=require(_0x9648('0x29'));var utility=require(_0x9648('0x2a'));var Q=require('q');var kafka=require(_0x9648('0x2b'));var aggregate=require('../../server/modules/aggregates');var config=require(_0x9648('0x2c'));var logger=require(_0x9648('0x2d'));var log=logger['createLogger']();var _=require('underscore');var kafkaClient=new kafka[(_0x9648('0x2e'))]({'kafkaHost':process[_0x9648('0x2f')][_0x9648('0x30')]+':'+process[_0x9648('0x2f')][_0x9648('0x31')]});var kafkaProducer=new kafka['Producer'](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0x9648('0x32'),function(){var _0xa63eb2={'ZAubG':_0x9648('0x33'),'gtbfl':_0x9648('0x34')};log[_0x9648('0xe')](_0xa63eb2[_0x9648('0x35')]);kafkaClient[_0x9648('0x36')]([config[_0x9648('0x37')]],function(_0xe9e0cf){log[_0x9648('0x23')](_0xa63eb2[_0x9648('0x38')],_0xe9e0cf);});});kafkaProducer['on']('error',function(_0x2783cd){var _0x346439={'VMApj':_0x9648('0x39')};log['error'](_0x346439[_0x9648('0x3a')],_0x2783cd);});module[_0x9648('0x3b')]=function(_0x4af023){var _0x3743a4={'XmUSR':function _0x6e7c09(_0x5479fd,_0xf2ac77){return _0x5479fd(_0xf2ac77);},'kUezR':_0x9648('0x3c'),'kdUhx':function _0x52ee16(_0x4ef528,_0x5b3aa3){return _0x4ef528*_0x5b3aa3;},'ZfvFl':_0x9648('0x3d'),'WLXkj':function _0x3128e6(_0x4a46a9,_0xf677ae){return _0x4a46a9(_0xf677ae);},'vYRNV':'Yks','VYmFr':function _0x5b5233(_0x317299,_0x590863){return _0x317299-_0x590863;},'NDZpk':function _0x375c8f(_0x62e1bd,_0x246636){return _0x62e1bd!==_0x246636;},'UVGUW':'NcO','DTciU':'lTa','YCQbS':function _0x56f615(_0x3958d9,_0x4c30d5){return _0x3958d9(_0x4c30d5);}};if(_0x3743a4[_0x9648('0x3e')](_0x3743a4[_0x9648('0x3f')],_0x3743a4[_0x9648('0x40')])){_0x4af023['addUsageReport']=function(_0x4a33bf){var _0x26ec60={'FrkfJ':function _0x1528d9(_0x27057f,_0x385451){return _0x3743a4[_0x9648('0x41')](_0x27057f,_0x385451);},'VbPLy':function _0x3623be(_0x5c36f7){return _0x5c36f7();}};return Q[_0x9648('0x42')](function(_0x4ae044,_0x3abaec){var _0x301328={'TbiVE':_0x9648('0x43')};if(utility[_0x9648('0x44')]()){_0x4af023[_0x9648('0x45')](_0x4a33bf,function(_0x3c9afc){if(_0x3c9afc){log['error'](_0x3c9afc);return _0x26ec60[_0x9648('0x46')](_0x3abaec,_0x3c9afc);}return _0x26ec60[_0x9648('0x47')](_0x4ae044);});}else{kafkaProducer[_0x9648('0x48')]([{'topic':config[_0x9648('0x37')],'messages':JSON[_0x9648('0x49')](_0x4a33bf)}],function(_0x216fba,_0x3d944f){if(_0x216fba){log[_0x9648('0xd')](_0x9648('0x4a'),_0x216fba);return;}log[_0x9648('0x23')](_0x301328[_0x9648('0x4b')],_0x3d944f);});return _0x4ae044();}});};_0x4af023[_0x9648('0x4c')]=function(_0x578d7e,_0x1e4b47,_0x37a148,_0x4c3735,_0x22a24f,_0x2326af){var _0x5d7a9f={'qEhAP':function _0x54ddcc(_0x3c2d26,_0x514006){return _0x3c2d26(_0x514006);},'mOikP':function _0x3a41e9(_0x67d74,_0x181e0f){return _0x67d74===_0x181e0f;},'bFycN':_0x3743a4[_0x9648('0x4d')],'ekhpL':function _0x478bd1(_0x17f640,_0x47584f){return _0x3743a4[_0x9648('0x4e')](_0x17f640,_0x47584f);},'vSgYP':_0x9648('0x13'),'enZPk':_0x3743a4['ZfvFl']};return Q[_0x9648('0x42')](function(_0x312cac,_0x288b76){var _0x5d48f4={'eugmJ':function _0x440f04(_0x2a8102,_0x12e074){return _0x5d7a9f[_0x9648('0x4f')](_0x2a8102,_0x12e074);}};if(_0x5d7a9f[_0x9648('0x50')](_0x5d7a9f[_0x9648('0x51')],_0x9648('0x3c'))){if(utility['isMongoDbStorage']()){aggregate[_0x9648('0x52')](_0x37a148,_0x578d7e,_0x1e4b47)['then'](function(_0x1c8ff5){return _0x5d48f4['eugmJ'](_0x312cac,_0x1c8ff5);})[_0x9648('0x53')](function(_0x401c9e){return _0x5d48f4[_0x9648('0x54')](_0x288b76,_0x401c9e);});}else{_0x4c3735=_0x5d7a9f['ekhpL'](-_0x4c3735,config[_0x9648('0x55')][_0x9648('0x56')]);log[_0x9648('0x23')]('@getTrafficUsage\x20from\x20elastic');aggregate[_0x9648('0x57')](_0x37a148,_0x578d7e,_0x1e4b47)[_0x9648('0x58')](function(_0x2ca9b2){if(_0x2ca9b2<config[_0x9648('0x19')]){_0x2ca9b2=config[_0x9648('0x19')];}aggregate[_0x9648('0x59')](_0x578d7e,_0x1e4b47,_0x37a148,_0x4c3735,_0x22a24f,_0x2ca9b2)[_0x9648('0x58')](function(_0x497031){var _0x22b653={'SDoGp':_0x9648('0x5a'),'zicyD':function _0x53e88a(_0xae7ec,_0x5e4593){return _0xae7ec(_0x5e4593);},'glSkn':function _0x501a96(_0x269fc3,_0x558958){return _0x269fc3+_0x558958;},'iPrev':_0x9648('0x5b'),'VVxpQ':function _0x35c6af(_0x5ec99d,_0x12d339){return _0x5ec99d===_0x12d339;},'EiGKv':_0x9648('0x5c'),'ocZmf':function _0x44581f(_0x81b864,_0x1d472e){return _0x81b864<_0x1d472e;},'PBAPO':_0x9648('0x5d'),'ySgRH':function _0x25263b(_0x221698,_0x7888d){return _0x221698/_0x7888d;},'xBcfI':function _0x3a064d(_0x2c1a6b,_0x4ece3f){return _0x2c1a6b-_0x4ece3f;},'qpUJq':function _0x1ef002(_0x5d6bd1,_0x40904b){return _0x5d6bd1!==_0x40904b;},'VYNpU':_0x9648('0x5e'),'PWfqJ':_0x9648('0x5f'),'VUGvv':_0x9648('0x60'),'PgUtx':'YFa','xejlL':'Failed\x20to\x20add\x20accounting\x20to\x20kafka:\x20','yXcZI':_0x9648('0x61'),'SNRuO':function _0x473bdf(_0x5ea484,_0xca2ed8){return _0x5ea484<_0xca2ed8;},'RMNlK':function _0x4e4378(_0x322929,_0x57259e){return _0x322929!==_0x57259e;},'nRVtt':'joT'};var _0x551433=_0x22b653[_0x9648('0x62')]['split']('|'),_0x1c8cac=0x0;while(!![]){switch(_0x551433[_0x1c8cac++]){case'0':return _0x22b653[_0x9648('0x63')](_0x312cac,_0x3c3741);continue;case'1':log[_0x9648('0x23')](_0x22b653[_0x9648('0x64')](_0x22b653[_0x9648('0x65')],JSON[_0x9648('0x49')](_0x3c3741)));continue;case'2':if(_0x22b653[_0x9648('0x66')](_0x2326af[_0x9648('0x67')],0x0)){if(_0x22b653[_0x9648('0x68')]===_0x22b653[_0x9648('0x68')]){for(var _0x65291d=0x0;_0x65291d<_0x497031[_0x9648('0x67')];_0x65291d++){_0x3c3741[_0x9648('0x69')][_0x65291d]=_0x497031[_0x65291d][_0x9648('0x6a')];_0x3c3741[_0x9648('0x6b')][_0x65291d]=utility[_0x9648('0x6c')](_0x497031[_0x65291d][_0x9648('0x6b')][_0x9648('0x6d')])['toFixed'](0x0);_0x3c3741['upload'][_0x65291d]=utility['toMByte'](_0x497031[_0x65291d][_0x9648('0x6e')][_0x9648('0x6d')])[_0x9648('0x6f')](0x0);}}else{var _0x5bde7f=[];for(var _0x1bd0d8=0x0;_0x22b653['ocZmf'](_0x19bf14,tasksResult['length']);_0x2b83bc++){var _0xf661f5=_0x22b653[_0x9648('0x70')][_0x9648('0xb')]('|'),_0xfa8af7=0x0;while(!![]){switch(_0xf661f5[_0xfa8af7++]){case'0':report[_0x9648('0x71')](_0x1398e0);continue;case'1':var _0x4a39b1=reportResult[_0x9648('0x72')];continue;case'2':var _0x38107f=ownersDictionary[reportSessionId];continue;case'3':var _0x2afa50=reportResult['fromDate'];continue;case'4':for(var _0x93f8f9=0x0;_0x22b653[_0x9648('0x73')](_0x49ccb5,sessionReportList[_0x9648('0x67')]);_0x25f8b5++){var _0x40e059=sessionReportList[k];res[_0x9648('0x6b')]=utility[_0x9648('0x6c')](sessionReport[_0x9648('0x6b')]['value'])[_0x9648('0x6f')](0x0);res[_0x9648('0x6e')]=utility[_0x9648('0x6c')](sessionReport[_0x9648('0x6e')][_0x9648('0x6d')])[_0x9648('0x6f')](0x0);res[_0x9648('0x74')]=_0x22b653[_0x9648('0x75')](_0x22b653[_0x9648('0x76')](new _0x268f18()[_0x9648('0x77')](),_0x44801e),0xea60)[_0x9648('0x6f')](0x0);}continue;case'5':var _0xe0cf11=tasksResult[n];continue;case'6':var _0xdc3961=reportResult['sessionReports'];continue;}break;}}return _0x22b653[_0x9648('0x63')](_0x118f3b,{'_0x2044d1':_0x173abb});}}else{if(_0x22b653[_0x9648('0x78')](_0x22b653['VYNpU'],_0x22b653['PWfqJ'])){var _0x1129ff=0x0;var _0x1fbce3=0x0;for(var _0x53a572 in _0x2326af){if(_0x22b653[_0x9648('0x66')](_0x22b653[_0x9648('0x79')],_0x22b653[_0x9648('0x7a')])){log[_0x9648('0xd')](_0x22b653['xejlL'],_0x3f4972);return;}else{var _0x4fd8f7=_0x22b653['yXcZI'][_0x9648('0xb')]('|'),_0x2c01d5=0x0;while(!![]){switch(_0x4fd8f7[_0x2c01d5++]){case'0':_0x3c3741[_0x9648('0x69')][_0x53a572]=_0x497031[_0x1129ff][_0x9648('0x6a')];continue;case'1':_0x1129ff+=_0x2326af[_0x53a572];continue;case'2':_0x3c3741[_0x9648('0x6e')][_0x53a572]=utility['toMByte'](_0x3475c2)[_0x9648('0x6f')](0x2);continue;case'3':for(_0x1fbce3;_0x22b653['SNRuO'](_0x1fbce3,_0x1129ff);_0x1fbce3++){if(_0x22b653[_0x9648('0x7b')](_0x22b653[_0x9648('0x7c')],_0x22b653[_0x9648('0x7c')])){for(var _0x48d3c6=0x0;_0x22b653['SNRuO'](_0x412a25,_0x497031[_0x9648('0x67')]);_0x549b8a++){_0x3c3741['date'][_0x65291d]=_0x497031[_0x65291d][_0x9648('0x6a')];_0x3c3741[_0x9648('0x6b')][_0x65291d]=utility['toMByte'](_0x497031[_0x65291d][_0x9648('0x6b')][_0x9648('0x6d')])[_0x9648('0x6f')](0x0);_0x3c3741[_0x9648('0x6e')][_0x65291d]=utility[_0x9648('0x6c')](_0x497031[_0x65291d]['upload'][_0x9648('0x6d')])[_0x9648('0x6f')](0x0);}}else{_0x25fa13+=_0x497031[_0x1fbce3][_0x9648('0x6b')]['value'];_0x3475c2+=_0x497031[_0x1fbce3]['upload'][_0x9648('0x6d')];}}continue;case'4':var _0x25fa13=0x0;continue;case'5':var _0x3475c2=0x0;continue;case'6':_0x3c3741['download'][_0x53a572]=utility['toMByte'](_0x25fa13)[_0x9648('0x6f')](0x2);continue;}break;}}}}else{log[_0x9648('0xe')](_0x9648('0x34'));kafkaClient[_0x9648('0x36')]([config['ACCOUNTING_TOPIC']],function(_0x2e46a5){log[_0x9648('0x23')](_0x9648('0x33'),_0x3f8469);});}}continue;case'3':var _0x3c3741={'date':[],'download':[],'upload':[]};continue;case'4':_0x2326af=_0x2326af||[];continue;}break;}})[_0x9648('0x53')](function(_0xa48dfd){log[_0x9648('0xd')](_0xa48dfd);return _0x288b76(_0xa48dfd);});})[_0x9648('0x53')](function(_0x2e9697){log[_0x9648('0xd')](_0x2e9697);return _0x288b76(_0x2e9697);});}}else{var _0x462ebf=_0x4c1e5f(_0x5d7a9f[_0x9648('0x7d')]+_0x5d7a9f[_0x9648('0x7e')]+');');_0x48e4dd=_0x27b7f5();}});};_0x4af023['getSessionUsage']=function(_0x1673cc){var _0x31da47={'YxEil':_0x9648('0x7f'),'bJwLd':function _0x5956f2(_0x3201d2,_0x481ffd){return _0x3743a4['WLXkj'](_0x3201d2,_0x481ffd);}};if(_0x3743a4[_0x9648('0x80')]!==_0x3743a4[_0x9648('0x80')]){var _0xddd532=sessionReportList[k];res['download']=utility[_0x9648('0x6c')](sessionReport[_0x9648('0x6b')][_0x9648('0x6d')])[_0x9648('0x6f')](0x0);res[_0x9648('0x6e')]=utility[_0x9648('0x6c')](sessionReport[_0x9648('0x6e')][_0x9648('0x6d')])[_0x9648('0x6f')](0x0);res['sessionTime']=(_0x3743a4[_0x9648('0x81')](new _0xbdc08c()[_0x9648('0x77')](),_0x4c92f1)/0xea60)[_0x9648('0x6f')](0x0);}else{return Q[_0x9648('0x42')](function(_0x55d3a7,_0x5313f1){var _0x481554={'bINHt':function _0x48a6a1(_0x126885,_0x4e0499){return _0x126885<_0x4e0499;},'aDJTm':'0|2|6|4|5|1|3','FsUiu':function _0x381abe(_0x5a476a,_0x5a1250){return _0x5a476a!==_0x5a1250;},'cFtkN':_0x9648('0x82'),'OYeOg':'TOZ'};var _0x46a08c='0|4|3|1|2'[_0x9648('0xb')]('|'),_0x16f272=0x0;while(!![]){switch(_0x46a08c[_0x16f272++]){case'0':var _0x289915={'AMqAl':function _0x10f463(_0x4cbcda,_0x4596d3){return _0x481554[_0x9648('0x83')](_0x4cbcda,_0x4596d3);},'gYfzF':_0x481554['aDJTm'],'vpuWN':function _0x4a525f(_0x1e2695,_0x1b01f5){return _0x481554[_0x9648('0x84')](_0x1e2695,_0x1b01f5);},'laJiJ':_0x481554[_0x9648('0x85')],'WfumL':_0x481554[_0x9648('0x86')],'TTmoC':function _0x3dd2f6(_0x41bad9,_0x1f1eb2){return _0x41bad9(_0x1f1eb2);}};continue;case'1':for(var _0x433540=0x0;_0x481554[_0x9648('0x83')](_0x433540,_0x1673cc[_0x9648('0x67')]);_0x433540++){var _0x4d8deb=_0x1673cc[_0x433540];var _0x31e9f9=_0x4d8deb['id'];_0x32b1cb[_0x31e9f9]=_0x4d8deb;_0x5defc0[_0x9648('0x71')](aggregate['getSessionsReport'](_0x4d8deb[_0x9648('0x87')],_0x4d8deb[_0x9648('0x88')],_0x31e9f9));}continue;case'2':Q['all'](_0x5defc0)[_0x9648('0x58')](function(_0x1f4b48){var _0x5d3955=[];for(var _0x544070=0x0;_0x289915[_0x9648('0x89')](_0x544070,_0x1f4b48[_0x9648('0x67')]);_0x544070++){var _0xc61c0f=_0x289915[_0x9648('0x8a')][_0x9648('0xb')]('|'),_0x373a0b=0x0;while(!![]){switch(_0xc61c0f[_0x373a0b++]){case'0':var _0x27f255=_0x1f4b48[_0x544070];continue;case'1':for(var _0x100222=0x0;_0x289915['AMqAl'](_0x100222,_0x22229b[_0x9648('0x67')]);_0x100222++){if(_0x289915['vpuWN'](_0x289915[_0x9648('0x8b')],_0x289915['WfumL'])){var _0x5f520b=_0x22229b[_0x100222];_0x58231c[_0x9648('0x6b')]=utility[_0x9648('0x6c')](_0x5f520b[_0x9648('0x6b')][_0x9648('0x6d')])[_0x9648('0x6f')](0x0);_0x58231c[_0x9648('0x6e')]=utility[_0x9648('0x6c')](_0x5f520b[_0x9648('0x6e')][_0x9648('0x6d')])[_0x9648('0x6f')](0x0);_0x58231c[_0x9648('0x74')]=((new Date()['getTime']()-_0x1737d1)/0xea60)[_0x9648('0x6f')](0x0);}else{if(_0x27e221){var _0x11d08a=fn[_0x9648('0x9')](_0x161f15,_0x13b3bb);_0x50b660=null;return _0x5a5cc0;}}}continue;case'2':var _0x22229b=_0x27f255[_0x9648('0x8c')];continue;case'3':_0x5d3955['push'](_0x58231c);continue;case'4':var _0x167cff=_0x27f255[_0x9648('0x72')];continue;case'5':var _0x58231c=_0x32b1cb[_0x167cff];continue;case'6':var _0x1737d1=_0x27f255[_0x9648('0x8d')];continue;}break;}}return _0x289915[_0x9648('0x8e')](_0x55d3a7,{'data':_0x5d3955});})[_0x9648('0x53')](function(_0x456d4b){if('oDD'===_0x31da47[_0x9648('0x8f')]){}else{log[_0x9648('0xd')](_0x456d4b);return _0x31da47[_0x9648('0x90')](_0x5313f1,_0x456d4b);}});continue;case'3':var _0x32b1cb={};continue;case'4':var _0x5defc0=[];continue;}break;}});}};}else{log[_0x9648('0xd')](_0x22a2b6);return _0x3743a4[_0x9648('0x91')](_0x6bbe6b,_0x47b6c8);}};