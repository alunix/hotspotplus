var _0xa9f6=['Qnhma0k=','UVRkYUo=','VXdJamI=','ZnlRYm8=','cmV0dXJuIChmdW5jdGlvbigpIA==','bmtkdkc=','Y29uc29sZQ==','Nnw3fDR8M3wxfDJ8OHwwfDU=','RkhPRHY=','c3BsaXQ=','dHJhY2U=','ZXJyb3I=','ZGVidWc=','d2Fybg==','bG9n','ZXhjZXB0aW9u','d3Z6','UHNVcHA=','WXFZWG4=','dXNhZ2UgYWRkZWQ6','Rm16eHQ=','aW5mbw==','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvYWdncmVnYXRlcw==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmlnLmpz','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','ZW52','S0FGS0FfSVA=','S0FGS0FfUE9SVA==','UHJvZHVjZXI=','cmVhZHk=','UHJvZHVjZXIgcmVhZHkuLi4=','cmVmcmVzaE1ldGFkYXRh','QUNDT1VOVElOR19UT1BJQw==','bldtWXk=','ZXRIQWc=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','dHdIcHc=','ZXhwb3J0cw==','YWRkVXNhZ2VSZXBvcnQ=','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','S1pQ','aUFv','a1Fp','TnpYd0s=','Q01Mc3Q=','WHREZHc=','a1p2Q2E=','a2Jr','ZmR0YmM=','ZG93bmxvYWQ=','dG9NQnl0ZQ==','dmFsdWU=','dG9GaXhlZA==','dXBsb2Fk','c2Vzc2lvblRpbWU=','VHZTdFQ=','c2VuZA==','c3RyaW5naWZ5','RGtnbVA=','dm5vUW8=','SVdFWng=','T05od3Q=','Q0Vl','bFRB','S2VB','VVhIemg=','R1ZzU1I=','QnVzQU0=','UFZOZ2c=','R1dMbW0=','Z1R3aWU=','QUdHUkVHQVRF','QGdldFRyYWZmaWNVc2FnZSBmcm9tIGVsYXN0aWM=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','dGhlbg==','Wk91VGs=','V2VDTm0=','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','M3wyfDB8MXw0','Slp2','Ymxl','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','VXViSVo=','bGVuZ3Ro','a2V5','enZIbUU=','ZGF0ZQ==','ZmNxckg=','ZmFpbA==','dUJlQ3k=','ekpxYU8=','bFRVb08=','QWVDSXA=','Z2V0U2Vzc2lvblVzYWdl','QVFwQVQ=','UHJvbWlzZQ==','Z2V0U2Vzc2lvbnNSZXBvcnQ=','Y3JlYXRpb25EYXRl','YWxs','Z3BE','VWhJ','UEFYcUw=','Vlp6U3c=','VHV4Z3M=','aGFrd1Q=','clRKZUs=','YnNGZ1c=','RWtpSWc=','Z2JCVE8=','TUNOd0k=','U2xEdmg=','SUZXblk=','Z2V0VGltZQ==','cHVzaA==','bWVtYmVySWQ=','ZnJvbURhdGU=','c2Vzc2lvblJlcG9ydHM=','TW1PZVY=','QnBwbGU=','RXB1','RVBj','VWJHdUU=','a1Vl','YXBwbHk=','Q1doYnY=','TnlT','SWV3','RmNq'];(function(_0x3f6942,_0x3aacdc){var _0x3a4e0d=function(_0x5ec9c5){while(--_0x5ec9c5){_0x3f6942['push'](_0x3f6942['shift']());}};var _0x21bbb5=function(){var _0x2ac6c2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x313863,_0x203935,_0x38a2d7,_0x23ef74){_0x23ef74=_0x23ef74||{};var _0x97afdf=_0x203935+'='+_0x38a2d7;var _0x31d37b=0x0;for(var _0x31d37b=0x0,_0x1876ae=_0x313863['length'];_0x31d37b<_0x1876ae;_0x31d37b++){var _0x560623=_0x313863[_0x31d37b];_0x97afdf+=';\x20'+_0x560623;var _0x145e73=_0x313863[_0x560623];_0x313863['push'](_0x145e73);_0x1876ae=_0x313863['length'];if(_0x145e73!==!![]){_0x97afdf+='='+_0x145e73;}}_0x23ef74['cookie']=_0x97afdf;},'removeCookie':function(){return'dev';},'getCookie':function(_0x149d02,_0xb2bb6e){_0x149d02=_0x149d02||function(_0x19de12){return _0x19de12;};var _0x232b2a=_0x149d02(new RegExp('(?:^|;\x20)'+_0xb2bb6e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x15bb98=function(_0x375260,_0x559c30){_0x375260(++_0x559c30);};_0x15bb98(_0x3a4e0d,_0x3aacdc);return _0x232b2a?decodeURIComponent(_0x232b2a[0x1]):undefined;}};var _0x2fc4d2=function(){var _0x2207f3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2207f3['test'](_0x2ac6c2['removeCookie']['toString']());};_0x2ac6c2['updateCookie']=_0x2fc4d2;var _0x2a3a66='';var _0x5d0a8d=_0x2ac6c2['updateCookie']();if(!_0x5d0a8d){_0x2ac6c2['setCookie'](['*'],'counter',0x1);}else if(_0x5d0a8d){_0x2a3a66=_0x2ac6c2['getCookie'](null,'counter');}else{_0x2ac6c2['removeCookie']();}};_0x21bbb5();}(_0xa9f6,0x7b));var _0x6a9f=function(_0x8de54f,_0x271987){_0x8de54f=_0x8de54f-0x0;var _0x14cba4=_0xa9f6[_0x8de54f];if(_0x6a9f['initialized']===undefined){(function(){var _0x5c0fe4;try{var _0x1a2fe0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5c0fe4=_0x1a2fe0();}catch(_0x2d1386){_0x5c0fe4=window;}var _0x72a76d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5c0fe4['atob']||(_0x5c0fe4['atob']=function(_0x1a82e5){var _0x57f2e3=String(_0x1a82e5)['replace'](/=+$/,'');for(var _0x59b1de=0x0,_0x54f81b,_0x4b8361,_0x17bc4a=0x0,_0x2dbb05='';_0x4b8361=_0x57f2e3['charAt'](_0x17bc4a++);~_0x4b8361&&(_0x54f81b=_0x59b1de%0x4?_0x54f81b*0x40+_0x4b8361:_0x4b8361,_0x59b1de++%0x4)?_0x2dbb05+=String['fromCharCode'](0xff&_0x54f81b>>(-0x2*_0x59b1de&0x6)):0x0){_0x4b8361=_0x72a76d['indexOf'](_0x4b8361);}return _0x2dbb05;});}());_0x6a9f['base64DecodeUnicode']=function(_0x537813){var _0x1b3917=atob(_0x537813);var _0x5a2be0=[];for(var _0x2ea130=0x0,_0x1f8b71=_0x1b3917['length'];_0x2ea130<_0x1f8b71;_0x2ea130++){_0x5a2be0+='%'+('00'+_0x1b3917['charCodeAt'](_0x2ea130)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5a2be0);};_0x6a9f['data']={};_0x6a9f['initialized']=!![];}var _0x1b1377=_0x6a9f['data'][_0x8de54f];if(_0x1b1377===undefined){var _0xa1c83b=function(_0x4eff22){this['rc4Bytes']=_0x4eff22;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xa1c83b['prototype']['checkState']=function(){var _0x2e7097=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x2e7097['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0xa1c83b['prototype']['runState']=function(_0x3be6f9){if(!Boolean(~_0x3be6f9)){return _0x3be6f9;}return this['getState'](this['rc4Bytes']);};_0xa1c83b['prototype']['getState']=function(_0x36bdb8){for(var _0x25786f=0x0,_0x20c7c6=this['states']['length'];_0x25786f<_0x20c7c6;_0x25786f++){this['states']['push'](Math['round'](Math['random']()));_0x20c7c6=this['states']['length'];}return _0x36bdb8(this['states'][0x0]);};new _0xa1c83b(_0x6a9f)['checkState']();_0x14cba4=_0x6a9f['base64DecodeUnicode'](_0x14cba4);_0x6a9f['data'][_0x8de54f]=_0x14cba4;}else{_0x14cba4=_0x1b1377;}return _0x14cba4;};var _0x7ead4=function(){var _0xbfd467=!![];return function(_0xbb6ecd,_0x270735){var _0x2661c3=_0xbfd467?function(){if(_0x270735){var _0x83719e=_0x270735['apply'](_0xbb6ecd,arguments);_0x270735=null;return _0x83719e;}}:function(){};_0xbfd467=![];return _0x2661c3;};}();var _0x2716d4=_0x7ead4(this,function(){var _0x16b6ba=function(){return'\x64\x65\x76';},_0x6ffc5a=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x55d3f7=function(){var _0x5e8204=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5e8204['\x74\x65\x73\x74'](_0x16b6ba['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xf05b5b=function(){var _0x24a61f=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x24a61f['\x74\x65\x73\x74'](_0x6ffc5a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2f341d=function(_0x710344){var _0x34b196=~-0x1>>0x1+0xff%0x0;if(_0x710344['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x34b196)){_0x2c4aec(_0x710344);}};var _0x2c4aec=function(_0x3fd655){var _0x29e818=~-0x4>>0x1+0xff%0x0;if(_0x3fd655['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x29e818){_0x2f341d(_0x3fd655);}};if(!_0x55d3f7()){if(!_0xf05b5b()){_0x2f341d('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2f341d('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2f341d('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2716d4();var _0x496302=function(){var _0xd8b63f={'UbGuE':function _0x2a65d8(_0x576c3a,_0x505d4e){return _0x576c3a===_0x505d4e;},'ILvuF':_0x6a9f('0x0'),'OIEFr':_0x6a9f('0x1')};if(_0xd8b63f[_0x6a9f('0x2')](_0x6a9f('0x1'),_0xd8b63f['OIEFr'])){var _0x145ebe=!![];return function(_0x16307d,_0x315f9e){var _0x2759e5={'CWhbv':function _0x241065(_0x1939b4,_0xf01855){return _0xd8b63f[_0x6a9f('0x2')](_0x1939b4,_0xf01855);},'ddCxT':_0xd8b63f['ILvuF'],'sJViT':_0x6a9f('0x3')};var _0x91ac95=_0x145ebe?function(){if(_0x315f9e){var _0x55a48e=_0x315f9e[_0x6a9f('0x4')](_0x16307d,arguments);_0x315f9e=null;return _0x55a48e;}}:function(){if(_0x2759e5[_0x6a9f('0x5')](_0x2759e5['ddCxT'],_0x2759e5['sJViT'])){}else{}};_0x145ebe=![];return _0x91ac95;};}else{}}();var _0x1b67b1=_0x496302(this,function(){var _0x319086={'BxfkI':_0x6a9f('0x6'),'QTdaJ':_0x6a9f('0x7'),'CRNMf':function _0x39f6ff(_0x4f819b,_0x916d3b){return _0x4f819b(_0x916d3b);},'UwIjb':function _0x51bdea(_0x2c2dbd,_0x5d8d69){return _0x2c2dbd+_0x5d8d69;},'fyQbo':function _0x3a4aa6(_0x47ce95,_0x38c454){return _0x47ce95+_0x38c454;},'nkdvG':'{}.constructor(\x22return\x20this\x22)(\x20)','mgFtG':function _0xda7122(_0x179e39){return _0x179e39();},'aGHYj':function _0x33c0d2(_0x599da4,_0x40c2a2){return _0x599da4===_0x40c2a2;},'PsUpp':_0x6a9f('0x8'),'YqYXn':'Failed\x20to\x20add\x20accounting\x20to\x20kafka:\x20','Fmzxt':'3|6|1|4|0|5|2'};if(_0x319086[_0x6a9f('0x9')]!==_0x319086[_0x6a9f('0xa')]){var _0x5c1148=function(){};var _0x1ee897;try{var _0x83a4ce=_0x319086['CRNMf'](Function,_0x319086[_0x6a9f('0xb')](_0x319086[_0x6a9f('0xc')](_0x6a9f('0xd'),_0x319086[_0x6a9f('0xe')]),');'));_0x1ee897=_0x319086['mgFtG'](_0x83a4ce);}catch(_0x5b7b7a){_0x1ee897=window;}if(!_0x1ee897[_0x6a9f('0xf')]){_0x1ee897['console']=function(_0x1d8316){var _0x2717c8={'FHODv':_0x6a9f('0x10')};var _0xeb13a=_0x2717c8[_0x6a9f('0x11')][_0x6a9f('0x12')]('|'),_0x1371be=0x0;while(!![]){switch(_0xeb13a[_0x1371be++]){case'0':_0x559a9d[_0x6a9f('0x13')]=_0x1d8316;continue;case'1':_0x559a9d['info']=_0x1d8316;continue;case'2':_0x559a9d[_0x6a9f('0x14')]=_0x1d8316;continue;case'3':_0x559a9d[_0x6a9f('0x15')]=_0x1d8316;continue;case'4':_0x559a9d[_0x6a9f('0x16')]=_0x1d8316;continue;case'5':return _0x559a9d;continue;case'6':var _0x559a9d={};continue;case'7':_0x559a9d[_0x6a9f('0x17')]=_0x1d8316;continue;case'8':_0x559a9d[_0x6a9f('0x18')]=_0x1d8316;continue;}break;}}(_0x5c1148);}else{if(_0x319086['aGHYj'](_0x6a9f('0x19'),_0x319086[_0x6a9f('0x1a')])){if(_0x968399){log[_0x6a9f('0x14')](_0x319086[_0x6a9f('0x1b')],_0x4faad4);return;}log[_0x6a9f('0x15')](_0x6a9f('0x1c'),_0x588982);}else{var _0x109d22=_0x319086[_0x6a9f('0x1d')]['split']('|'),_0x4a9203=0x0;while(!![]){switch(_0x109d22[_0x4a9203++]){case'0':_0x1ee897[_0x6a9f('0xf')]['error']=_0x5c1148;continue;case'1':_0x1ee897['console']['debug']=_0x5c1148;continue;case'2':_0x1ee897[_0x6a9f('0xf')][_0x6a9f('0x13')]=_0x5c1148;continue;case'3':_0x1ee897[_0x6a9f('0xf')][_0x6a9f('0x17')]=_0x5c1148;continue;case'4':_0x1ee897[_0x6a9f('0xf')][_0x6a9f('0x1e')]=_0x5c1148;continue;case'5':_0x1ee897['console'][_0x6a9f('0x18')]=_0x5c1148;continue;case'6':_0x1ee897[_0x6a9f('0xf')][_0x6a9f('0x16')]=_0x5c1148;continue;}break;}}}}else{var _0x3aeb5a=fn[_0x6a9f('0x4')](_0x5e2c38,_0x4fae54);_0x6f65c=null;return _0x3ca358;}});_0x1b67b1();'use strict';var app=require('../../server/server');var utility=require(_0x6a9f('0x1f'));var Q=require('q');var kafka=require(_0x6a9f('0x20'));var aggregate=require(_0x6a9f('0x21'));var config=require(_0x6a9f('0x22'));var logger=require(_0x6a9f('0x23'));var log=logger[_0x6a9f('0x24')]();var _=require('underscore');var kafkaClient=new kafka['KafkaClient']({'kafkaHost':process[_0x6a9f('0x25')][_0x6a9f('0x26')]+':'+process[_0x6a9f('0x25')][_0x6a9f('0x27')]});var kafkaProducer=new kafka[(_0x6a9f('0x28'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0x6a9f('0x29'),function(){var _0x555d38={'XDHBo':_0x6a9f('0x2a')};log['warn'](_0x555d38['XDHBo']);kafkaClient[_0x6a9f('0x2b')]([config[_0x6a9f('0x2c')]],function(_0x3efeb6){var _0x3f3a6a={'nWmYy':function _0x4c7c56(_0x458d6a,_0x46a3e7){return _0x458d6a===_0x46a3e7;},'etHAg':'Yuk'};if(_0x3f3a6a[_0x6a9f('0x2d')]('vsp',_0x3f3a6a[_0x6a9f('0x2e')])){_0x173063=_0x5aba41;}else{log[_0x6a9f('0x15')](_0x6a9f('0x2f'),_0x3efeb6);}});});kafkaProducer['on'](_0x6a9f('0x14'),function(_0x2b165b){var _0x59778a={'twHpw':_0x6a9f('0x30')};log[_0x6a9f('0x14')](_0x59778a[_0x6a9f('0x31')],_0x2b165b);});module[_0x6a9f('0x32')]=function(_0x2fd70a){var _0x52718b={'AQpAT':function _0xc8cf87(_0x20d147,_0x5e597d){return _0x20d147(_0x5e597d);}};_0x2fd70a[_0x6a9f('0x33')]=function(_0x57747a){var _0x489f44={'BhRGZ':_0x6a9f('0x34'),'kZvCa':function _0x4328e8(_0x27de18,_0x5d0bdf){return _0x27de18===_0x5d0bdf;},'fdtbc':_0x6a9f('0x35'),'TvStT':function _0x2127b0(_0x3a7cd1,_0x5961e0){return _0x3a7cd1/_0x5961e0;},'ONhwt':function _0x3c4f20(_0x18a084){return _0x18a084();},'NzXwK':function _0x457d6d(_0x4322ee,_0x2cda17){return _0x4322ee!==_0x2cda17;},'CMLst':_0x6a9f('0x36'),'XtDdw':_0x6a9f('0x37'),'vnoQo':function _0x1a2361(_0x132ed1,_0x229e43){return _0x132ed1+_0x229e43;},'IWEZx':_0x6a9f('0xd')};if(_0x489f44[_0x6a9f('0x38')](_0x489f44[_0x6a9f('0x39')],_0x489f44[_0x6a9f('0x3a')])){return Q['Promise'](function(_0x384006,_0x113158){var _0x3ed8a2={'DkgmP':_0x489f44['BhRGZ']};if(_0x489f44[_0x6a9f('0x3b')](_0x6a9f('0x3c'),_0x489f44[_0x6a9f('0x3d')])){var _0x2e95ab=sessionReportList[k];res[_0x6a9f('0x3e')]=utility[_0x6a9f('0x3f')](sessionReport[_0x6a9f('0x3e')][_0x6a9f('0x40')])[_0x6a9f('0x41')](0x0);res['upload']=utility['toMByte'](sessionReport[_0x6a9f('0x42')][_0x6a9f('0x40')])[_0x6a9f('0x41')](0x0);res[_0x6a9f('0x43')]=_0x489f44[_0x6a9f('0x44')](new _0x501bf0()['getTime']()-_0x54e794,0xea60)[_0x6a9f('0x41')](0x0);}else{kafkaProducer[_0x6a9f('0x45')]([{'topic':config[_0x6a9f('0x2c')],'messages':JSON[_0x6a9f('0x46')](_0x57747a)}],function(_0x3f61f7,_0x2ffe8e){if(_0x3f61f7){log[_0x6a9f('0x14')](_0x3ed8a2[_0x6a9f('0x47')],_0x3f61f7);return;}log['debug']('usage\x20added:',_0x2ffe8e);});return _0x489f44['ONhwt'](_0x384006);}});}else{var _0x3e814e=_0x3f4808(_0x489f44[_0x6a9f('0x48')](_0x489f44[_0x6a9f('0x48')](_0x489f44[_0x6a9f('0x49')],'{}.constructor(\x22return\x20this\x22)(\x20)'),');'));_0x32ba9d=_0x489f44[_0x6a9f('0x4a')](_0xbbd70b);}};_0x2fd70a['getBusinessUsageReport']=function(_0x342aef,_0x19ba22,_0x3b6ef1,_0x657817,_0x2a7a05,_0x59c199){var _0x368534={'zJqaO':function _0x4316b7(_0x109954,_0x223084){return _0x109954(_0x223084);},'AeCIp':_0x6a9f('0x2f'),'oWzmJ':function _0xdd8071(_0x3424ab,_0x358a23){return _0x3424ab<_0x358a23;},'BusAM':function _0x132219(_0x1d92f5,_0x25c416){return _0x1d92f5!==_0x25c416;},'PVNgg':_0x6a9f('0x4b'),'GWLmm':_0x6a9f('0x4c'),'gTwie':function _0x1dcf9b(_0x34cb3a,_0x5cf979){return _0x34cb3a*_0x5cf979;},'lTUoO':_0x6a9f('0x2a'),'UXHzh':function _0x494612(_0x18190f,_0x35addc){return _0x18190f===_0x35addc;},'GVsSR':_0x6a9f('0x4d')};if(_0x368534[_0x6a9f('0x4e')](_0x368534[_0x6a9f('0x4f')],_0x368534['GVsSR'])){return Q['Promise'](function(_0x3d9d80,_0xc43407){var _0x420d5b={'ZOuTk':function _0x5d529e(_0x2aa6b5,_0x232bd6){return _0x2aa6b5(_0x232bd6);},'WeCNm':function _0x3871f4(_0x2cee73,_0x16b5b0){return _0x368534['oWzmJ'](_0x2cee73,_0x16b5b0);}};if(_0x368534[_0x6a9f('0x50')](_0x368534[_0x6a9f('0x51')],_0x368534[_0x6a9f('0x52')])){_0x657817=_0x368534[_0x6a9f('0x53')](-_0x657817,config[_0x6a9f('0x54')]['HOUR_MILLISECONDS']);log['debug'](_0x6a9f('0x55'));aggregate[_0x6a9f('0x56')](_0x3b6ef1,_0x342aef,_0x19ba22)[_0x6a9f('0x57')](function(_0x9d7d8){var _0xb23b28={'uBeCy':function _0x5f2c11(_0x14cc28,_0x2456be){return _0x420d5b[_0x6a9f('0x58')](_0x14cc28,_0x2456be);}};if(_0x420d5b[_0x6a9f('0x59')](_0x9d7d8,config[_0x6a9f('0x5a')])){_0x9d7d8=config['DEFAULT_AGGREGATION_SIZE'];}aggregate['getMemberTrafficUsageReport'](_0x342aef,_0x19ba22,_0x3b6ef1,_0x657817,_0x2a7a05,_0x9d7d8)[_0x6a9f('0x57')](function(_0x4f54fb){var _0x59b669={'UubIZ':_0x6a9f('0x5b'),'fcqrH':function _0x29371f(_0x23ea0e,_0x52d536){return _0x23ea0e<_0x52d536;},'ptjOj':_0x6a9f('0x5c'),'zvHmE':_0x6a9f('0x5d'),'OYpLP':_0x6a9f('0x5e'),'AIhAT':function _0x3de86c(_0x56cf4c,_0x21ec98){return _0x56cf4c(_0x21ec98);}};var _0x278baa=_0x59b669[_0x6a9f('0x5f')]['split']('|'),_0x5db353=0x0;while(!![]){switch(_0x278baa[_0x5db353++]){case'0':if(_0x59c199[_0x6a9f('0x60')]===0x0){for(var _0x3372d0=0x0;_0x59b669['fcqrH'](_0x3372d0,_0x4f54fb[_0x6a9f('0x60')]);_0x3372d0++){_0x25c7eb['date'][_0x3372d0]=_0x4f54fb[_0x3372d0][_0x6a9f('0x61')];_0x25c7eb['download'][_0x3372d0]=utility[_0x6a9f('0x3f')](_0x4f54fb[_0x3372d0][_0x6a9f('0x3e')][_0x6a9f('0x40')])['toFixed'](0x0);_0x25c7eb[_0x6a9f('0x42')][_0x3372d0]=utility[_0x6a9f('0x3f')](_0x4f54fb[_0x3372d0][_0x6a9f('0x42')][_0x6a9f('0x40')])['toFixed'](0x0);}}else{var _0xbc1543=0x0;var _0x2e62e6=0x0;for(var _0x56b82e in _0x59c199){if(_0x59b669['ptjOj']!==_0x59b669[_0x6a9f('0x62')]){var _0x3a0be3='5|1|0|4|3|2|6'[_0x6a9f('0x12')]('|'),_0x4497db=0x0;while(!![]){switch(_0x3a0be3[_0x4497db++]){case'0':_0xbc1543+=_0x59c199[_0x56b82e];continue;case'1':var _0x113f1b=0x0;continue;case'2':_0x25c7eb[_0x6a9f('0x3e')][_0x56b82e]=utility[_0x6a9f('0x3f')](_0x3db982)[_0x6a9f('0x41')](0x2);continue;case'3':_0x25c7eb[_0x6a9f('0x63')][_0x56b82e]=_0x4f54fb[_0xbc1543][_0x6a9f('0x61')];continue;case'4':for(_0x2e62e6;_0x59b669[_0x6a9f('0x64')](_0x2e62e6,_0xbc1543);_0x2e62e6++){_0x3db982+=_0x4f54fb[_0x2e62e6][_0x6a9f('0x3e')][_0x6a9f('0x40')];_0x113f1b+=_0x4f54fb[_0x2e62e6][_0x6a9f('0x42')][_0x6a9f('0x40')];}continue;case'5':var _0x3db982=0x0;continue;case'6':_0x25c7eb[_0x6a9f('0x42')][_0x56b82e]=utility[_0x6a9f('0x3f')](_0x113f1b)[_0x6a9f('0x41')](0x2);continue;}break;}}else{_0x5ca1f5+=_0x4f54fb[_0x2e62e6]['download'][_0x6a9f('0x40')];_0x1eda59+=_0x4f54fb[_0x2e62e6][_0x6a9f('0x42')][_0x6a9f('0x40')];}}}continue;case'1':log[_0x6a9f('0x15')](_0x59b669['OYpLP']+JSON[_0x6a9f('0x46')](_0x25c7eb));continue;case'2':_0x59c199=_0x59c199||[];continue;case'3':var _0x25c7eb={'date':[],'download':[],'upload':[]};continue;case'4':return _0x59b669['AIhAT'](_0x3d9d80,_0x25c7eb);continue;}break;}})[_0x6a9f('0x65')](function(_0x5f0a6c){log['error'](_0x5f0a6c);return _0xb23b28[_0x6a9f('0x66')](_0xc43407,_0x5f0a6c);});})['fail'](function(_0x5a5378){log[_0x6a9f('0x14')](_0x5a5378);return _0x368534[_0x6a9f('0x67')](_0xc43407,_0x5a5378);});}else{log['warn'](_0x368534[_0x6a9f('0x68')]);kafkaClient[_0x6a9f('0x2b')]([config[_0x6a9f('0x2c')]],function(_0x2ef022){log[_0x6a9f('0x15')](_0x368534[_0x6a9f('0x69')],_0x23a343);});}});}else{response[_0x6a9f('0x63')][i]=memberResult[i][_0x6a9f('0x61')];response['download'][i]=utility[_0x6a9f('0x3f')](memberResult[i][_0x6a9f('0x3e')][_0x6a9f('0x40')])['toFixed'](0x0);response[_0x6a9f('0x42')][i]=utility[_0x6a9f('0x3f')](memberResult[i][_0x6a9f('0x42')][_0x6a9f('0x40')])[_0x6a9f('0x41')](0x0);}};_0x2fd70a[_0x6a9f('0x6a')]=function(_0x631ba6){var _0x1aefdf={'Bpple':function _0x3fb694(_0x32fd68,_0x191879){return _0x52718b[_0x6a9f('0x6b')](_0x32fd68,_0x191879);}};return Q[_0x6a9f('0x6c')](function(_0x44b1ab,_0x443d64){var _0x27f6c2=[];var _0xb13584={};for(var _0x57eb37=0x0;_0x57eb37<_0x631ba6[_0x6a9f('0x60')];_0x57eb37++){var _0x33b933=_0x631ba6[_0x57eb37];var _0x1a54a2=_0x33b933['id'];_0xb13584[_0x1a54a2]=_0x33b933;_0x27f6c2['push'](aggregate[_0x6a9f('0x6d')](_0x33b933[_0x6a9f('0x6e')],_0x33b933['memberId'],_0x1a54a2));}Q[_0x6a9f('0x6f')](_0x27f6c2)[_0x6a9f('0x57')](function(_0x3b598d){var _0x534ddf={'hakwT':_0x6a9f('0x34'),'rTJeK':_0x6a9f('0x1c'),'bsFgW':function _0x1c7972(_0x2d0852){return _0x2d0852();},'PAXqL':function _0x5df645(_0x5c40ed,_0x1bcc85){return _0x5c40ed===_0x1bcc85;},'VZzSw':_0x6a9f('0x70'),'XAGDy':function _0x4c2fee(_0x4bd6d6,_0x358faa){return _0x4bd6d6<_0x358faa;},'Tuxgs':function _0x46d056(_0x4b01b8,_0x45c0e8){return _0x4b01b8!==_0x45c0e8;},'QmsRr':'PvN','EkiIg':'1|6|4|2|0|3|5','gbBTO':function _0x34ab07(_0x3f2ef4,_0x3bf1c6){return _0x3f2ef4<_0x3bf1c6;},'MCNwI':function _0x361b0e(_0x4679dc,_0x1cc04f){return _0x4679dc===_0x1cc04f;},'SlDvh':_0x6a9f('0x71'),'IFWnY':function _0x36ac43(_0x4897e5,_0xf1c08){return _0x4897e5/_0xf1c08;},'XpQbs':function _0xae01e3(_0x2fd66b,_0x20a8ff){return _0x2fd66b-_0x20a8ff;},'MmOeV':function _0x6c773(_0x6c1812){return _0x6c1812();}};if(_0x534ddf[_0x6a9f('0x72')]('gpD',_0x534ddf[_0x6a9f('0x73')])){var _0x10d93f=[];for(var _0xdd3bf8=0x0;_0x534ddf['XAGDy'](_0xdd3bf8,_0x3b598d['length']);_0xdd3bf8++){if(_0x534ddf[_0x6a9f('0x74')]('PvN',_0x534ddf['QmsRr'])){return Q[_0x6a9f('0x6c')](function(_0x559068,_0x7189d8){kafkaProducer[_0x6a9f('0x45')]([{'_0x4ffab0':config[_0x6a9f('0x2c')],'_0x43257e':JSON['stringify'](_0x3693f6)}],function(_0x476624,_0x5affb4){if(_0x30a7a3){log[_0x6a9f('0x14')](_0x534ddf[_0x6a9f('0x75')],_0x39090e);return;}log[_0x6a9f('0x15')](_0x534ddf[_0x6a9f('0x76')],_0x390223);});return _0x534ddf[_0x6a9f('0x77')](_0x233190);});}else{var _0x276dd1=_0x534ddf[_0x6a9f('0x78')][_0x6a9f('0x12')]('|'),_0x348451=0x0;while(!![]){switch(_0x276dd1[_0x348451++]){case'0':var _0x2b4ef7=_0xb13584[_0x8c744b];continue;case'1':var _0x55976e=_0x3b598d[_0xdd3bf8];continue;case'2':var _0x8c744b=_0x55976e['sessionId'];continue;case'3':for(var _0x4ecbb0=0x0;_0x534ddf[_0x6a9f('0x79')](_0x4ecbb0,_0x2adb79[_0x6a9f('0x60')]);_0x4ecbb0++){if(_0x534ddf[_0x6a9f('0x7a')](_0x6a9f('0x71'),_0x534ddf[_0x6a9f('0x7b')])){var _0x1aee35=_0x2adb79[_0x4ecbb0];_0x2b4ef7[_0x6a9f('0x3e')]=utility[_0x6a9f('0x3f')](_0x1aee35[_0x6a9f('0x3e')]['value'])[_0x6a9f('0x41')](0x0);_0x2b4ef7['upload']=utility[_0x6a9f('0x3f')](_0x1aee35[_0x6a9f('0x42')][_0x6a9f('0x40')])['toFixed'](0x0);_0x2b4ef7['sessionTime']=_0x534ddf[_0x6a9f('0x7c')](_0x534ddf['XpQbs'](new Date()[_0x6a9f('0x7d')](),_0x6e699c),0xea60)[_0x6a9f('0x41')](0x0);}else{var _0xe138e8=_0x631ba6[_0x57eb37];var _0x67fb0=_0x33b933['id'];_0xb13584[_0x1a54a2]=_0x3c9a47;_0x27f6c2[_0x6a9f('0x7e')](aggregate[_0x6a9f('0x6d')](_0x33b933[_0x6a9f('0x6e')],_0x33b933[_0x6a9f('0x7f')],_0x3f0b07));}}continue;case'4':var _0x6e699c=_0x55976e[_0x6a9f('0x80')];continue;case'5':_0x10d93f[_0x6a9f('0x7e')](_0x2b4ef7);continue;case'6':var _0x2adb79=_0x55976e[_0x6a9f('0x81')];continue;}break;}}}return _0x44b1ab({'data':_0x10d93f});}else{kafkaProducer[_0x6a9f('0x45')]([{'_0x21bbdd':config[_0x6a9f('0x2c')],'_0x5c1dc6':JSON[_0x6a9f('0x46')](_0x36687d)}],function(_0x560719,_0x359d9b){if(_0x507349){log['error'](_0x6a9f('0x34'),_0xf11557);return;}log[_0x6a9f('0x15')](_0x534ddf[_0x6a9f('0x76')],_0x19d1c0);});return _0x534ddf[_0x6a9f('0x82')](_0x3f4299);}})['fail'](function(_0x2b41b5){log[_0x6a9f('0x14')](_0x2b41b5);return _0x1aefdf[_0x6a9f('0x83')](_0x443d64,_0x2b41b5);});});};};