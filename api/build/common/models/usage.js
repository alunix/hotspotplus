var _0x7ba0=['QWVpdmk=','TnZPaEI=','enJ1d2c=','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','elJKQ2o=','ZmFpbA==','UEdSVUc=','Z2V0U2Vzc2lvblVzYWdl','NHw2fDF8NXwwfDJ8Mw==','WnhDSUE=','alJHQnM=','U2taTXk=','c3ZUUU8=','bW1keUY=','dUZ0RmI=','Z2V0U2Vzc2lvbnNSZXBvcnQ=','Y3JlYXRpb25EYXRl','bWVtYmVySWQ=','YWxs','dXlTaWw=','Q2xwYXM=','c2Vzc2lvblJlcG9ydHM=','bW1zQm0=','SHRh','OHwzfDZ8MHwxfDV8NHw3fDI=','RlV3TmM=','VlpDZ2k=','YWJH','UmFTdGM=','bHhlY0M=','WHJp','UlhI','VVB0Q20=','TE16SWM=','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','TVRNS1Y=','cGhFcng=','aVBFR3M=','YXBwbHk=','VFVWZ3E=','RldyWXQ=','ZXJyb3I=','eVNCYWM=','MHw0fDF8MnwzfDV8N3w4fDY=','YU1P','cmV0dXJuIChmdW5jdGlvbigpIA==','a2xK','M3wyfDR8NXwxfDB8Ng==','Y2dRVmo=','Y1RYSmo=','dkNR','enJwYmc=','WG5XYmw=','VWlYTWI=','VUdTdEc=','TUZhTWc=','ZWZWZ04=','Y29uc29sZQ==','TUNDekE=','QmtY','V21NQmU=','aHJ3aEw=','d2Fybg==','ZGVidWc=','aW5mbw==','bG9n','dHJhY2U=','T0JmaGc=','TmxFYWg=','SkRuRHU=','ZXhjZXB0aW9u','Li4vLi4vc2VydmVyL3NlcnZlcg==','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvYWdncmVnYXRlcw==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmlnLmpz','Y3JlYXRlTG9nZ2Vy','dW5kZXJzY29yZQ==','S2Fma2FDbGllbnQ=','S0FGS0FfSVA=','ZW52','UHJvZHVjZXI=','UHJvZHVjZXIgcmVhZHkuLi4=','cmVmcmVzaE1ldGFkYXRh','dkpq','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','NXwyfDZ8NHwzfDB8MQ==','VkVPSGk=','eGRmSGE=','bXBFeFQ=','c3BsaXQ=','RE9GRGo=','bGVuZ3Ro','ZG93bmxvYWQ=','dG9NQnl0ZQ==','dmFsdWU=','dG9GaXhlZA==','dXBsb2Fk','c2Vzc2lvblRpbWU=','Z2V0VGltZQ==','cHVzaA==','c2Vzc2lvbklk','ZnJvbURhdGU=','QmxEa1k=','ZXhwb3J0cw==','cWhO','YWRkVXNhZ2VSZXBvcnQ=','TmNmQk4=','Wk5RckQ=','UHJvbWlzZQ==','QUNDT1VOVElOR19UT1BJQw==','c3RyaW5naWZ5','ampCbFo=','TEx5SE0=','ak1ySno=','Z2V0QnVzaW5lc3NVc2FnZVJlcG9ydA==','RVlG','T0pY','d2tX','M3wwfDJ8Nnw1fDF8NA==','QXlh','RWZV','cUV0','UFhE','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','UUZjSEU=','c2VuZA==','d0xxZkg=','cHNKdVI=','a2psYng=','SE9VUl9NSUxMSVNFQ09ORFM=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','dGhlbg==','b3V4UFU=','aVpKcHc=','ZGd4c2g=','cERkYVg=','UWd6Ync=','aXFSSHI=','RERBVUg=','SkFZSFE=','TW5lY2w=','SEhpZVk=','NHwyfDh8NXw2fDd8MXwzfDA=','Vk52dUw=','QUhMSE4=','WEhmUm0=','ZkJJSEg=','ZGF0ZQ==','a2V5','SkpTbWw=','aEVwYVk=','endVR2Y='];(function(_0x578a48,_0x4e1c67){var _0xe69770=function(_0x1fbbee){while(--_0x1fbbee){_0x578a48['push'](_0x578a48['shift']());}};var _0x48e64a=function(){var _0x26b6b0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x17d45e,_0x53e3f6,_0x12f318,_0x315aaa){_0x315aaa=_0x315aaa||{};var _0x13452d=_0x53e3f6+'='+_0x12f318;var _0x5f2104=0x0;for(var _0x5f2104=0x0,_0x2c5fac=_0x17d45e['length'];_0x5f2104<_0x2c5fac;_0x5f2104++){var _0x23ba8a=_0x17d45e[_0x5f2104];_0x13452d+=';\x20'+_0x23ba8a;var _0x37d59a=_0x17d45e[_0x23ba8a];_0x17d45e['push'](_0x37d59a);_0x2c5fac=_0x17d45e['length'];if(_0x37d59a!==!![]){_0x13452d+='='+_0x37d59a;}}_0x315aaa['cookie']=_0x13452d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4c23e3,_0x58643b){_0x4c23e3=_0x4c23e3||function(_0x4aec6f){return _0x4aec6f;};var _0x31592e=_0x4c23e3(new RegExp('(?:^|;\x20)'+_0x58643b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x4a44da=function(_0x2859c0,_0x3fe6c9){_0x2859c0(++_0x3fe6c9);};_0x4a44da(_0xe69770,_0x4e1c67);return _0x31592e?decodeURIComponent(_0x31592e[0x1]):undefined;}};var _0x16b811=function(){var _0x22af2e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x22af2e['test'](_0x26b6b0['removeCookie']['toString']());};_0x26b6b0['updateCookie']=_0x16b811;var _0x4aa82a='';var _0x315130=_0x26b6b0['updateCookie']();if(!_0x315130){_0x26b6b0['setCookie'](['*'],'counter',0x1);}else if(_0x315130){_0x4aa82a=_0x26b6b0['getCookie'](null,'counter');}else{_0x26b6b0['removeCookie']();}};_0x48e64a();}(_0x7ba0,0x1e6));var _0x07ba=function(_0x2c91e9,_0x2fb965){_0x2c91e9=_0x2c91e9-0x0;var _0x13f0ff=_0x7ba0[_0x2c91e9];if(_0x07ba['initialized']===undefined){(function(){var _0x26c6a0;try{var _0x3f6969=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x26c6a0=_0x3f6969();}catch(_0x331a2c){_0x26c6a0=window;}var _0x39b786='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x26c6a0['atob']||(_0x26c6a0['atob']=function(_0x350f3a){var _0x3cc93f=String(_0x350f3a)['replace'](/=+$/,'');for(var _0x4245ca=0x0,_0x21a480,_0x75a851,_0x5a2189=0x0,_0x5c68c8='';_0x75a851=_0x3cc93f['charAt'](_0x5a2189++);~_0x75a851&&(_0x21a480=_0x4245ca%0x4?_0x21a480*0x40+_0x75a851:_0x75a851,_0x4245ca++%0x4)?_0x5c68c8+=String['fromCharCode'](0xff&_0x21a480>>(-0x2*_0x4245ca&0x6)):0x0){_0x75a851=_0x39b786['indexOf'](_0x75a851);}return _0x5c68c8;});}());_0x07ba['base64DecodeUnicode']=function(_0x40ba58){var _0x907180=atob(_0x40ba58);var _0x4f239c=[];for(var _0x17e5f0=0x0,_0x28772d=_0x907180['length'];_0x17e5f0<_0x28772d;_0x17e5f0++){_0x4f239c+='%'+('00'+_0x907180['charCodeAt'](_0x17e5f0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4f239c);};_0x07ba['data']={};_0x07ba['initialized']=!![];}var _0x245be9=_0x07ba['data'][_0x2c91e9];if(_0x245be9===undefined){var _0x3abb0b=function(_0x2d9033){this['rc4Bytes']=_0x2d9033;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3abb0b['prototype']['checkState']=function(){var _0x59cfa1=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x59cfa1['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x3abb0b['prototype']['runState']=function(_0x3f09ac){if(!Boolean(~_0x3f09ac)){return _0x3f09ac;}return this['getState'](this['rc4Bytes']);};_0x3abb0b['prototype']['getState']=function(_0x18dbe6){for(var _0x167ef1=0x0,_0x5e72e2=this['states']['length'];_0x167ef1<_0x5e72e2;_0x167ef1++){this['states']['push'](Math['round'](Math['random']()));_0x5e72e2=this['states']['length'];}return _0x18dbe6(this['states'][0x0]);};new _0x3abb0b(_0x07ba)['checkState']();_0x13f0ff=_0x07ba['base64DecodeUnicode'](_0x13f0ff);_0x07ba['data'][_0x2c91e9]=_0x13f0ff;}else{_0x13f0ff=_0x245be9;}return _0x13f0ff;};var _0x1f4950=function(){var _0x21d4dc=!![];return function(_0x36a2bb,_0x2ce587){var _0x6e4ac8=_0x21d4dc?function(){if(_0x2ce587){var _0x17228c=_0x2ce587['apply'](_0x36a2bb,arguments);_0x2ce587=null;return _0x17228c;}}:function(){};_0x21d4dc=![];return _0x6e4ac8;};}();var _0x560675=_0x1f4950(this,function(){var _0x47e7cb=function(){return'\x64\x65\x76';},_0x4c1b8d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2b328d=function(){var _0x3a3ebd=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3a3ebd['\x74\x65\x73\x74'](_0x47e7cb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2bed83=function(){var _0x545df7=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x545df7['\x74\x65\x73\x74'](_0x4c1b8d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x6b67c0=function(_0x29aef3){var _0x365dbf=~-0x1>>0x1+0xff%0x0;if(_0x29aef3['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x365dbf)){_0x265264(_0x29aef3);}};var _0x265264=function(_0x5a6b4d){var _0x30b22e=~-0x4>>0x1+0xff%0x0;if(_0x5a6b4d['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x30b22e){_0x6b67c0(_0x5a6b4d);}};if(!_0x2b328d()){if(!_0x2bed83()){_0x6b67c0('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x6b67c0('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x6b67c0('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x560675();var _0x51ed3b=function(){var _0x315e89={'MTMKV':function _0xdfa33a(_0x28c5f0,_0xafaffb){return _0x28c5f0===_0xafaffb;},'phErx':'dfQ','iPEGs':function _0x1b73f1(_0x171f70,_0xfa5109){return _0x171f70(_0xfa5109);},'UPtCm':function _0x234c79(_0x86e91e,_0x178db2){return _0x86e91e===_0x178db2;},'LMzIc':_0x07ba('0x0'),'RFxLa':_0x07ba('0x1')};if(_0x315e89[_0x07ba('0x2')](_0x315e89[_0x07ba('0x3')],_0x315e89['RFxLa'])){_0x49dcd5=config[_0x07ba('0x4')];}else{var _0x1fa01f=!![];return function(_0x490a88,_0x21bdcd){var _0x397b62={'TUVgq':function _0x5def2c(_0x4969dd,_0x1886af){return _0x315e89[_0x07ba('0x5')](_0x4969dd,_0x1886af);},'FWrYt':_0x315e89[_0x07ba('0x6')],'ySBac':function _0x646a29(_0xaf04fb,_0xf77fba){return _0x315e89[_0x07ba('0x7')](_0xaf04fb,_0xf77fba);}};var _0x47c548=_0x1fa01f?function(){if(_0x21bdcd){var _0x13a373=_0x21bdcd[_0x07ba('0x8')](_0x490a88,arguments);_0x21bdcd=null;return _0x13a373;}}:function(){if(_0x397b62[_0x07ba('0x9')](_0x397b62[_0x07ba('0xa')],_0x397b62[_0x07ba('0xa')])){}else{log[_0x07ba('0xb')](_0x3e25a6);return _0x397b62[_0x07ba('0xc')](_0x3d00c0,_0x59f26f);}};_0x1fa01f=![];return _0x47c548;};}}();var _0x32554e=_0x51ed3b(this,function(){var _0x3feb55={'cgQVj':function _0x4a0f6f(_0x5064d7,_0x1a0ba5){return _0x5064d7+_0x1a0ba5;},'cTXJj':'{}.constructor(\x22return\x20this\x22)(\x20)','HzZDV':function _0x3fdb11(_0x38c482,_0x34235){return _0x38c482===_0x34235;},'zrpbg':_0x07ba('0xd'),'XnWbl':_0x07ba('0xe'),'UiXMb':function _0x2f1595(_0xe417b1,_0x78ccd1){return _0xe417b1(_0x78ccd1);},'UGStG':function _0x8256af(_0x3ce474,_0xe47b29){return _0x3ce474+_0xe47b29;},'MFaMg':_0x07ba('0xf'),'efVgN':function _0x4ecf4b(_0x5094fd){return _0x5094fd();},'OBfhg':function _0x575bb6(_0x48b774,_0x1c1e7c){return _0x48b774===_0x1c1e7c;},'NlEah':'DCO','JDnDu':_0x07ba('0x10'),'tfWjz':_0x07ba('0x11')};var _0x4bed23=function(){};var _0x430697;try{var _0x46aa92=Function(_0x3feb55[_0x07ba('0x12')](_0x07ba('0xf'),_0x3feb55[_0x07ba('0x13')])+');');_0x430697=_0x46aa92();}catch(_0x34c922){_0x430697=window;}if(!_0x430697['console']){var _0x5a997c={'MCCzA':function _0x124f81(_0x20148e,_0x350fae){return _0x3feb55['HzZDV'](_0x20148e,_0x350fae);},'WmMBe':_0x07ba('0x14'),'hrwhL':_0x3feb55[_0x07ba('0x15')]};if(_0x3feb55[_0x07ba('0x16')]!==_0x3feb55[_0x07ba('0x16')]){var _0x2e3fd2=_0x3feb55[_0x07ba('0x17')](_0x48c83c,_0x3feb55['UGStG'](_0x3feb55[_0x07ba('0x18')](_0x3feb55[_0x07ba('0x19')],_0x3feb55['cTXJj']),');'));_0x435450=_0x3feb55[_0x07ba('0x1a')](_0x3d1abb);}else{_0x430697[_0x07ba('0x1b')]=function(_0x563477){if(_0x5a997c[_0x07ba('0x1c')](_0x07ba('0x1d'),_0x5a997c[_0x07ba('0x1e')])){}else{var _0x36336b=_0x5a997c[_0x07ba('0x1f')]['split']('|'),_0x3c3660=0x0;while(!![]){switch(_0x36336b[_0x3c3660++]){case'0':var _0x321bb4={};continue;case'1':_0x321bb4[_0x07ba('0x20')]=_0x563477;continue;case'2':_0x321bb4[_0x07ba('0x21')]=_0x563477;continue;case'3':_0x321bb4[_0x07ba('0x22')]=_0x563477;continue;case'4':_0x321bb4[_0x07ba('0x23')]=_0x563477;continue;case'5':_0x321bb4[_0x07ba('0xb')]=_0x563477;continue;case'6':return _0x321bb4;continue;case'7':_0x321bb4['exception']=_0x563477;continue;case'8':_0x321bb4[_0x07ba('0x24')]=_0x563477;continue;}break;}}}(_0x4bed23);}}else{if(_0x3feb55[_0x07ba('0x25')](_0x3feb55[_0x07ba('0x26')],_0x3feb55[_0x07ba('0x27')])){if(_0x26cb8e){var _0x460f2f=fn[_0x07ba('0x8')](_0x369f8c,_0x7ab3dc);_0x469072=null;return _0x55af79;}}else{var _0x5354a0=_0x3feb55['tfWjz']['split']('|'),_0x49f43d=0x0;while(!![]){switch(_0x5354a0[_0x49f43d++]){case'0':_0x430697[_0x07ba('0x1b')][_0x07ba('0x28')]=_0x4bed23;continue;case'1':_0x430697[_0x07ba('0x1b')]['error']=_0x4bed23;continue;case'2':_0x430697[_0x07ba('0x1b')]['warn']=_0x4bed23;continue;case'3':_0x430697[_0x07ba('0x1b')][_0x07ba('0x23')]=_0x4bed23;continue;case'4':_0x430697[_0x07ba('0x1b')][_0x07ba('0x21')]=_0x4bed23;continue;case'5':_0x430697[_0x07ba('0x1b')]['info']=_0x4bed23;continue;case'6':_0x430697[_0x07ba('0x1b')][_0x07ba('0x24')]=_0x4bed23;continue;}break;}}}});_0x32554e();'use strict';var app=require(_0x07ba('0x29'));var utility=require('../../server/modules/utility');var Q=require('q');var kafka=require(_0x07ba('0x2a'));var aggregate=require(_0x07ba('0x2b'));var config=require(_0x07ba('0x2c'));var logger=require('../../server/modules/logger');var log=logger[_0x07ba('0x2d')]();var _=require(_0x07ba('0x2e'));var kafkaClient=new kafka[(_0x07ba('0x2f'))]({'kafkaHost':process['env'][_0x07ba('0x30')]+':'+process[_0x07ba('0x31')]['KAFKA_PORT']});var kafkaProducer=new kafka[(_0x07ba('0x32'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on']('ready',function(){log[_0x07ba('0x20')](_0x07ba('0x33'));kafkaClient[_0x07ba('0x34')]([config['ACCOUNTING_TOPIC']],function(_0x2a0d38){var _0x2fe3e2={'VEOHi':_0x07ba('0x35'),'xdfHa':_0x07ba('0x36'),'mpExT':function _0x55e38e(_0x300af8,_0x4d973a){return _0x300af8<_0x4d973a;},'uKnmf':_0x07ba('0x37'),'DOFDj':function _0x310ace(_0x3d1772,_0x5482c3){return _0x3d1772<_0x5482c3;}};if(_0x2fe3e2['VEOHi']===_0x2fe3e2[_0x07ba('0x38')]){log[_0x07ba('0x21')](_0x2fe3e2[_0x07ba('0x39')],_0x2a0d38);}else{var _0x9b1e99=[];for(var _0x7350b3=0x0;_0x2fe3e2[_0x07ba('0x3a')](_0x670c22,tasksResult['length']);_0x1e974e++){var _0x4eb040=_0x2fe3e2['uKnmf'][_0x07ba('0x3b')]('|'),_0x565153=0x0;while(!![]){switch(_0x4eb040[_0x565153++]){case'0':for(var _0x39157d=0x0;_0x2fe3e2[_0x07ba('0x3c')](_0xd33c43,sessionReportList[_0x07ba('0x3d')]);_0x3adcf5++){var _0x3e3a16=sessionReportList[k];res[_0x07ba('0x3e')]=utility[_0x07ba('0x3f')](sessionReport[_0x07ba('0x3e')][_0x07ba('0x40')])[_0x07ba('0x41')](0x0);res[_0x07ba('0x42')]=utility[_0x07ba('0x3f')](sessionReport['upload'][_0x07ba('0x40')])[_0x07ba('0x41')](0x0);res[_0x07ba('0x43')]=((new _0x1020d4()[_0x07ba('0x44')]()-_0x38a332)/0xea60)['toFixed'](0x0);}continue;case'1':report[_0x07ba('0x45')](_0x280dc5);continue;case'2':var _0x571bb5=reportResult['sessionReports'];continue;case'3':var _0x3cacd3=ownersDictionary[reportSessionId];continue;case'4':var _0x8d77dc=reportResult[_0x07ba('0x46')];continue;case'5':var _0x3f6f07=tasksResult[n];continue;case'6':var _0x113286=reportResult[_0x07ba('0x47')];continue;}break;}}return _0x311a1f({'_0xe7332f':_0x245fda});}});});kafkaProducer['on']('error',function(_0x514ea2){var _0x57584b={'BlDkY':'Producer\x20preparation\x20failed:'};log[_0x07ba('0xb')](_0x57584b[_0x07ba('0x48')],_0x514ea2);});module[_0x07ba('0x49')]=function(_0x5b86a8){var _0x28d5ea={'NcfBN':'Failed\x20to\x20add\x20accounting\x20to\x20kafka:\x20','ZNQrD':'usage\x20added:','dFwsK':function _0xe2dcb5(_0x5ed1f7){return _0x5ed1f7();},'svTQO':function _0x57f595(_0x12372b,_0x4e7244){return _0x12372b<_0x4e7244;},'mmdyF':function _0x5de884(_0x22fcbb,_0x2cc2fa){return _0x22fcbb!==_0x2cc2fa;},'uFtFb':_0x07ba('0x4a'),'ZxCIA':function _0xb033f4(_0x1e3ec9,_0x26672e){return _0x1e3ec9<_0x26672e;},'jRGBs':function _0x1b3edd(_0x522458,_0x10dd31){return _0x522458/_0x10dd31;},'SkZMy':function _0x2d1508(_0x4a7538,_0x4503a8){return _0x4a7538(_0x4503a8);}};_0x5b86a8[_0x07ba('0x4b')]=function(_0x32b926){var _0x450a41={'jjBlZ':_0x28d5ea[_0x07ba('0x4c')],'LLyHM':_0x28d5ea[_0x07ba('0x4d')],'jMrJz':function _0xcef663(_0x450ef9){return _0x28d5ea['dFwsK'](_0x450ef9);}};return Q[_0x07ba('0x4e')](function(_0x1b0456,_0x5d3efc){kafkaProducer['send']([{'topic':config[_0x07ba('0x4f')],'messages':JSON[_0x07ba('0x50')](_0x32b926)}],function(_0x183869,_0x568aab){if(_0x183869){log['error'](_0x450a41[_0x07ba('0x51')],_0x183869);return;}log['debug'](_0x450a41[_0x07ba('0x52')],_0x568aab);});return _0x450a41[_0x07ba('0x53')](_0x1b0456);});};_0x5b86a8[_0x07ba('0x54')]=function(_0x5188d5,_0x45594c,_0x23ebff,_0x4a6a07,_0x5171e1,_0x345dc2){return Q[_0x07ba('0x4e')](function(_0x4aa476,_0x34cfbe){var _0xad589b={'QFcHE':'usage\x20added:','kjlbx':function _0x3e5f0b(_0x4060fc){return _0x4060fc();},'tgZbt':_0x07ba('0x55'),'eXghK':_0x07ba('0x56'),'iZJpw':function _0x15e979(_0x13ad08,_0xf66a79){return _0x13ad08<_0xf66a79;},'ouxPU':function _0x566fbe(_0x4e1284,_0x11ee11){return _0x4e1284===_0x11ee11;},'dgxsh':function _0x170ca2(_0xce9d11,_0x3342ab){return _0xce9d11!==_0x3342ab;},'pDdaX':_0x07ba('0x57'),'Qgzbw':'@refreshMetadata\x20Error:','iqRHr':_0x07ba('0x58'),'DDAUH':_0x07ba('0x59'),'JAYHQ':function _0x212eac(_0x2bfa22,_0x391a6c){return _0x2bfa22(_0x391a6c);},'Mnecl':function _0x56de81(_0x15af91,_0x2d80ad){return _0x15af91===_0x2d80ad;},'HHieY':_0x07ba('0x5a'),'Bvcqt':_0x07ba('0x5b'),'OSNXt':function _0x51860c(_0x30f6a7,_0x4d9038){return _0x30f6a7!==_0x4d9038;},'bsKWm':_0x07ba('0x5c')};if(_0xad589b['OSNXt']('PXD',_0xad589b['bsKWm'])){return Q['Promise'](function(_0x1e90b8,_0x18590c){var _0x58cfe5={'wLqfH':_0x07ba('0x5d'),'psJuR':_0xad589b[_0x07ba('0x5e')]};kafkaProducer[_0x07ba('0x5f')]([{'_0x4cf65e':config[_0x07ba('0x4f')],'_0x4d905b':JSON[_0x07ba('0x50')](_0x15c5b1)}],function(_0x51f33d,_0x1da6e8){if(_0x4539b6){log[_0x07ba('0xb')](_0x58cfe5[_0x07ba('0x60')],_0x474af6);return;}log['debug'](_0x58cfe5[_0x07ba('0x61')],_0x495195);});return _0xad589b[_0x07ba('0x62')](_0x4e25f2);});}else{_0x4a6a07=-_0x4a6a07*config['AGGREGATE'][_0x07ba('0x63')];log['debug']('@getTrafficUsage\x20from\x20elastic');aggregate[_0x07ba('0x64')](_0x23ebff,_0x5188d5,_0x45594c)[_0x07ba('0x65')](function(_0x147ea4){var _0x4129a4={'AHLHN':_0xad589b['tgZbt'],'XHfRm':_0xad589b['eXghK'],'fBIHH':function _0x198f7c(_0x310bc1,_0x3137b9){return _0xad589b['iZJpw'](_0x310bc1,_0x3137b9);},'JJSml':function _0x55c18d(_0x4f5f1c,_0x2da97d){return _0xad589b[_0x07ba('0x66')](_0x4f5f1c,_0x2da97d);},'hEpaY':function _0x2172aa(_0x3254b6,_0xb9da4e){return _0xad589b[_0x07ba('0x67')](_0x3254b6,_0xb9da4e);},'zwUGf':function _0x203362(_0xb30f18,_0x4d8c1b){return _0xad589b[_0x07ba('0x68')](_0xb30f18,_0x4d8c1b);},'Aeivi':_0xad589b[_0x07ba('0x69')],'NvOhB':_0xad589b[_0x07ba('0x6a')],'lGRHM':_0xad589b[_0x07ba('0x6b')],'zruwg':_0xad589b[_0x07ba('0x6c')],'WnZxj':function _0x3d39e8(_0x270cf3,_0x1e1a4a){return _0x270cf3+_0x1e1a4a;},'zRJCj':function _0x5c952c(_0x4dc3b2,_0x4342ef){return _0x4dc3b2(_0x4342ef);},'PGRUG':function _0x11cdbb(_0x205876,_0x4b321d){return _0xad589b[_0x07ba('0x6d')](_0x205876,_0x4b321d);}};if(_0xad589b[_0x07ba('0x6e')](_0xad589b[_0x07ba('0x6f')],_0xad589b['Bvcqt'])){that[_0x07ba('0x1b')]=function(_0x346cd6){var _0x461a03={'VNvuL':_0x07ba('0x70')};var _0x2eb9f6=_0x461a03[_0x07ba('0x71')][_0x07ba('0x3b')]('|'),_0x2e459d=0x0;while(!![]){switch(_0x2eb9f6[_0x2e459d++]){case'0':return _0x54865b;continue;case'1':c[_0x07ba('0x28')]=_0x81d7e2;continue;case'2':c[_0x07ba('0x23')]=_0x263380;continue;case'3':c['trace']=_0x26ab28;continue;case'4':var _0x1569d2={};continue;case'5':c['debug']=_0x492a55;continue;case'6':c[_0x07ba('0x22')]=_0xbaba50;continue;case'7':c[_0x07ba('0xb')]=_0x1ac0bb;continue;case'8':c[_0x07ba('0x20')]=_0x45893c;continue;}break;}}(_0x4116a7);}else{if(_0xad589b[_0x07ba('0x67')](_0x147ea4,config[_0x07ba('0x4')])){_0x147ea4=config['DEFAULT_AGGREGATION_SIZE'];}aggregate['getMemberTrafficUsageReport'](_0x5188d5,_0x45594c,_0x23ebff,_0x4a6a07,_0x5171e1,_0x147ea4)['then'](function(_0x30c209){if(_0x4129a4[_0x07ba('0x72')]===_0x4129a4[_0x07ba('0x73')]){for(var _0x4b6f86=0x0;_0x4129a4[_0x07ba('0x74')](_0x293fac,_0x30c209[_0x07ba('0x3d')]);_0x1612bc++){_0x16bf39[_0x07ba('0x75')][_0x1326c3]=_0x30c209[_0x1326c3][_0x07ba('0x76')];_0x16bf39[_0x07ba('0x3e')][_0x1326c3]=utility[_0x07ba('0x3f')](_0x30c209[_0x1326c3][_0x07ba('0x3e')][_0x07ba('0x40')])[_0x07ba('0x41')](0x0);_0x16bf39['upload'][_0x1326c3]=utility[_0x07ba('0x3f')](_0x30c209[_0x1326c3][_0x07ba('0x42')]['value'])[_0x07ba('0x41')](0x0);}}else{var _0x16bf39={'date':[],'download':[],'upload':[]};_0x345dc2=_0x345dc2||[];if(_0x4129a4[_0x07ba('0x77')](_0x345dc2['length'],0x0)){for(var _0x1326c3=0x0;_0x4129a4[_0x07ba('0x78')](_0x1326c3,_0x30c209[_0x07ba('0x3d')]);_0x1326c3++){if(_0x4129a4[_0x07ba('0x79')](_0x4129a4[_0x07ba('0x7a')],_0x4129a4[_0x07ba('0x7a')])){log['debug'](_0x4129a4[_0x07ba('0x7b')],_0x58cdfa);}else{_0x16bf39['date'][_0x1326c3]=_0x30c209[_0x1326c3]['key'];_0x16bf39[_0x07ba('0x3e')][_0x1326c3]=utility[_0x07ba('0x3f')](_0x30c209[_0x1326c3][_0x07ba('0x3e')][_0x07ba('0x40')])[_0x07ba('0x41')](0x0);_0x16bf39[_0x07ba('0x42')][_0x1326c3]=utility['toMByte'](_0x30c209[_0x1326c3][_0x07ba('0x42')][_0x07ba('0x40')])['toFixed'](0x0);}}}else{var _0x3be75a=0x0;var _0x20cd38=0x0;for(var _0x5d9ff6 in _0x345dc2){var _0x4ab248=_0x4129a4['lGRHM'][_0x07ba('0x3b')]('|'),_0x205a90=0x0;while(!![]){switch(_0x4ab248[_0x205a90++]){case'0':var _0x1b354a=0x0;continue;case'1':_0x16bf39['download'][_0x5d9ff6]=utility[_0x07ba('0x3f')](_0x4bcf8a)[_0x07ba('0x41')](0x2);continue;case'2':_0x3be75a+=_0x345dc2[_0x5d9ff6];continue;case'3':var _0x4bcf8a=0x0;continue;case'4':_0x16bf39['upload'][_0x5d9ff6]=utility[_0x07ba('0x3f')](_0x1b354a)[_0x07ba('0x41')](0x2);continue;case'5':_0x16bf39[_0x07ba('0x75')][_0x5d9ff6]=_0x30c209[_0x3be75a][_0x07ba('0x76')];continue;case'6':for(_0x20cd38;_0x4129a4[_0x07ba('0x78')](_0x20cd38,_0x3be75a);_0x20cd38++){if('QUq'!==_0x4129a4[_0x07ba('0x7c')]){_0x4bcf8a+=_0x30c209[_0x20cd38][_0x07ba('0x3e')][_0x07ba('0x40')];_0x1b354a+=_0x30c209[_0x20cd38][_0x07ba('0x42')][_0x07ba('0x40')];}else{that[_0x07ba('0x1b')][_0x07ba('0x23')]=_0x2b542e;that[_0x07ba('0x1b')]['warn']=_0x2681b7;that[_0x07ba('0x1b')]['debug']=_0x476774;that[_0x07ba('0x1b')][_0x07ba('0x22')]=_0x29b146;that['console'][_0x07ba('0xb')]=_0x1a4da1;that[_0x07ba('0x1b')]['exception']=_0x24901f;that['console'][_0x07ba('0x24')]=_0x3333d2;}}continue;}break;}}}log[_0x07ba('0x21')](_0x4129a4['WnZxj'](_0x07ba('0x7d'),JSON[_0x07ba('0x50')](_0x16bf39)));return _0x4129a4[_0x07ba('0x7e')](_0x4aa476,_0x16bf39);}})[_0x07ba('0x7f')](function(_0x16029d){log[_0x07ba('0xb')](_0x16029d);return _0x4129a4[_0x07ba('0x80')](_0x34cfbe,_0x16029d);});}})[_0x07ba('0x7f')](function(_0x1a31fd){log[_0x07ba('0xb')](_0x1a31fd);return _0xad589b[_0x07ba('0x6d')](_0x34cfbe,_0x1a31fd);});}});};_0x5b86a8[_0x07ba('0x81')]=function(_0x1174b2){var _0x4718dd={'uySil':function _0x11ff12(_0x46dcd1,_0x683404){return _0x28d5ea['svTQO'](_0x46dcd1,_0x683404);},'oxQAF':_0x07ba('0x82'),'JKoFe':function _0x474f60(_0x59a253,_0x2ee836){return _0x28d5ea[_0x07ba('0x83')](_0x59a253,_0x2ee836);},'Clpas':function _0x1785f1(_0x2dd069,_0x15ec53){return _0x28d5ea[_0x07ba('0x84')](_0x2dd069,_0x15ec53);},'mmsBm':function _0x3bd781(_0x30e6e4,_0x3f3d73){return _0x28d5ea[_0x07ba('0x85')](_0x30e6e4,_0x3f3d73);}};return Q[_0x07ba('0x4e')](function(_0x2f6a15,_0x4b098e){var _0x54af27=[];var _0x480c2a={};for(var _0x112eec=0x0;_0x28d5ea[_0x07ba('0x86')](_0x112eec,_0x1174b2[_0x07ba('0x3d')]);_0x112eec++){if(_0x28d5ea[_0x07ba('0x87')](_0x28d5ea[_0x07ba('0x88')],_0x28d5ea['uFtFb'])){var _0x35dc8e=_0x13fa96?function(){if(_0x35ce69){var _0x1ad937=fn[_0x07ba('0x8')](_0x143282,_0x1d6f3b);_0x17ea8a=null;return _0x2d2d66;}}:function(){};_0x5e0cd9=![];return _0x24bd5d;}else{var _0x54f7bc=_0x1174b2[_0x112eec];var _0x5e2f8a=_0x54f7bc['id'];_0x480c2a[_0x5e2f8a]=_0x54f7bc;_0x54af27[_0x07ba('0x45')](aggregate[_0x07ba('0x89')](_0x54f7bc[_0x07ba('0x8a')],_0x54f7bc[_0x07ba('0x8b')],_0x5e2f8a));}}Q[_0x07ba('0x8c')](_0x54af27)[_0x07ba('0x65')](function(_0x9d9d8e){var _0x616467=[];for(var _0xd2cee5=0x0;_0x4718dd[_0x07ba('0x8d')](_0xd2cee5,_0x9d9d8e[_0x07ba('0x3d')]);_0xd2cee5++){var _0x391b94=_0x4718dd['oxQAF'][_0x07ba('0x3b')]('|'),_0x5b93bb=0x0;while(!![]){switch(_0x391b94[_0x5b93bb++]){case'0':var _0x57ddbd=_0x480c2a[_0x170dce];continue;case'1':var _0x19a3dc=_0x21f5ab[_0x07ba('0x47')];continue;case'2':for(var _0x11a1f6=0x0;_0x4718dd['JKoFe'](_0x11a1f6,_0x5c6eed[_0x07ba('0x3d')]);_0x11a1f6++){var _0x103869=_0x5c6eed[_0x11a1f6];_0x57ddbd[_0x07ba('0x3e')]=utility[_0x07ba('0x3f')](_0x103869[_0x07ba('0x3e')][_0x07ba('0x40')])['toFixed'](0x0);_0x57ddbd['upload']=utility['toMByte'](_0x103869[_0x07ba('0x42')][_0x07ba('0x40')])[_0x07ba('0x41')](0x0);_0x57ddbd[_0x07ba('0x43')]=_0x4718dd[_0x07ba('0x8e')](new Date()[_0x07ba('0x44')]()-_0x19a3dc,0xea60)[_0x07ba('0x41')](0x0);}continue;case'3':_0x616467['push'](_0x57ddbd);continue;case'4':var _0x21f5ab=_0x9d9d8e[_0xd2cee5];continue;case'5':var _0x170dce=_0x21f5ab[_0x07ba('0x46')];continue;case'6':var _0x5c6eed=_0x21f5ab[_0x07ba('0x8f')];continue;}break;}}return _0x4718dd[_0x07ba('0x90')](_0x2f6a15,{'data':_0x616467});})['fail'](function(_0x27b039){var _0x57967f={'FUwNc':function _0x41522f(_0x182783,_0x163163){return _0x182783===_0x163163;},'VZCgi':_0x07ba('0x91'),'RaStc':_0x07ba('0x92'),'lxecC':function _0x1157fe(_0x33e4e1,_0xc37fd){return _0x33e4e1(_0xc37fd);}};if(_0x57967f[_0x07ba('0x93')](_0x57967f[_0x07ba('0x94')],_0x07ba('0x95'))){var _0x3cf023=_0x57967f[_0x07ba('0x96')]['split']('|'),_0x136ffa=0x0;while(!![]){switch(_0x3cf023[_0x136ffa++]){case'0':c[_0x07ba('0x21')]=_0x317bc5;continue;case'1':c[_0x07ba('0x22')]=_0x3b5a33;continue;case'2':return _0x4fc616;continue;case'3':c[_0x07ba('0x23')]=_0x2e5c0d;continue;case'4':c[_0x07ba('0x28')]=_0x2bc193;continue;case'5':c[_0x07ba('0xb')]=_0x5b2ac1;continue;case'6':c[_0x07ba('0x20')]=_0x402dd8;continue;case'7':c['trace']=_0x179163;continue;case'8':var _0xe2a4e1={};continue;}break;}}else{log[_0x07ba('0xb')](_0x27b039);return _0x57967f[_0x07ba('0x97')](_0x4b098e,_0x27b039);}});});};};