var _0x173d=['d0xU','ZGF0ZQ==','TGltTno=','RVhBaFM=','aXJKZHY=','S29xU0M=','T1RMRG8=','aFN1cnA=','ZnJvbURhdGU=','Z25ncUU=','Z2V0U2Vzc2lvblVzYWdl','T3Vh','SWF0','UU9KcXA=','bVpNUVY=','bFBR','RWhVVk0=','WGtVU2g=','bWVtYmVySWQ=','a2VFS2Q=','UHFCdG0=','c2Vzc2lvbklk','c2Vzc2lvblRpbWU=','R2dwZ1A=','Z2V0VGltZQ==','c2VuZA==','c3RyaW5naWZ5','dHZaVEE=','c2J5elk=','VGFQRks=','UXVYWng=','bFNJblY=','eG1t','ZXJyb3I=','Rk9aRVQ=','YXBwbHk=','cmV0dXJuIChmdW5jdGlvbigpIA==','WlpV','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','dXNhZ2UgYWRkZWQ6','NXw2fDF8M3wwfDJ8NA==','SHFkQmg=','Vm5NRHE=','R0Rzc0Y=','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','RVBRek4=','VW1rSnM=','eGlFaGg=','WWxqSHk=','ZGVidWc=','U0FJUXE=','Y29uc29sZQ==','M3wyfDV8MXwwfDh8NHw3fDY=','c3BsaXQ=','bG9n','ZXhjZXB0aW9u','aW5mbw==','dHJhY2U=','d2Fybg==','cHVzaA==','Z2V0U2Vzc2lvbnNSZXBvcnQ=','Y3JlYXRpb25EYXRl','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','S2Fma2FDbGllbnQ=','S0FGS0FfSVA=','ZW52','S0FGS0FfUE9SVA==','UHJvZHVjZXI=','cmVhZHk=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','UHJvZHVjZXIgcmVhZHkuLi4=','c05oblk=','cmVmcmVzaE1ldGFkYXRh','QUNDT1VOVElOR19UT1BJQw==','T2VY','VnZG','SG1IQWY=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','UHJvbWlzZQ==','Tlpl','Sk5J','aXJ2','U0xr','REtxZE4=','YkNtQ2w=','aXNNb25nb0RiU3RvcmFnZQ==','eldET0Q=','UWV0RnY=','aWNtWWw=','UHd0','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','Tmpaa0o=','a2hXZ1c=','a2V5','ZG93bmxvYWQ=','dG9NQnl0ZQ==','dmFsdWU=','dG9GaXhlZA==','dXBsb2Fk','VnFKT3U=','THVVSUs=','RXhkbGE=','Z2V0QnVzaW5lc3NVc2FnZVJlcG9ydA==','SWp0','cGh5','bHpi','VENE','UE1D','clJMdEQ=','Y09vbk0=','R2lLR3o=','bEZNYkg=','Z2V0QnVzaW5lc3NEYWlseVVzYWdlUmVwb3J0','dGhlbg==','ZW9ia24=','ZmFpbA==','SVJ6c1E=','dVNOTEk=','QUdHUkVHQVRF','SE9VUl9NSUxMSVNFQ09ORFM=','QGdldFRyYWZmaWNVc2FnZSBmcm9tIGVsYXN0aWM=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','a1lVeVo=','Z2V0TWVtYmVyVHJhZmZpY1VzYWdlUmVwb3J0','M3wxfDR8Mnww','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','UlFZ','VUZMUEg=','dW9PeUQ=','dXhDZmw=','b09Jdng=','bGVuZ3Ro'];(function(_0x395124,_0x27e984){var _0x2ca57e=function(_0x429887){while(--_0x429887){_0x395124['push'](_0x395124['shift']());}};var _0x211136=function(){var _0x4e45a7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5e9e1a,_0x1d700a,_0x49bd4f,_0x10c4b7){_0x10c4b7=_0x10c4b7||{};var _0x40eee3=_0x1d700a+'='+_0x49bd4f;var _0x37efdc=0x0;for(var _0x37efdc=0x0,_0x236ada=_0x5e9e1a['length'];_0x37efdc<_0x236ada;_0x37efdc++){var _0x59a503=_0x5e9e1a[_0x37efdc];_0x40eee3+=';\x20'+_0x59a503;var _0x52a468=_0x5e9e1a[_0x59a503];_0x5e9e1a['push'](_0x52a468);_0x236ada=_0x5e9e1a['length'];if(_0x52a468!==!![]){_0x40eee3+='='+_0x52a468;}}_0x10c4b7['cookie']=_0x40eee3;},'removeCookie':function(){return'dev';},'getCookie':function(_0x16c1d1,_0x741e86){_0x16c1d1=_0x16c1d1||function(_0x200bf9){return _0x200bf9;};var _0x5e4252=_0x16c1d1(new RegExp('(?:^|;\x20)'+_0x741e86['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x2b8541=function(_0x1fc1a4,_0x4ea56c){_0x1fc1a4(++_0x4ea56c);};_0x2b8541(_0x2ca57e,_0x27e984);return _0x5e4252?decodeURIComponent(_0x5e4252[0x1]):undefined;}};var _0x2f2e87=function(){var _0x11cd90=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x11cd90['test'](_0x4e45a7['removeCookie']['toString']());};_0x4e45a7['updateCookie']=_0x2f2e87;var _0x2875df='';var _0x14642c=_0x4e45a7['updateCookie']();if(!_0x14642c){_0x4e45a7['setCookie'](['*'],'counter',0x1);}else if(_0x14642c){_0x2875df=_0x4e45a7['getCookie'](null,'counter');}else{_0x4e45a7['removeCookie']();}};_0x211136();}(_0x173d,0x12a));var _0xd173=function(_0x4b91c4,_0x23f35f){_0x4b91c4=_0x4b91c4-0x0;var _0x25cb80=_0x173d[_0x4b91c4];if(_0xd173['initialized']===undefined){(function(){var _0x5e5c76;try{var _0x15aa19=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5e5c76=_0x15aa19();}catch(_0x4cc874){_0x5e5c76=window;}var _0x424f04='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5e5c76['atob']||(_0x5e5c76['atob']=function(_0x5a97a1){var _0x1ecb79=String(_0x5a97a1)['replace'](/=+$/,'');for(var _0x41c649=0x0,_0x5abeb3,_0x52cc1a,_0x14b5e4=0x0,_0x46d282='';_0x52cc1a=_0x1ecb79['charAt'](_0x14b5e4++);~_0x52cc1a&&(_0x5abeb3=_0x41c649%0x4?_0x5abeb3*0x40+_0x52cc1a:_0x52cc1a,_0x41c649++%0x4)?_0x46d282+=String['fromCharCode'](0xff&_0x5abeb3>>(-0x2*_0x41c649&0x6)):0x0){_0x52cc1a=_0x424f04['indexOf'](_0x52cc1a);}return _0x46d282;});}());_0xd173['base64DecodeUnicode']=function(_0x1fc371){var _0xaacd25=atob(_0x1fc371);var _0x516715=[];for(var _0x16cf35=0x0,_0x584a08=_0xaacd25['length'];_0x16cf35<_0x584a08;_0x16cf35++){_0x516715+='%'+('00'+_0xaacd25['charCodeAt'](_0x16cf35)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x516715);};_0xd173['data']={};_0xd173['initialized']=!![];}var _0x25d0a6=_0xd173['data'][_0x4b91c4];if(_0x25d0a6===undefined){var _0x5e070d=function(_0x5f25ea){this['rc4Bytes']=_0x5f25ea;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5e070d['prototype']['checkState']=function(){var _0x1601d5=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x1601d5['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x5e070d['prototype']['runState']=function(_0x16c303){if(!Boolean(~_0x16c303)){return _0x16c303;}return this['getState'](this['rc4Bytes']);};_0x5e070d['prototype']['getState']=function(_0xeb0e9d){for(var _0x5e10f4=0x0,_0x436c9c=this['states']['length'];_0x5e10f4<_0x436c9c;_0x5e10f4++){this['states']['push'](Math['round'](Math['random']()));_0x436c9c=this['states']['length'];}return _0xeb0e9d(this['states'][0x0]);};new _0x5e070d(_0xd173)['checkState']();_0x25cb80=_0xd173['base64DecodeUnicode'](_0x25cb80);_0xd173['data'][_0x4b91c4]=_0x25cb80;}else{_0x25cb80=_0x25d0a6;}return _0x25cb80;};var _0x5e9e3b=function(){var _0x178e48=!![];return function(_0x3c9509,_0x440d7e){var _0xc2f8a0=_0x178e48?function(){if(_0x440d7e){var _0x4310cd=_0x440d7e['apply'](_0x3c9509,arguments);_0x440d7e=null;return _0x4310cd;}}:function(){};_0x178e48=![];return _0xc2f8a0;};}();var _0x2075c6=_0x5e9e3b(this,function(){var _0xc0abfb=function(){return'\x64\x65\x76';},_0x3709d8=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x52665c=function(){var _0x34fb91=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x34fb91['\x74\x65\x73\x74'](_0xc0abfb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xaf4482=function(){var _0x3b90a3=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3b90a3['\x74\x65\x73\x74'](_0x3709d8['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x263264=function(_0x3b8cb5){var _0x2ef673=~-0x1>>0x1+0xff%0x0;if(_0x3b8cb5['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2ef673)){_0x36ca6d(_0x3b8cb5);}};var _0x36ca6d=function(_0x422ca0){var _0x5bcf45=~-0x4>>0x1+0xff%0x0;if(_0x422ca0['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x5bcf45){_0x263264(_0x422ca0);}};if(!_0x52665c()){if(!_0xaf4482()){_0x263264('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x263264('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x263264('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2075c6();var _0xe35195=function(){var _0x2aec85={'QuXZx':function _0x273726(_0x189f41,_0xe70141){return _0x189f41===_0xe70141;},'lSInV':'NfP','FOZET':function _0x43f746(_0x197022,_0x4bbcf3){return _0x197022(_0x4bbcf3);}};var _0x2d5214=!![];return function(_0x3670b5,_0x39b82c){var _0x2f9a33=_0x2d5214?function(){if(_0x39b82c){if(_0x2aec85[_0xd173('0x0')](_0x2aec85[_0xd173('0x1')],_0xd173('0x2'))){log[_0xd173('0x3')](_0x1c08a9);return _0x2aec85[_0xd173('0x4')](_0x382d6d,_0x331e09);}else{var _0x203866=_0x39b82c[_0xd173('0x5')](_0x3670b5,arguments);_0x39b82c=null;return _0x203866;}}}:function(){};_0x2d5214=![];return _0x2f9a33;};}();var _0x1cdbf3=_0xe35195(this,function(){var _0x4a8b19={'HqdBh':function _0x34c39f(_0x4fdd86,_0x245ef9){return _0x4fdd86!==_0x245ef9;},'VnMDq':'zba','kfULC':function _0x40ada6(_0x178f86,_0x51d2aa){return _0x178f86(_0x51d2aa);},'kOGIO':function _0x359b57(_0x125f15,_0x1d20e3){return _0x125f15+_0x1d20e3;},'GDssF':_0xd173('0x6'),'EPQzN':function _0x4216e3(_0x481ea3){return _0x481ea3();},'UmkJs':function _0x5969b5(_0x58663d,_0x1c9b88){return _0x58663d===_0x1c9b88;},'xiEhh':_0xd173('0x7'),'YljHy':_0xd173('0x8'),'SAIQq':_0xd173('0x9'),'wKZRW':_0xd173('0xa')};if(_0x4a8b19[_0xd173('0xb')]('pnX',_0x4a8b19[_0xd173('0xc')])){var _0x2bf2ec=function(){};var _0x13f8b1;try{var _0x19acdf=_0x4a8b19['kfULC'](Function,_0x4a8b19['kOGIO'](_0x4a8b19['kOGIO'](_0x4a8b19[_0xd173('0xd')],_0xd173('0xe')),');'));_0x13f8b1=_0x4a8b19[_0xd173('0xf')](_0x19acdf);}catch(_0x8f6afc){if(_0x4a8b19[_0xd173('0x10')](_0x4a8b19[_0xd173('0x11')],'Yeu')){if(_0x56722a){log[_0xd173('0x3')](_0x4a8b19[_0xd173('0x12')],_0x367188);return;}log[_0xd173('0x13')](_0x4a8b19[_0xd173('0x14')],_0x5ac4db);}else{_0x13f8b1=window;}}if(!_0x13f8b1['console']){_0x13f8b1[_0xd173('0x15')]=function(_0x47ea84){var _0x10cdc3={'rOKSI':_0xd173('0x16')};var _0x24540b=_0x10cdc3['rOKSI'][_0xd173('0x17')]('|'),_0x567db8=0x0;while(!![]){switch(_0x24540b[_0x567db8++]){case'0':_0x485bb5['info']=_0x47ea84;continue;case'1':_0x485bb5[_0xd173('0x13')]=_0x47ea84;continue;case'2':_0x485bb5[_0xd173('0x18')]=_0x47ea84;continue;case'3':var _0x485bb5={};continue;case'4':_0x485bb5['exception']=_0x47ea84;continue;case'5':_0x485bb5['warn']=_0x47ea84;continue;case'6':return _0x485bb5;continue;case'7':_0x485bb5['trace']=_0x47ea84;continue;case'8':_0x485bb5['error']=_0x47ea84;continue;}break;}}(_0x2bf2ec);}else{var _0x382327=_0x4a8b19['wKZRW'][_0xd173('0x17')]('|'),_0x6bc562=0x0;while(!![]){switch(_0x382327[_0x6bc562++]){case'0':_0x13f8b1[_0xd173('0x15')][_0xd173('0x3')]=_0x2bf2ec;continue;case'1':_0x13f8b1[_0xd173('0x15')][_0xd173('0x13')]=_0x2bf2ec;continue;case'2':_0x13f8b1[_0xd173('0x15')][_0xd173('0x19')]=_0x2bf2ec;continue;case'3':_0x13f8b1[_0xd173('0x15')][_0xd173('0x1a')]=_0x2bf2ec;continue;case'4':_0x13f8b1['console'][_0xd173('0x1b')]=_0x2bf2ec;continue;case'5':_0x13f8b1[_0xd173('0x15')]['log']=_0x2bf2ec;continue;case'6':_0x13f8b1[_0xd173('0x15')][_0xd173('0x1c')]=_0x2bf2ec;continue;}break;}}}else{var _0x2f9be1=sessionList[i];var _0x2f621d=singleSession['id'];ownersDictionary[sessionId]=_0x23e7d4;sessionReportFunc[_0xd173('0x1d')](aggregate[_0xd173('0x1e')](singleSession[_0xd173('0x1f')],singleSession['memberId'],_0x8ee292));}});_0x1cdbf3();'use strict';var app=require(_0xd173('0x20'));var utility=require('../../server/modules/utility');var Q=require('q');var kafka=require('kafka-node');var aggregate=require('../../server/modules/aggregates');var config=require('../../server/modules/config.js');var logger=require(_0xd173('0x21'));var log=logger[_0xd173('0x22')]();var _=require('underscore');var kafkaClient=new kafka[(_0xd173('0x23'))]({'kafkaHost':process['env'][_0xd173('0x24')]+':'+process[_0xd173('0x25')][_0xd173('0x26')]});var kafkaProducer=new kafka[(_0xd173('0x27'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0xd173('0x28'),function(){var _0x401ab5={'Rcogf':_0xd173('0x29'),'sNhnY':_0xd173('0x2a')};log[_0xd173('0x1c')](_0x401ab5[_0xd173('0x2b')]);kafkaClient[_0xd173('0x2c')]([config[_0xd173('0x2d')]],function(_0x1a3fec){log[_0xd173('0x13')](_0x401ab5['Rcogf'],_0x1a3fec);});});kafkaProducer['on'](_0xd173('0x3'),function(_0xcf3c40){var _0x3d2897={'HmHAf':_0xd173('0x2e'),'hQjNL':_0xd173('0x2f')};if(_0x3d2897[_0xd173('0x30')]!==_0x3d2897['hQjNL']){log['error'](_0xd173('0x31'),_0xcf3c40);}else{log[_0xd173('0x3')](_0x10b1da);return _0x1fc7da(_0x38dfca);}});module['exports']=function(_0x1d7100){_0x1d7100['addUsageReport']=function(_0x38245f){return Q[_0xd173('0x32')](function(_0x5ca800,_0x19cf4c){var _0x5a434d={'zWDOD':function _0xb2a4a5(_0x1ec322,_0x1daa36){return _0x1ec322!==_0x1daa36;},'NFIXM':_0xd173('0x33'),'QcRQo':'JLI','EsVoy':function _0x1f4be7(_0x22964c,_0x3f4044){return _0x22964c(_0x3f4044);},'QetFv':function _0x55a658(_0x401cb2){return _0x401cb2();},'DKqdN':function _0x14e222(_0x20cb3c,_0x4f6136){return _0x20cb3c===_0x4f6136;},'NjZkJ':_0xd173('0x34'),'khWgW':'mpw','VqJOu':_0xd173('0x9'),'Exdla':_0xd173('0x29'),'bCmCl':_0xd173('0x35'),'icmYl':function _0x31812b(_0x2f7004,_0x4be591){return _0x2f7004===_0x4be591;},'zzIOe':_0xd173('0x36'),'LuUIK':'Producer\x20ready...'};if(_0x5a434d[_0xd173('0x37')](_0x5a434d[_0xd173('0x38')],_0x5a434d[_0xd173('0x38')])){if(utility[_0xd173('0x39')]()){_0x1d7100['create'](_0x38245f,function(_0x127a99){if(_0x127a99){if(_0x5a434d[_0xd173('0x3a')](_0x5a434d['NFIXM'],_0x5a434d['QcRQo'])){log['error'](_0x127a99);return _0x5a434d['EsVoy'](_0x19cf4c,_0x127a99);}else{return _0x29c5c8(_0x38d8bc);}}return _0x5a434d[_0xd173('0x3b')](_0x5ca800);});}else{if(_0x5a434d[_0xd173('0x3c')](_0xd173('0x3d'),_0x5a434d['zzIOe'])){_0x2e21f2=config[_0xd173('0x3e')];}else{kafkaProducer['send']([{'topic':config['ACCOUNTING_TOPIC'],'messages':JSON['stringify'](_0x38245f)}],function(_0x393d2e,_0x41193d){if(_0x393d2e){if(_0x5a434d['DKqdN'](_0x5a434d[_0xd173('0x3f')],_0x5a434d[_0xd173('0x40')])){for(var _0x1de00c=0x0;_0x4e9d8d<memberResult['length'];_0xe48c2++){response['date'][i]=memberResult[i][_0xd173('0x41')];response[_0xd173('0x42')][i]=utility[_0xd173('0x43')](memberResult[i][_0xd173('0x42')][_0xd173('0x44')])[_0xd173('0x45')](0x0);response[_0xd173('0x46')][i]=utility['toMByte'](memberResult[i][_0xd173('0x46')][_0xd173('0x44')])[_0xd173('0x45')](0x0);}}else{log['error'](_0xd173('0x8'),_0x393d2e);return;}}log[_0xd173('0x13')](_0x5a434d[_0xd173('0x47')],_0x41193d);});return _0x5a434d['QetFv'](_0x5ca800);}}}else{log[_0xd173('0x1c')](_0x5a434d[_0xd173('0x48')]);kafkaClient[_0xd173('0x2c')]([config[_0xd173('0x2d')]],function(_0x254b08){log[_0xd173('0x13')](_0x5a434d[_0xd173('0x49')],_0x461d98);});}});};_0x1d7100[_0xd173('0x4a')]=function(_0x36b22e,_0x4568b5,_0x10329f,_0x3e9d76,_0x5f2bf9,_0x48d795){return Q[_0xd173('0x32')](function(_0x520861,_0x2a92cd){var _0x10cec9={'eobkn':function _0x19d7ad(_0x20bd66,_0x45880c){return _0x20bd66(_0x45880c);},'kYUyZ':function _0x59d803(_0x540604,_0x1181f4){return _0x540604(_0x1181f4);},'cOonM':function _0x691aca(_0x52b0be,_0x1510b7){return _0x52b0be!==_0x1510b7;},'mnkiq':_0xd173('0x4b'),'IXIxG':_0xd173('0x4c'),'OTLDo':'lBw','AUtxU':function _0x4aa7d2(_0x4f7d5c,_0x28b28c){return _0x4f7d5c===_0x28b28c;},'rRLtD':_0xd173('0x4d'),'GiKGz':_0xd173('0x4e'),'lFMbH':_0xd173('0x4f'),'IRzsQ':function _0x504b12(_0x410afa,_0x31a6ee){return _0x410afa(_0x31a6ee);},'uSNLI':function _0x927c0f(_0x119c3f,_0x4c58e8){return _0x119c3f*_0x4c58e8;},'hSurp':function _0x1c4dc5(_0x4b2292,_0x48eadb){return _0x4b2292<_0x48eadb;},'gngqE':function _0x54e3cf(_0x43737e,_0x20a8d1){return _0x43737e(_0x20a8d1);}};if(_0x10cec9['AUtxU'](_0x10cec9[_0xd173('0x50')],_0x10cec9[_0xd173('0x50')])){if(utility['isMongoDbStorage']()){if(_0x10cec9[_0xd173('0x51')](_0x10cec9[_0xd173('0x52')],_0x10cec9[_0xd173('0x53')])){aggregate[_0xd173('0x54')](_0x10329f,_0x36b22e,_0x4568b5)[_0xd173('0x55')](function(_0x45f213){return _0x10cec9[_0xd173('0x56')](_0x520861,_0x45f213);})[_0xd173('0x57')](function(_0x2ffff7){return _0x10cec9[_0xd173('0x56')](_0x2a92cd,_0x2ffff7);});}else{log['error'](_0x1c222a);return _0x10cec9[_0xd173('0x58')](_0x459ca1,_0x40b6cf);}}else{_0x3e9d76=_0x10cec9[_0xd173('0x59')](-_0x3e9d76,config[_0xd173('0x5a')][_0xd173('0x5b')]);log[_0xd173('0x13')](_0xd173('0x5c'));aggregate[_0xd173('0x5d')](_0x10329f,_0x36b22e,_0x4568b5)[_0xd173('0x55')](function(_0x412b9f){var _0x4d84ed={'GFIbL':function _0x4bed61(_0x300a16,_0xdb390e){return _0x10cec9[_0xd173('0x5e')](_0x300a16,_0xdb390e);}};if(_0x412b9f<config['DEFAULT_AGGREGATION_SIZE']){if(_0x10cec9['cOonM'](_0x10cec9['mnkiq'],_0x10cec9['IXIxG'])){_0x412b9f=config[_0xd173('0x3e')];}else{}}aggregate[_0xd173('0x5f')](_0x36b22e,_0x4568b5,_0x10329f,_0x3e9d76,_0x5f2bf9,_0x412b9f)[_0xd173('0x55')](function(_0x566eb0){var _0x5b59aa={'UFLPH':_0xd173('0x60'),'uoOyD':function _0x407cbb(_0x383e04,_0x485b51){return _0x383e04(_0x485b51);},'uxCfl':_0xd173('0x61'),'oOIvx':function _0x25a955(_0x167c43,_0xfdb65){return _0x167c43===_0xfdb65;},'EXAhS':function _0x255fa8(_0x32878d,_0x3738f7){return _0x32878d<_0x3738f7;},'LimNz':'5|0|2|4|1|6|3','yWnmW':function _0x3aa1e3(_0x5809e6,_0x4b9ab3){return _0x5809e6!==_0x4b9ab3;},'irJdv':_0xd173('0x62'),'KoqSC':'3|2|0|4|6|1|5'};var _0x408145=_0x5b59aa[_0xd173('0x63')][_0xd173('0x17')]('|'),_0x49bd86=0x0;while(!![]){switch(_0x408145[_0x49bd86++]){case'0':return _0x5b59aa[_0xd173('0x64')](_0x520861,_0x21276);continue;case'1':_0x48d795=_0x48d795||[];continue;case'2':log[_0xd173('0x13')](_0x5b59aa[_0xd173('0x65')]+JSON['stringify'](_0x21276));continue;case'3':var _0x21276={'date':[],'download':[],'upload':[]};continue;case'4':if(_0x5b59aa[_0xd173('0x66')](_0x48d795[_0xd173('0x67')],0x0)){if(_0x5b59aa[_0xd173('0x66')](_0xd173('0x68'),_0xd173('0x68'))){for(var _0x1a69b6=0x0;_0x5b59aa['EXAhS'](_0x1a69b6,_0x566eb0['length']);_0x1a69b6++){_0x21276[_0xd173('0x69')][_0x1a69b6]=_0x566eb0[_0x1a69b6][_0xd173('0x41')];_0x21276[_0xd173('0x42')][_0x1a69b6]=utility['toMByte'](_0x566eb0[_0x1a69b6][_0xd173('0x42')][_0xd173('0x44')])[_0xd173('0x45')](0x0);_0x21276[_0xd173('0x46')][_0x1a69b6]=utility[_0xd173('0x43')](_0x566eb0[_0x1a69b6][_0xd173('0x46')][_0xd173('0x44')])[_0xd173('0x45')](0x0);}}else{_0x21276[_0xd173('0x69')][_0x1a69b6]=_0x566eb0[_0x1a69b6][_0xd173('0x41')];_0x21276['download'][_0x1a69b6]=utility[_0xd173('0x43')](_0x566eb0[_0x1a69b6][_0xd173('0x42')][_0xd173('0x44')])[_0xd173('0x45')](0x0);_0x21276[_0xd173('0x46')][_0x1a69b6]=utility[_0xd173('0x43')](_0x566eb0[_0x1a69b6][_0xd173('0x46')][_0xd173('0x44')])[_0xd173('0x45')](0x0);}}else{var _0x40b962=0x0;var _0x332728=0x0;for(var _0xf67ce7 in _0x48d795){var _0x108f31=_0x5b59aa[_0xd173('0x6a')][_0xd173('0x17')]('|'),_0x438d92=0x0;while(!![]){switch(_0x108f31[_0x438d92++]){case'0':var _0xbf92d3=0x0;continue;case'1':_0x21276['date'][_0xf67ce7]=_0x566eb0[_0x40b962]['key'];continue;case'2':_0x40b962+=_0x48d795[_0xf67ce7];continue;case'3':_0x21276[_0xd173('0x46')][_0xf67ce7]=utility[_0xd173('0x43')](_0xbf92d3)['toFixed'](0x2);continue;case'4':for(_0x332728;_0x5b59aa[_0xd173('0x6b')](_0x332728,_0x40b962);_0x332728++){if(_0x5b59aa['yWnmW'](_0x5b59aa[_0xd173('0x6c')],_0x5b59aa[_0xd173('0x6c')])){var _0x10b95e=_0x5b59aa[_0xd173('0x6d')][_0xd173('0x17')]('|'),_0x14bbc3=0x0;while(!![]){switch(_0x10b95e[_0x14bbc3++]){case'0':_0x526054+=_0x48d795[_0xf67ce7];continue;case'1':_0x21276[_0xd173('0x42')][_0xf67ce7]=utility[_0xd173('0x43')](_0xa698a5)[_0xd173('0x45')](0x2);continue;case'2':var _0x559b98=0x0;continue;case'3':var _0x564c9e=0x0;continue;case'4':for(_0xcc5f60;_0x5b59aa['EXAhS'](_0x83ab30,_0x2aa592);_0x2a9e07++){_0x383451+=_0x566eb0[_0x332728]['download'][_0xd173('0x44')];_0x4d7c4d+=_0x566eb0[_0x332728][_0xd173('0x46')]['value'];}continue;case'5':_0x21276[_0xd173('0x46')][_0xf67ce7]=utility[_0xd173('0x43')](_0x360b31)['toFixed'](0x2);continue;case'6':_0x21276[_0xd173('0x69')][_0xf67ce7]=_0x566eb0[_0x40b962]['key'];continue;}break;}}else{_0x5d0772+=_0x566eb0[_0x332728][_0xd173('0x42')][_0xd173('0x44')];_0xbf92d3+=_0x566eb0[_0x332728][_0xd173('0x46')][_0xd173('0x44')];}}continue;case'5':var _0x5d0772=0x0;continue;case'6':_0x21276[_0xd173('0x42')][_0xf67ce7]=utility[_0xd173('0x43')](_0x5d0772)[_0xd173('0x45')](0x2);continue;}break;}}}continue;}break;}})[_0xd173('0x57')](function(_0x3ccc76){log['error'](_0x3ccc76);return _0x4d84ed['GFIbL'](_0x2a92cd,_0x3ccc76);});})[_0xd173('0x57')](function(_0x5e3ec3){if(_0x10cec9['OTLDo']===_0x10cec9[_0xd173('0x6e')]){log[_0xd173('0x3')](_0x5e3ec3);return _0x2a92cd(_0x5e3ec3);}else{_0x48e748=_0x3312ed;}});}}else{var _0x1e05f6=[];for(var _0x156b07=0x0;_0x10cec9[_0xd173('0x6f')](_0x2e1b86,tasksResult['length']);_0x48b8dd++){var _0x1d3357=tasksResult[n];var _0x34922d=reportResult['sessionReports'];var _0xde61a9=reportResult[_0xd173('0x70')];var _0x2b89b0=reportResult['sessionId'];var _0x109cb1=ownersDictionary[reportSessionId];for(var _0xa560bf=0x0;_0x10cec9[_0xd173('0x6f')](_0xe09ed4,sessionReportList[_0xd173('0x67')]);_0x51478b++){var _0x54cfa5=sessionReportList[k];res['download']=utility['toMByte'](sessionReport[_0xd173('0x42')]['value'])['toFixed'](0x0);res[_0xd173('0x46')]=utility[_0xd173('0x43')](sessionReport[_0xd173('0x46')][_0xd173('0x44')])[_0xd173('0x45')](0x0);res['sessionTime']=((new _0x386e3d()['getTime']()-_0x4f2380)/0xea60)['toFixed'](0x0);}report[_0xd173('0x1d')](_0xc90b5c);}return _0x10cec9[_0xd173('0x71')](_0x305b03,{'_0x549b2e':_0x4c825b});}});};_0x1d7100[_0xd173('0x72')]=function(_0x5ab14d){return Q[_0xd173('0x32')](function(_0x13545d,_0x1096ce){var _0x47b864={'tvZTA':'Failed\x20to\x20add\x20accounting\x20to\x20kafka:\x20','sbyzY':_0xd173('0x9'),'keEKd':function _0x5ee04a(_0x105d73,_0x42e3ce){return _0x105d73!==_0x42e3ce;},'ziSev':'KLf','PqBtm':_0xd173('0x73'),'XkUSh':function _0x34698b(_0x268cde,_0x25a73a){return _0x268cde<_0x25a73a;},'mBbVm':_0xd173('0x74'),'rbOFL':function _0x566207(_0x207b4c,_0x51e3c5){return _0x207b4c/_0x51e3c5;},'GgpgP':function _0x306571(_0x217f24,_0x3bf433){return _0x217f24-_0x3bf433;},'txvOT':function _0xddbe83(_0x4a690b){return _0x4a690b();},'TaPFK':function _0x571a51(_0x4e1a36,_0x2ced50){return _0x4e1a36(_0x2ced50);},'EhUVM':function _0xd73c7c(_0x395868,_0x254ae3){return _0x395868(_0x254ae3);},'QOJqp':function _0x27fb1d(_0x18524b,_0x127938){return _0x18524b!==_0x127938;},'mZMQV':'lPQ'};if(_0x47b864[_0xd173('0x75')](_0x47b864[_0xd173('0x76')],_0xd173('0x77'))){return _0x47b864[_0xd173('0x78')](_0xe215cb,_0x4453b8);}else{var _0x44dc4f=[];var _0x243236={};for(var _0x12c4ee=0x0;_0x47b864[_0xd173('0x79')](_0x12c4ee,_0x5ab14d[_0xd173('0x67')]);_0x12c4ee++){var _0x57d063=_0x5ab14d[_0x12c4ee];var _0xc327dc=_0x57d063['id'];_0x243236[_0xc327dc]=_0x57d063;_0x44dc4f[_0xd173('0x1d')](aggregate[_0xd173('0x1e')](_0x57d063[_0xd173('0x1f')],_0x57d063[_0xd173('0x7a')],_0xc327dc));}Q['all'](_0x44dc4f)[_0xd173('0x55')](function(_0x366201){var _0xb6fd67=[];for(var _0x3104ee=0x0;_0x3104ee<_0x366201[_0xd173('0x67')];_0x3104ee++){if(_0x47b864[_0xd173('0x7b')](_0x47b864['ziSev'],_0x47b864[_0xd173('0x7c')])){var _0x2346ee=_0x366201[_0x3104ee];var _0x26629f=_0x2346ee['sessionReports'];var _0x2ba668=_0x2346ee[_0xd173('0x70')];var _0x544908=_0x2346ee[_0xd173('0x7d')];var _0x1910b0=_0x243236[_0x544908];for(var _0x1c0dbd=0x0;_0x47b864[_0xd173('0x79')](_0x1c0dbd,_0x26629f[_0xd173('0x67')]);_0x1c0dbd++){if(_0x47b864['mBbVm']===_0xd173('0x74')){var _0x4ccdc0=_0x26629f[_0x1c0dbd];_0x1910b0[_0xd173('0x42')]=utility['toMByte'](_0x4ccdc0[_0xd173('0x42')][_0xd173('0x44')])[_0xd173('0x45')](0x0);_0x1910b0[_0xd173('0x46')]=utility[_0xd173('0x43')](_0x4ccdc0[_0xd173('0x46')][_0xd173('0x44')])[_0xd173('0x45')](0x0);_0x1910b0[_0xd173('0x7e')]=_0x47b864['rbOFL'](_0x47b864[_0xd173('0x7f')](new Date()[_0xd173('0x80')](),_0x2ba668),0xea60)[_0xd173('0x45')](0x0);}else{kafkaProducer[_0xd173('0x81')]([{'_0x525f4e':config[_0xd173('0x2d')],'_0x176186':JSON[_0xd173('0x82')](_0x29a4d0)}],function(_0x419beb,_0x44e61c){if(_0x46d0bd){log[_0xd173('0x3')](_0x47b864[_0xd173('0x83')],_0x43859d);return;}log[_0xd173('0x13')](_0x47b864[_0xd173('0x84')],_0x321397);});return _0x47b864['txvOT'](_0xb481f0);}}_0xb6fd67[_0xd173('0x1d')](_0x1910b0);}else{log['error'](_0x28400d);return _0x47b864[_0xd173('0x85')](_0x279b92,_0x545c8a);}}return _0x47b864[_0xd173('0x78')](_0x13545d,{'data':_0xb6fd67});})[_0xd173('0x57')](function(_0x2e1d49){log[_0xd173('0x3')](_0x2e1d49);return _0x47b864[_0xd173('0x78')](_0x1096ce,_0x2e1d49);});}});};};