var _0x5a81=['RUZU','NXwxfDZ8MnwwfDN8NA==','cHJvY2VzcyBvZiBnZXR0aW5nIHRyYWZmaWMgdXNhZ2UgaW5mbyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5','Ymdp','b0h4','TXVJTVA=','WWNwb1A=','Z1dObUU=','WVlMQWc=','WE96Zm8=','RVNZZEI=','a29adWo=','ZGRZS1Q=','Q3lPSVg=','enpO','U1FFQmY=','cmRyc24=','Y1l1S3M=','bWhZR0g=','aFRXcVk=','eE9nS24=','Z2V0VGltZQ==','S3FYYmY=','Z2V0VW5pcXVlU2Vzc2lvbkNvdW50','dGhlbg==','VVhnSGE=','REVGQVVMVF9BR0dSRUdBVElPTl9TSVpF','QVpXTU8=','Z2V0TWVtYmVyVHJhZmZpY1VzYWdlUmVwb3J0','dlFqRlk=','eEdMRlk=','Q1FtbE8=','REd6YlE=','WlRBT0M=','SUxQbFU=','bGVuZ3Ro','ckpESUI=','Qmp3QXI=','c2Vzc2lvbklk','YnhncUE=','c2Vzc2lvblRpbWU=','RHd6SWQ=','cHVzaA==','S1NMVUc=','cm1Y','bllrZFE=','eWVZY2Y=','aU96RmM=','UlREZEc=','VFFyc3Q=','c3RyaW5naWZ5','dmVuZ1g=','ZmFpbA==','ZmNreW4=','YXBwbHk=','emlI','cHhZ','R0pJ','d2VIUFA=','alhZekw=','QlN4UUM=','Y3JlYXRpb25EYXRl','bWVtYmVySWQ=','YWxs','UnBGU3M=','UHZrbGw=','YWJLcm8=','YnNYQ1U=','ZnJvbURhdGU=','c2Vzc2lvblJlcG9ydHM=','emVsUlU=','Vm5M','dEFW','Zldy','S2FDSm4=','SklrR1k=','ZE1NUWY=','bHRKbU0=','c3FkR1k=','cVZad0U=','cEJC','ZGF0ZQ==','a2V5','dG9NQnl0ZQ==','ZG93bmxvYWQ=','dmFsdWU=','dG9GaXhlZA==','dXBsb2Fk','RmFpbGVkIHRvIGFkZCBhY2NvdW50aW5nIHRvIGthZmthOiA=','dXNhZ2UgYWRkZWQ6','eEp3','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','Yk55','RWZCSno=','U2h2','T0pWcVg=','YmVwZHM=','VkFtSHU=','SUl0Uk8=','bVF4WVg=','Y29uc29sZQ==','dnFOWUs=','YWVN','dkpUTVk=','ZGVidWc=','ZXJyb3I=','dHJhY2U=','aW5mbw==','bG9n','d2Fybg==','c2VuZA==','QUNDT1VOVElOR19UT1BJQw==','VG5yQUU=','MHwyfDV8M3wxfDZ8NA==','c3BsaXQ=','OHw3fDZ8M3w0fDF8Mnw1fDA=','ZXhjZXB0aW9u','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvYWdncmVnYXRlcw==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmlnLmpz','Y3JlYXRlTG9nZ2Vy','dW5kZXJzY29yZQ==','S2Fma2FDbGllbnQ=','ZW52','S0FGS0FfSVA=','S0FGS0FfUE9SVA==','UHJvZHVjZXI=','cmVhZHk=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','T1FX','UHJvZHVjZXIgcmVhZHkuLi4=','NHw1fDh8M3wxfDJ8Nnw3fDA=','U1NsbXk=','SWZpYkQ=','aFRTVEg=','RHdOenM=','YWRkVXNhZ2VSZXBvcnQ=','VE9JcUk=','UHJvbWlzZQ==','Sm9QZVI=','UUtyalU=','Z2V0QnVzaW5lc3NVc2FnZVJlcG9ydA==','VmFX','elJr','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg=='];(function(_0xbd81da,_0xb6f6b0){var _0x3c55cb=function(_0x1acf5e){while(--_0x1acf5e){_0xbd81da['push'](_0xbd81da['shift']());}};var _0x425259=function(){var _0x429fea={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4f6659,_0x5ae963,_0x3553f4,_0x362ec3){_0x362ec3=_0x362ec3||{};var _0x2e147e=_0x5ae963+'='+_0x3553f4;var _0x199171=0x0;for(var _0x199171=0x0,_0x59d45d=_0x4f6659['length'];_0x199171<_0x59d45d;_0x199171++){var _0x31032d=_0x4f6659[_0x199171];_0x2e147e+=';\x20'+_0x31032d;var _0x26183d=_0x4f6659[_0x31032d];_0x4f6659['push'](_0x26183d);_0x59d45d=_0x4f6659['length'];if(_0x26183d!==!![]){_0x2e147e+='='+_0x26183d;}}_0x362ec3['cookie']=_0x2e147e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5a7246,_0x13be74){_0x5a7246=_0x5a7246||function(_0x315a18){return _0x315a18;};var _0x4e4ba8=_0x5a7246(new RegExp('(?:^|;\x20)'+_0x13be74['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x4ce4b9=function(_0x28e303,_0xa83d6c){_0x28e303(++_0xa83d6c);};_0x4ce4b9(_0x3c55cb,_0xb6f6b0);return _0x4e4ba8?decodeURIComponent(_0x4e4ba8[0x1]):undefined;}};var _0x1fa853=function(){var _0x4afc88=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4afc88['test'](_0x429fea['removeCookie']['toString']());};_0x429fea['updateCookie']=_0x1fa853;var _0x5af716='';var _0x4c414c=_0x429fea['updateCookie']();if(!_0x4c414c){_0x429fea['setCookie'](['*'],'counter',0x1);}else if(_0x4c414c){_0x5af716=_0x429fea['getCookie'](null,'counter');}else{_0x429fea['removeCookie']();}};_0x425259();}(_0x5a81,0xdb));var _0x15a8=function(_0x566bdf,_0x1f4861){_0x566bdf=_0x566bdf-0x0;var _0x331215=_0x5a81[_0x566bdf];if(_0x15a8['initialized']===undefined){(function(){var _0x2e0722;try{var _0x5c8d8a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2e0722=_0x5c8d8a();}catch(_0x20c6dd){_0x2e0722=window;}var _0x5deaca='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x2e0722['atob']||(_0x2e0722['atob']=function(_0x68d7af){var _0x417c87=String(_0x68d7af)['replace'](/=+$/,'');for(var _0x531170=0x0,_0xad218,_0x551980,_0x5d069a=0x0,_0x4d5ba0='';_0x551980=_0x417c87['charAt'](_0x5d069a++);~_0x551980&&(_0xad218=_0x531170%0x4?_0xad218*0x40+_0x551980:_0x551980,_0x531170++%0x4)?_0x4d5ba0+=String['fromCharCode'](0xff&_0xad218>>(-0x2*_0x531170&0x6)):0x0){_0x551980=_0x5deaca['indexOf'](_0x551980);}return _0x4d5ba0;});}());_0x15a8['base64DecodeUnicode']=function(_0x27534c){var _0x5f5bbd=atob(_0x27534c);var _0x3eb93a=[];for(var _0xdba2e5=0x0,_0x2b28e2=_0x5f5bbd['length'];_0xdba2e5<_0x2b28e2;_0xdba2e5++){_0x3eb93a+='%'+('00'+_0x5f5bbd['charCodeAt'](_0xdba2e5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3eb93a);};_0x15a8['data']={};_0x15a8['initialized']=!![];}var _0x4480cf=_0x15a8['data'][_0x566bdf];if(_0x4480cf===undefined){var _0x51438a=function(_0x4c099e){this['rc4Bytes']=_0x4c099e;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x51438a['prototype']['checkState']=function(){var _0x28be45=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x28be45['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x51438a['prototype']['runState']=function(_0x51ba29){if(!Boolean(~_0x51ba29)){return _0x51ba29;}return this['getState'](this['rc4Bytes']);};_0x51438a['prototype']['getState']=function(_0x4ad942){for(var _0x321de3=0x0,_0x50e333=this['states']['length'];_0x321de3<_0x50e333;_0x321de3++){this['states']['push'](Math['round'](Math['random']()));_0x50e333=this['states']['length'];}return _0x4ad942(this['states'][0x0]);};new _0x51438a(_0x15a8)['checkState']();_0x331215=_0x15a8['base64DecodeUnicode'](_0x331215);_0x15a8['data'][_0x566bdf]=_0x331215;}else{_0x331215=_0x4480cf;}return _0x331215;};var _0xe60cae=function(){var _0x1d774e=!![];return function(_0xe51abc,_0x2bb8e7){var _0x48819b=_0x1d774e?function(){if(_0x2bb8e7){var _0x1348c6=_0x2bb8e7['apply'](_0xe51abc,arguments);_0x2bb8e7=null;return _0x1348c6;}}:function(){};_0x1d774e=![];return _0x48819b;};}();var _0x44c73f=_0xe60cae(this,function(){var _0x675a20=function(){return'\x64\x65\x76';},_0x2e0c4f=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0xd7d9c1=function(){var _0x40a1e2=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x40a1e2['\x74\x65\x73\x74'](_0x675a20['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x164148=function(){var _0xacac6f=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0xacac6f['\x74\x65\x73\x74'](_0x2e0c4f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x59c72e=function(_0x7ea75){var _0x42e578=~-0x1>>0x1+0xff%0x0;if(_0x7ea75['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x42e578)){_0x94ae59(_0x7ea75);}};var _0x94ae59=function(_0x4bb888){var _0x49ad4d=~-0x4>>0x1+0xff%0x0;if(_0x4bb888['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x49ad4d){_0x59c72e(_0x4bb888);}};if(!_0xd7d9c1()){if(!_0x164148()){_0x59c72e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x59c72e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x59c72e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x44c73f();var _0x5082d5=function(){var _0x3e13c0={'ltJmM':function _0x6dddd7(_0xf89559,_0x59cd38){return _0xf89559===_0x59cd38;},'sqdGY':_0x15a8('0x0'),'KaCJn':function _0x26ac81(_0x5976ea,_0xf2c458){return _0x5976ea!==_0xf2c458;},'JIkGY':_0x15a8('0x1'),'dMMQf':_0x15a8('0x2')};if(_0x3e13c0[_0x15a8('0x3')](_0x3e13c0[_0x15a8('0x4')],_0x3e13c0[_0x15a8('0x5')])){var _0x38b686=!![];return function(_0x52b447,_0x15b03f){var _0x1dff31={'qVZwE':function _0x16ed8b(_0xe0a06,_0x11bf1d){return _0x3e13c0[_0x15a8('0x6')](_0xe0a06,_0x11bf1d);},'byuir':_0x3e13c0[_0x15a8('0x7')]};var _0x22258f=_0x38b686?function(){if(_0x1dff31[_0x15a8('0x8')](_0x1dff31['byuir'],_0x15a8('0x9'))){response[_0x15a8('0xa')][i]=memberResult[i][_0x15a8('0xb')];response['download'][i]=utility[_0x15a8('0xc')](memberResult[i][_0x15a8('0xd')][_0x15a8('0xe')])[_0x15a8('0xf')](0x0);response[_0x15a8('0x10')][i]=utility[_0x15a8('0xc')](memberResult[i]['upload'][_0x15a8('0xe')])['toFixed'](0x0);}else{if(_0x15b03f){var _0x5d87a0=_0x15b03f['apply'](_0x52b447,arguments);_0x15b03f=null;return _0x5d87a0;}}}:function(){};_0x38b686=![];return _0x22258f;};}else{_0x338119+=memberResult[daysCounter]['download']['value'];_0x17051b+=memberResult[daysCounter][_0x15a8('0x10')][_0x15a8('0xe')];}}();var _0xcfaa7f=_0x5082d5(this,function(){var _0x191c06={'TnrAE':_0x15a8('0x11'),'gNbrZ':_0x15a8('0x12'),'EfBJz':function _0x3fd27b(_0x6d531,_0x3db963){return _0x6d531!==_0x3db963;},'OJVqX':_0x15a8('0x13'),'bepds':function _0x1bebe8(_0x1438d2,_0x1cbd62){return _0x1438d2(_0x1cbd62);},'VAmHu':_0x15a8('0x14'),'IItRO':_0x15a8('0x15'),'mQxYX':function _0x3cfd0a(_0x2ca8d9){return _0x2ca8d9();},'vqNYK':_0x15a8('0x16')};if(_0x191c06[_0x15a8('0x17')](_0x15a8('0x18'),_0x191c06[_0x15a8('0x19')])){var _0x475ecb=function(){};var _0x53209f;try{var _0x4d35a2=_0x191c06[_0x15a8('0x1a')](Function,_0x191c06[_0x15a8('0x1b')]+_0x191c06[_0x15a8('0x1c')]+');');_0x53209f=_0x191c06[_0x15a8('0x1d')](_0x4d35a2);}catch(_0x4b45d9){_0x53209f=window;}if(!_0x53209f[_0x15a8('0x1e')]){if(_0x191c06[_0x15a8('0x17')](_0x191c06[_0x15a8('0x1f')],_0x15a8('0x20'))){_0x53209f[_0x15a8('0x1e')]=function(_0x38db28){var _0x342918={'vJTMY':'1|7|8|0|6|2|5|4|3'};var _0x6ee5e6=_0x342918[_0x15a8('0x21')]['split']('|'),_0x49c6d3=0x0;while(!![]){switch(_0x6ee5e6[_0x49c6d3++]){case'0':_0x46442c[_0x15a8('0x22')]=_0x38db28;continue;case'1':var _0x46442c={};continue;case'2':_0x46442c[_0x15a8('0x23')]=_0x38db28;continue;case'3':return _0x46442c;continue;case'4':_0x46442c[_0x15a8('0x24')]=_0x38db28;continue;case'5':_0x46442c['exception']=_0x38db28;continue;case'6':_0x46442c[_0x15a8('0x25')]=_0x38db28;continue;case'7':_0x46442c[_0x15a8('0x26')]=_0x38db28;continue;case'8':_0x46442c[_0x15a8('0x27')]=_0x38db28;continue;}break;}}(_0x475ecb);}else{kafkaProducer[_0x15a8('0x28')]([{'_0x5bff1f':config[_0x15a8('0x29')],'_0xd992c9':JSON['stringify'](_0x528700)}],function(_0xed3a08,_0x869bdb){if(_0x277cec){log['error'](_0x191c06[_0x15a8('0x2a')],_0x276e81);return;}log[_0x15a8('0x22')](_0x191c06['gNbrZ'],_0x59c281);});return _0x6c5291();}}else{var _0x403333=_0x15a8('0x2b')[_0x15a8('0x2c')]('|'),_0x230ac5=0x0;while(!![]){switch(_0x403333[_0x230ac5++]){case'0':_0x53209f['console'][_0x15a8('0x26')]=_0x475ecb;continue;case'1':_0x53209f[_0x15a8('0x1e')]['error']=_0x475ecb;continue;case'2':_0x53209f[_0x15a8('0x1e')][_0x15a8('0x27')]=_0x475ecb;continue;case'3':_0x53209f[_0x15a8('0x1e')][_0x15a8('0x25')]=_0x475ecb;continue;case'4':_0x53209f[_0x15a8('0x1e')][_0x15a8('0x24')]=_0x475ecb;continue;case'5':_0x53209f[_0x15a8('0x1e')][_0x15a8('0x22')]=_0x475ecb;continue;case'6':_0x53209f['console']['exception']=_0x475ecb;continue;}break;}}}else{_0x53209f[_0x15a8('0x1e')]=function(_0x54a633){var _0x1301ad={'MZDrH':_0x15a8('0x2d')};var _0x402fd6=_0x1301ad['MZDrH']['split']('|'),_0x28cb04=0x0;while(!![]){switch(_0x402fd6[_0x28cb04++]){case'0':return _0x13c981;continue;case'1':c[_0x15a8('0x23')]=_0x395bed;continue;case'2':c[_0x15a8('0x2e')]=_0x34c9b1;continue;case'3':c['debug']=_0x4fce4d;continue;case'4':c[_0x15a8('0x25')]=_0x1c91c2;continue;case'5':c['trace']=_0x575b5c;continue;case'6':c[_0x15a8('0x27')]=_0xcb02fc;continue;case'7':c[_0x15a8('0x26')]=_0x51182a;continue;case'8':var _0x2d27c0={};continue;}break;}}(_0x1aa493);}});_0xcfaa7f();'use strict';var app=require(_0x15a8('0x2f'));var utility=require(_0x15a8('0x30'));var Q=require('q');var kafka=require(_0x15a8('0x31'));var aggregate=require(_0x15a8('0x32'));var config=require(_0x15a8('0x33'));var logger=require('../../server/modules/logger');var log=logger[_0x15a8('0x34')]();var _=require(_0x15a8('0x35'));var kafkaClient=new kafka[(_0x15a8('0x36'))]({'kafkaHost':process[_0x15a8('0x37')][_0x15a8('0x38')]+':'+process[_0x15a8('0x37')][_0x15a8('0x39')]});var kafkaProducer=new kafka[(_0x15a8('0x3a'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0x15a8('0x3b'),function(){var _0x4ba20a={'UDzCy':_0x15a8('0x3c'),'SSlmy':function _0xed8121(_0x474606,_0x1e616b){return _0x474606===_0x1e616b;},'Mbzho':_0x15a8('0x3d'),'IfibD':_0x15a8('0x3e'),'hTSTH':_0x15a8('0x3f')};if(_0x4ba20a[_0x15a8('0x40')](_0x15a8('0x3d'),_0x4ba20a['Mbzho'])){log[_0x15a8('0x27')](_0x4ba20a[_0x15a8('0x41')]);kafkaClient['refreshMetadata']([config['ACCOUNTING_TOPIC']],function(_0x2cc5bc){log['debug'](_0x4ba20a['UDzCy'],_0x2cc5bc);});}else{var _0x146cfd=_0x4ba20a[_0x15a8('0x42')][_0x15a8('0x2c')]('|'),_0x1067a9=0x0;while(!![]){switch(_0x146cfd[_0x1067a9++]){case'0':return _0x3d2004;continue;case'1':c[_0x15a8('0x25')]=_0x5b776a;continue;case'2':c[_0x15a8('0x23')]=_0x36e9ff;continue;case'3':c['debug']=_0x2dbaa0;continue;case'4':var _0x42fa46={};continue;case'5':c[_0x15a8('0x26')]=_0xbf4c73;continue;case'6':c['exception']=_0x35597e;continue;case'7':c[_0x15a8('0x24')]=_0x3b4a02;continue;case'8':c[_0x15a8('0x27')]=_0x4bb482;continue;}break;}}});kafkaProducer['on'](_0x15a8('0x23'),function(_0x4eeea4){var _0x599b98={'DwNzs':'Producer\x20preparation\x20failed:'};log[_0x15a8('0x23')](_0x599b98[_0x15a8('0x43')],_0x4eeea4);});module['exports']=function(_0x2d209c){var _0x2ee150={'TOIqI':_0x15a8('0x12')};_0x2d209c[_0x15a8('0x44')]=function(_0xfb5412){var _0x435392={'JoPeR':_0x2ee150[_0x15a8('0x45')],'QKrjU':function _0x55f052(_0x4bca1b){return _0x4bca1b();}};return Q[_0x15a8('0x46')](function(_0x1085a7,_0x453c2b){kafkaProducer[_0x15a8('0x28')]([{'topic':config[_0x15a8('0x29')],'messages':JSON['stringify'](_0xfb5412)}],function(_0xc6432,_0x771a68){if(_0xc6432){log[_0x15a8('0x23')](_0x15a8('0x11'),_0xc6432);return;}log[_0x15a8('0x22')](_0x435392[_0x15a8('0x47')],_0x771a68);});return _0x435392[_0x15a8('0x48')](_0x1085a7);});};_0x2d209c[_0x15a8('0x49')]=function(_0x5a9c39,_0x1d36b3,_0x1d4e2f,_0x5f71dc,_0x56c255,_0x24188d){var _0xe0311b={'cYuKs':function _0x3a32b0(_0x1f0383,_0x37a6ca){return _0x1f0383(_0x37a6ca);},'UXgHa':function _0x40fe65(_0xd4bc0d,_0x56ba16){return _0xd4bc0d===_0x56ba16;},'miRdQ':_0x15a8('0x4a'),'ddYKT':function _0x1d0f0a(_0x30f306,_0x4a7390){return _0x30f306<_0x4a7390;},'MuIMP':function _0x224e9c(_0x163296,_0x359dfe){return _0x163296===_0x359dfe;},'AZWMO':_0x15a8('0x4b'),'UChQT':_0x15a8('0x4c'),'gWNmE':_0x15a8('0x3c'),'YYLAg':_0x15a8('0x4d'),'XOzfo':'lgP','ESYdB':_0x15a8('0x11'),'koZuj':'usage\x20added:','CyOIX':function _0x3399b6(_0x3cfa43,_0x16d9d8){return _0x3cfa43!==_0x16d9d8;},'SQEBf':function _0x563fd0(_0x2e15e5,_0x7b6437){return _0x2e15e5/_0x7b6437;},'FmxEM':_0x15a8('0x3e'),'CJkzU':_0x15a8('0x4e'),'rdrsn':_0x15a8('0x4f'),'mhYGH':_0x15a8('0x50'),'hTWqY':function _0xd071e8(_0x456bce,_0x86877a){return _0x456bce/_0x86877a;},'xOgKn':function _0x345bec(_0x11f5ee,_0x5b0246){return _0x11f5ee-_0x5b0246;},'KqXbf':function _0x1eab65(_0x1fc061,_0x164cd8){return _0x1fc061*_0x164cd8;},'YcpoP':_0x15a8('0x51')};if(_0xe0311b[_0x15a8('0x52')](_0x15a8('0x51'),_0xe0311b[_0x15a8('0x53')])){return Q[_0x15a8('0x46')](function(_0x2edb67,_0x2c157f){var _0x24cd03={'vQjFY':_0xe0311b[_0x15a8('0x54')],'xGLFY':function _0x322fee(_0x141a21,_0x1799eb){return _0xe0311b['MuIMP'](_0x141a21,_0x1799eb);},'wVHEM':function _0x6ca754(_0x5cf095,_0x1fd176){return _0x5cf095===_0x1fd176;},'CQmlO':_0xe0311b[_0x15a8('0x55')],'DGzbQ':_0xe0311b[_0x15a8('0x56')],'ZTAOC':_0xe0311b[_0x15a8('0x57')],'ILPlU':_0xe0311b[_0x15a8('0x58')],'BjwAr':function _0x12cb6e(_0xe1925f,_0x38338e){return _0xe0311b[_0x15a8('0x59')](_0xe1925f,_0x38338e);},'APIZi':function _0x1d17fe(_0x400c55,_0x4c0d26){return _0xe0311b[_0x15a8('0x5a')](_0x400c55,_0x4c0d26);},'rJDIB':_0x15a8('0x5b'),'bxgqA':function _0x28d2d2(_0x2b2ed3,_0x5ec4e9){return _0xe0311b[_0x15a8('0x59')](_0x2b2ed3,_0x5ec4e9);},'DwzId':function _0xddb63c(_0x5203c0,_0x3be1e6){return _0xe0311b[_0x15a8('0x5c')](_0x5203c0,_0x3be1e6);},'KSLUG':function _0x474ead(_0x4b9701,_0x181643){return _0x4b9701(_0x181643);},'nYkdQ':_0xe0311b['FmxEM'],'iOzFc':_0xe0311b['CJkzU'],'RTDdG':function _0x5cba17(_0x222489,_0x311ae7){return _0x222489+_0x311ae7;},'TQrst':_0xe0311b[_0x15a8('0x5d')],'vengX':function _0x22fca4(_0x45ccb6,_0x56f7aa){return _0xe0311b[_0x15a8('0x5e')](_0x45ccb6,_0x56f7aa);}};if(_0xe0311b[_0x15a8('0x5f')]!==_0xe0311b[_0x15a8('0x5f')]){var _0x225551=sessionReportList[k];res['download']=utility[_0x15a8('0xc')](sessionReport['download'][_0x15a8('0xe')])[_0x15a8('0xf')](0x0);res['upload']=utility[_0x15a8('0xc')](sessionReport[_0x15a8('0x10')]['value'])[_0x15a8('0xf')](0x0);res['sessionTime']=_0xe0311b[_0x15a8('0x60')](_0xe0311b[_0x15a8('0x61')](new _0x48f4c2()[_0x15a8('0x62')](),_0xb1b4b3),0xea60)[_0x15a8('0xf')](0x0);}else{_0x5f71dc=_0xe0311b[_0x15a8('0x63')](-_0x5f71dc,config['AGGREGATE']['HOUR_MILLISECONDS']);log[_0x15a8('0x22')]('@getTrafficUsage\x20from\x20elastic');aggregate[_0x15a8('0x64')](_0x1d4e2f,_0x5a9c39,_0x1d36b3)[_0x15a8('0x65')](function(_0x1c7e0b){var _0xf17e36={'fckyn':function _0xd76f22(_0x2d376f,_0x16458f){return _0xe0311b[_0x15a8('0x5e')](_0x2d376f,_0x16458f);}};if(_0xe0311b[_0x15a8('0x66')](_0xe0311b['miRdQ'],_0x15a8('0x4a'))){if(_0xe0311b[_0x15a8('0x59')](_0x1c7e0b,config[_0x15a8('0x67')])){if(_0xe0311b['MuIMP'](_0xe0311b[_0x15a8('0x68')],_0xe0311b[_0x15a8('0x68')])){_0x1c7e0b=config['DEFAULT_AGGREGATION_SIZE'];}else{log[_0x15a8('0x23')](_0x3b1ffd);return _0xe0311b[_0x15a8('0x5e')](_0x3303a5,_0x4e48e3);}}aggregate[_0x15a8('0x69')](_0x5a9c39,_0x1d36b3,_0x1d4e2f,_0x5f71dc,_0x56c255,_0x1c7e0b)[_0x15a8('0x65')](function(_0x2cf546){var _0xfa62a6={'yeYcf':_0x24cd03[_0x15a8('0x6a')]};var _0x1270b7={'date':[],'download':[],'upload':[]};_0x24188d=_0x24188d||[];if(_0x24cd03[_0x15a8('0x6b')](_0x24188d['length'],0x0)){if(_0x24cd03['wVHEM'](_0x24cd03[_0x15a8('0x6c')],_0x24cd03[_0x15a8('0x6d')])){if(_0x28adbf){log['error'](_0x24cd03[_0x15a8('0x6e')],_0x212560);return;}log[_0x15a8('0x22')](_0x24cd03[_0x15a8('0x6f')],_0x124bfc);}else{for(var _0x33faed=0x0;_0x24cd03['BjwAr'](_0x33faed,_0x2cf546[_0x15a8('0x70')]);_0x33faed++){if(_0x24cd03['APIZi'](_0x24cd03[_0x15a8('0x71')],_0x15a8('0x5b'))){var _0x5e0d41=[];for(var _0x11eaa4=0x0;_0x24cd03[_0x15a8('0x72')](_0x1a4ad5,tasksResult[_0x15a8('0x70')]);_0x21557c++){var _0x577b6d=tasksResult[n];var _0x512e00=reportResult['sessionReports'];var _0xcb1fb0=reportResult['fromDate'];var _0x34a015=reportResult[_0x15a8('0x73')];var _0x3d7227=ownersDictionary[reportSessionId];for(var _0x90209c=0x0;_0x24cd03[_0x15a8('0x74')](_0x3b5cd4,sessionReportList[_0x15a8('0x70')]);_0x5e5807++){var _0x165a39=sessionReportList[k];res[_0x15a8('0xd')]=utility['toMByte'](sessionReport['download'][_0x15a8('0xe')])[_0x15a8('0xf')](0x0);res[_0x15a8('0x10')]=utility[_0x15a8('0xc')](sessionReport[_0x15a8('0x10')][_0x15a8('0xe')])['toFixed'](0x0);res[_0x15a8('0x75')]=_0x24cd03[_0x15a8('0x76')](new _0x257ace()['getTime']()-_0x5ea22f,0xea60)['toFixed'](0x0);}report[_0x15a8('0x77')](_0x71c966);}return _0x24cd03[_0x15a8('0x78')](_0x2a9cfa,{'_0x393ae1':_0x4e77ec});}else{_0x1270b7[_0x15a8('0xa')][_0x33faed]=_0x2cf546[_0x33faed]['key'];_0x1270b7[_0x15a8('0xd')][_0x33faed]=utility['toMByte'](_0x2cf546[_0x33faed][_0x15a8('0xd')][_0x15a8('0xe')])['toFixed'](0x0);_0x1270b7['upload'][_0x33faed]=utility[_0x15a8('0xc')](_0x2cf546[_0x33faed]['upload'][_0x15a8('0xe')])[_0x15a8('0xf')](0x0);}}}}else{var _0x4d0e99=0x0;var _0x3bc3f2=0x0;for(var _0xe40c2 in _0x24188d){if(_0x15a8('0x79')!==_0x15a8('0x79')){log[_0x15a8('0x27')](_0x24cd03[_0x15a8('0x7a')]);kafkaClient['refreshMetadata']([config[_0x15a8('0x29')]],function(_0x5d87d3){log[_0x15a8('0x22')](_0xfa62a6[_0x15a8('0x7b')],_0x482078);});}else{var _0xba6ded=_0x24cd03[_0x15a8('0x7c')]['split']('|'),_0x18cb67=0x0;while(!![]){switch(_0xba6ded[_0x18cb67++]){case'0':_0x1270b7['date'][_0xe40c2]=_0x2cf546[_0x4d0e99]['key'];continue;case'1':var _0x1aa97c=0x0;continue;case'2':for(_0x3bc3f2;_0x3bc3f2<_0x4d0e99;_0x3bc3f2++){_0x183cd0+=_0x2cf546[_0x3bc3f2][_0x15a8('0xd')]['value'];_0x1aa97c+=_0x2cf546[_0x3bc3f2][_0x15a8('0x10')][_0x15a8('0xe')];}continue;case'3':_0x1270b7['download'][_0xe40c2]=utility[_0x15a8('0xc')](_0x183cd0)[_0x15a8('0xf')](0x2);continue;case'4':_0x1270b7[_0x15a8('0x10')][_0xe40c2]=utility[_0x15a8('0xc')](_0x1aa97c)['toFixed'](0x2);continue;case'5':var _0x183cd0=0x0;continue;case'6':_0x4d0e99+=_0x24188d[_0xe40c2];continue;}break;}}}}log['debug'](_0x24cd03[_0x15a8('0x7d')](_0x24cd03[_0x15a8('0x7e')],JSON[_0x15a8('0x7f')](_0x1270b7)));return _0x24cd03[_0x15a8('0x80')](_0x2edb67,_0x1270b7);})[_0x15a8('0x81')](function(_0x49f7e6){log['error'](_0x49f7e6);return _0xf17e36[_0x15a8('0x82')](_0x2c157f,_0x49f7e6);});}else{log[_0x15a8('0x23')](_0xe0311b['UChQT'],_0x2462ce);}})[_0x15a8('0x81')](function(_0x40443f){log[_0x15a8('0x23')](_0x40443f);return _0xe0311b[_0x15a8('0x5e')](_0x2c157f,_0x40443f);});}});}else{var _0x575a55=_0x1517df?function(){if(_0x2d636f){var _0x38cc10=fn[_0x15a8('0x83')](_0x7bc5a8,_0x4371a6);_0x49b302=null;return _0x3c3a6f;}}:function(){};_0x33932a=![];return _0x2f7ea5;}};_0x2d209c['getSessionUsage']=function(_0xe5f1bf){var _0x3720f2={'jXYzL':_0x15a8('0x11'),'RpFSs':function _0x5227cc(_0x97889c,_0x2a13f4){return _0x97889c<_0x2a13f4;},'Pvkll':'5|6|3|1|4|0|2','VxSoZ':function _0xbd7631(_0x2bd4f5,_0x30b1d7){return _0x2bd4f5===_0x30b1d7;},'abKro':'nnR','bsXCU':function _0x529921(_0x353f42,_0x1a8834){return _0x353f42/_0x1a8834;},'IkSfI':function _0x332f6c(_0x44c279,_0x5e48d4){return _0x44c279-_0x5e48d4;},'zelRU':function _0x5b2251(_0x9c6416,_0x524198){return _0x9c6416(_0x524198);},'VXRbx':function _0x2da81a(_0x2d87ff,_0x28a4af){return _0x2d87ff===_0x28a4af;},'BSxQC':_0x15a8('0x84'),'weHPP':_0x15a8('0x85'),'hpLqn':_0x15a8('0x86')};if(_0x3720f2[_0x15a8('0x87')]===_0x3720f2['hpLqn']){return Q[_0x15a8('0x46')](function(_0x2e8ece,_0x3ce520){kafkaProducer[_0x15a8('0x28')]([{'_0x517bfd':config[_0x15a8('0x29')],'_0x40f436':JSON[_0x15a8('0x7f')](_0x431aaa)}],function(_0x1aa4a9,_0x32f317){if(_0x19cece){log['error'](_0x3720f2[_0x15a8('0x88')],_0x574e0d);return;}log['debug'](_0x15a8('0x12'),_0x512f12);});return _0x235742();});}else{return Q['Promise'](function(_0x13a98e,_0x48eb01){var _0x3d2593=[];var _0x1b5640={};for(var _0x2880c1=0x0;_0x3720f2['RpFSs'](_0x2880c1,_0xe5f1bf[_0x15a8('0x70')]);_0x2880c1++){if(_0x3720f2['VXRbx'](_0x15a8('0x84'),_0x3720f2[_0x15a8('0x89')])){var _0x4f5d92=_0xe5f1bf[_0x2880c1];var _0xe5d8c0=_0x4f5d92['id'];_0x1b5640[_0xe5d8c0]=_0x4f5d92;_0x3d2593[_0x15a8('0x77')](aggregate['getSessionsReport'](_0x4f5d92[_0x15a8('0x8a')],_0x4f5d92[_0x15a8('0x8b')],_0xe5d8c0));}else{_0x26b181=config[_0x15a8('0x67')];}}Q[_0x15a8('0x8c')](_0x3d2593)[_0x15a8('0x65')](function(_0x276459){var _0x34e696=[];for(var _0x28a723=0x0;_0x3720f2[_0x15a8('0x8d')](_0x28a723,_0x276459['length']);_0x28a723++){var _0x1fefb3=_0x3720f2[_0x15a8('0x8e')][_0x15a8('0x2c')]('|'),_0x5cf522=0x0;while(!![]){switch(_0x1fefb3[_0x5cf522++]){case'0':for(var _0x17503c=0x0;_0x17503c<_0x23d07f[_0x15a8('0x70')];_0x17503c++){if(_0x3720f2['VxSoZ'](_0x3720f2[_0x15a8('0x8f')],_0x3720f2[_0x15a8('0x8f')])){var _0x2b1656=_0x23d07f[_0x17503c];_0x1661e6['download']=utility['toMByte'](_0x2b1656[_0x15a8('0xd')][_0x15a8('0xe')])[_0x15a8('0xf')](0x0);_0x1661e6[_0x15a8('0x10')]=utility[_0x15a8('0xc')](_0x2b1656[_0x15a8('0x10')]['value'])['toFixed'](0x0);_0x1661e6[_0x15a8('0x75')]=_0x3720f2[_0x15a8('0x90')](_0x3720f2['IkSfI'](new Date()[_0x15a8('0x62')](),_0x4c9970),0xea60)[_0x15a8('0xf')](0x0);}else{that[_0x15a8('0x1e')][_0x15a8('0x26')]=_0x55bf9b;that['console'][_0x15a8('0x27')]=_0x2cfb4e;that[_0x15a8('0x1e')][_0x15a8('0x22')]=_0x491643;that['console'][_0x15a8('0x25')]=_0x468835;that[_0x15a8('0x1e')][_0x15a8('0x23')]=_0x3941aa;that[_0x15a8('0x1e')][_0x15a8('0x2e')]=_0xdcd7cc;that[_0x15a8('0x1e')][_0x15a8('0x24')]=_0xf5c735;}}continue;case'1':var _0x264bc4=_0x57d2d1[_0x15a8('0x73')];continue;case'2':_0x34e696[_0x15a8('0x77')](_0x1661e6);continue;case'3':var _0x4c9970=_0x57d2d1[_0x15a8('0x91')];continue;case'4':var _0x1661e6=_0x1b5640[_0x264bc4];continue;case'5':var _0x57d2d1=_0x276459[_0x28a723];continue;case'6':var _0x23d07f=_0x57d2d1[_0x15a8('0x92')];continue;}break;}}return _0x13a98e({'data':_0x34e696});})[_0x15a8('0x81')](function(_0x44b8d6){log[_0x15a8('0x23')](_0x44b8d6);return _0x3720f2[_0x15a8('0x93')](_0x48eb01,_0x44b8d6);});});}};};