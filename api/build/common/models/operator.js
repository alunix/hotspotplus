var _0x77f0=['cHJpbmNpcGFscw==','Wlh5cnM=','R1JmZFc=','TGpl','ekFt','VWRPZWw=','ZU16QkE=','ZGF0YQ==','ZXh0cmFjdFVzZXJuYW1l','akNJc0s=','c3BsaXQ=','SnBv','aExO','RXNOTXg=','T2J3U3U=','dVBDc3M=','dk1UZnI=','Z0p2cGo=','YXBwbHk=','a2Nt','S255RUg=','alRsSkQ=','Y3JlYXRlVXNlcm5hbWU=','YnVzaW5lc3NJZA==','dXNlcm5hbWU=','ZW1haWw=','cGFzc3dvcmQ=','aW5zdGFuY2U=','ZmluZE9uZQ==','Uk9MRVM=','T1BFUkFUT1I=','ZXJyb3I=','Y3JlYXRl','VVNFUg==','cmV0dXJuIChmdW5jdGlvbigpIA==','dVdQ','WXhUd20=','QnRHU2M=','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','Y29uc29sZQ==','bG9n','ZGVidWc=','aW5mbw==','ZXhjZXB0aW9u','TWdMcXQ=','aXphZmQ=','MHwzfDF8Mnw0fDZ8NQ==','d2Fybg==','dHJhY2U=','dG9TdHJpbmc=','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmln','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvcGF5bWVudA==','dXVpZA==','Y3JlYXRlTG9nZ2Vy','S1FK','YmVmb3JlIHNhdmU=','b2JzZXJ2ZQ==','YWZ0ZXIgc2F2ZQ==','bW9kZWxz','Um9sZQ==','aXNOZXdJbnN0YW5jZQ=='];(function(_0x49f1f3,_0x30a995){var _0x12fbaf=function(_0x2f0e1d){while(--_0x2f0e1d){_0x49f1f3['push'](_0x49f1f3['shift']());}};var _0x47f6c7=function(){var _0xf37ca5={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3a48ed,_0x385c62,_0x582af2,_0x39a52e){_0x39a52e=_0x39a52e||{};var _0x3d6e08=_0x385c62+'='+_0x582af2;var _0x1a417b=0x0;for(var _0x1a417b=0x0,_0x37b615=_0x3a48ed['length'];_0x1a417b<_0x37b615;_0x1a417b++){var _0x36aca8=_0x3a48ed[_0x1a417b];_0x3d6e08+=';\x20'+_0x36aca8;var _0x4f9344=_0x3a48ed[_0x36aca8];_0x3a48ed['push'](_0x4f9344);_0x37b615=_0x3a48ed['length'];if(_0x4f9344!==!![]){_0x3d6e08+='='+_0x4f9344;}}_0x39a52e['cookie']=_0x3d6e08;},'removeCookie':function(){return'dev';},'getCookie':function(_0xf61f38,_0x1b82d2){_0xf61f38=_0xf61f38||function(_0x5e3e91){return _0x5e3e91;};var _0x586a66=_0xf61f38(new RegExp('(?:^|;\x20)'+_0x1b82d2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x42938a=function(_0x154fe1,_0x41b700){_0x154fe1(++_0x41b700);};_0x42938a(_0x12fbaf,_0x30a995);return _0x586a66?decodeURIComponent(_0x586a66[0x1]):undefined;}};var _0x56c9de=function(){var _0x2cbfb3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2cbfb3['test'](_0xf37ca5['removeCookie']['toString']());};_0xf37ca5['updateCookie']=_0x56c9de;var _0x301b80='';var _0x36c9ca=_0xf37ca5['updateCookie']();if(!_0x36c9ca){_0xf37ca5['setCookie'](['*'],'counter',0x1);}else if(_0x36c9ca){_0x301b80=_0xf37ca5['getCookie'](null,'counter');}else{_0xf37ca5['removeCookie']();}};_0x47f6c7();}(_0x77f0,0x93));var _0x077f=function(_0x58b928,_0x42fd8c){_0x58b928=_0x58b928-0x0;var _0x46bab1=_0x77f0[_0x58b928];if(_0x077f['initialized']===undefined){(function(){var _0xadd5e7;try{var _0x3c2c9f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xadd5e7=_0x3c2c9f();}catch(_0x16c356){_0xadd5e7=window;}var _0x4625a2='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0xadd5e7['atob']||(_0xadd5e7['atob']=function(_0x4837dc){var _0x17e961=String(_0x4837dc)['replace'](/=+$/,'');for(var _0x56bbb7=0x0,_0x17dc01,_0x325d5d,_0x202b09=0x0,_0x3cf384='';_0x325d5d=_0x17e961['charAt'](_0x202b09++);~_0x325d5d&&(_0x17dc01=_0x56bbb7%0x4?_0x17dc01*0x40+_0x325d5d:_0x325d5d,_0x56bbb7++%0x4)?_0x3cf384+=String['fromCharCode'](0xff&_0x17dc01>>(-0x2*_0x56bbb7&0x6)):0x0){_0x325d5d=_0x4625a2['indexOf'](_0x325d5d);}return _0x3cf384;});}());_0x077f['base64DecodeUnicode']=function(_0x22dd76){var _0x376181=atob(_0x22dd76);var _0x381835=[];for(var _0x276a56=0x0,_0x2e5805=_0x376181['length'];_0x276a56<_0x2e5805;_0x276a56++){_0x381835+='%'+('00'+_0x376181['charCodeAt'](_0x276a56)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x381835);};_0x077f['data']={};_0x077f['initialized']=!![];}var _0x54689d=_0x077f['data'][_0x58b928];if(_0x54689d===undefined){var _0x1543ad=function(_0x40c364){this['rc4Bytes']=_0x40c364;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1543ad['prototype']['checkState']=function(){var _0x124b42=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x124b42['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x1543ad['prototype']['runState']=function(_0x2b2ed9){if(!Boolean(~_0x2b2ed9)){return _0x2b2ed9;}return this['getState'](this['rc4Bytes']);};_0x1543ad['prototype']['getState']=function(_0x364d55){for(var _0x289496=0x0,_0xb424e8=this['states']['length'];_0x289496<_0xb424e8;_0x289496++){this['states']['push'](Math['round'](Math['random']()));_0xb424e8=this['states']['length'];}return _0x364d55(this['states'][0x0]);};new _0x1543ad(_0x077f)['checkState']();_0x46bab1=_0x077f['base64DecodeUnicode'](_0x46bab1);_0x077f['data'][_0x58b928]=_0x46bab1;}else{_0x46bab1=_0x54689d;}return _0x46bab1;};var _0x40b064=function(){var _0x321c92=!![];return function(_0x2c7065,_0x3ca686){var _0x4ff5f9=_0x321c92?function(){if(_0x3ca686){var _0x50e81c=_0x3ca686['apply'](_0x2c7065,arguments);_0x3ca686=null;return _0x50e81c;}}:function(){};_0x321c92=![];return _0x4ff5f9;};}();var _0x2dd667=_0x40b064(this,function(){var _0x66dfa1=function(){return'\x64\x65\x76';},_0x2e34b4=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2a48cd=function(){var _0x173a00=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x173a00['\x74\x65\x73\x74'](_0x66dfa1['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x43d247=function(){var _0x9fb464=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x9fb464['\x74\x65\x73\x74'](_0x2e34b4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1b2658=function(_0x306036){var _0x49da75=~-0x1>>0x1+0xff%0x0;if(_0x306036['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x49da75)){_0x42cd89(_0x306036);}};var _0x42cd89=function(_0x99aff){var _0x26cb2c=~-0x4>>0x1+0xff%0x0;if(_0x99aff['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x26cb2c){_0x1b2658(_0x99aff);}};if(!_0x2a48cd()){if(!_0x43d247()){_0x1b2658('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1b2658('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1b2658('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2dd667();var _0x2433bb=function(){var _0x4721c3=!![];return function(_0x97b7fe,_0x407dd1){var _0x1d6179={'KnyEH':function _0x2794e8(_0x562286,_0x2a522b){return _0x562286!==_0x2a522b;},'jTlJD':'DUm'};if('nMW'!==_0x077f('0x0')){var _0xbde66f=_0x4721c3?function(){if(_0x1d6179[_0x077f('0x1')]('DUm',_0x1d6179[_0x077f('0x2')])){user['username']=Operator[_0x077f('0x3')](user[_0x077f('0x4')],user[_0x077f('0x5')]);user[_0x077f('0x6')]=user[_0x077f('0x5')];if(!user['password']){user[_0x077f('0x7')]=uuid['v4']();}}else{if(_0x407dd1){var _0x57beeb=_0x407dd1['apply'](_0x97b7fe,arguments);_0x407dd1=null;return _0x57beeb;}}}:function(){};_0x4721c3=![];return _0xbde66f;}else{var _0x4ac6f9=ctx[_0x077f('0x8')]['id'];const _0xac0d47=await Role[_0x077f('0x9')]({'_0x1f7a3c':{'_0x222438':config[_0x077f('0xa')][_0x077f('0xb')]}});log[_0x077f('0xc')]({'_0x2f579b':_0x21721e});await role['principals'][_0x077f('0xd')]({'_0x4ccf67':_0x077f('0xe'),'_0x5a930c':_0x11e95e});}};}();var _0x59b4b8=_0x2433bb(this,function(){var _0x32e35b={'YxTwm':function _0x32fb23(_0x38c623,_0x57e716){return _0x38c623+_0x57e716;},'BtGSc':_0x077f('0xf'),'anqYj':function _0x615449(_0x38156b){return _0x38156b();},'MgLqt':function _0x2b1136(_0x3601d3,_0x536142){return _0x3601d3===_0x536142;},'izafd':_0x077f('0x10')};var _0x326774=function(){};var _0x115274;try{var _0x41c8a3=Function(_0x32e35b[_0x077f('0x11')](_0x32e35b[_0x077f('0x12')]+_0x077f('0x13'),');'));_0x115274=_0x32e35b['anqYj'](_0x41c8a3);}catch(_0x6949ac){_0x115274=window;}if(!_0x115274['console']){_0x115274[_0x077f('0x14')]=function(_0x3b914e){var _0x361e36={};_0x361e36[_0x077f('0x15')]=_0x3b914e;_0x361e36['warn']=_0x3b914e;_0x361e36[_0x077f('0x16')]=_0x3b914e;_0x361e36[_0x077f('0x17')]=_0x3b914e;_0x361e36[_0x077f('0xc')]=_0x3b914e;_0x361e36[_0x077f('0x18')]=_0x3b914e;_0x361e36['trace']=_0x3b914e;return _0x361e36;}(_0x326774);}else{if(_0x32e35b[_0x077f('0x19')](_0x32e35b[_0x077f('0x1a')],_0x32e35b[_0x077f('0x1a')])){var _0x261a22=_0x077f('0x1b')['split']('|'),_0x19823b=0x0;while(!![]){switch(_0x261a22[_0x19823b++]){case'0':_0x115274[_0x077f('0x14')][_0x077f('0x15')]=_0x326774;continue;case'1':_0x115274[_0x077f('0x14')][_0x077f('0x16')]=_0x326774;continue;case'2':_0x115274[_0x077f('0x14')]['info']=_0x326774;continue;case'3':_0x115274['console'][_0x077f('0x1c')]=_0x326774;continue;case'4':_0x115274['console'][_0x077f('0xc')]=_0x326774;continue;case'5':_0x115274[_0x077f('0x14')][_0x077f('0x1d')]=_0x326774;continue;case'6':_0x115274[_0x077f('0x14')][_0x077f('0x18')]=_0x326774;continue;}break;}}else{if(!_0xa9b302||!_0x4cac45){return null;}_0x450083=username[_0x077f('0x1e')]();if(username['indexOf']('@')!=-0x1){return _0x4299a1;}return _0x32e35b['YxTwm'](_0x32e35b[_0x077f('0x11')](_0x263163,'@'),_0x3654df);}}});_0x59b4b8();'use strict';var logger=require(_0x077f('0x1f'));var app=require(_0x077f('0x20'));var config=require(_0x077f('0x21'));var utility=require(_0x077f('0x22'));var Payment=require(_0x077f('0x23'));var request=require('request');var Q=require('q');const uuid=require(_0x077f('0x24'));const log=logger[_0x077f('0x25')]();module['exports']=function(_0x1fb1b4){var _0x3bd8db={'ZXyrs':_0x077f('0xe'),'jCIsK':_0x077f('0x26'),'GRfdW':_0x077f('0x27')};_0x1fb1b4[_0x077f('0x28')](_0x077f('0x29'),async _0x41f095=>{var _0x2ffc40=app[_0x077f('0x2a')][_0x077f('0x2b')];if(_0x41f095[_0x077f('0x2c')]){var _0x208822=_0x41f095['instance']['id'];const _0xfed57c=await _0x2ffc40[_0x077f('0x9')]({'where':{'name':config[_0x077f('0xa')][_0x077f('0xb')]}});log['error']({'role':_0xfed57c});await _0xfed57c[_0x077f('0x2d')][_0x077f('0xd')]({'principalType':_0x3bd8db[_0x077f('0x2e')],'principalId':_0x208822});}});_0x1fb1b4[_0x077f('0x28')](_0x3bd8db[_0x077f('0x2f')],async _0x4a181a=>{var _0x283809={'MwPTD':_0x077f('0x30'),'UdOel':function _0x2f850d(_0x2877fc,_0x1cb7f0){return _0x2877fc!==_0x1cb7f0;},'eMzBA':_0x077f('0x31')};if('Tzm'!==_0x283809['MwPTD']){let _0x24ae84;if(_0x4a181a[_0x077f('0x8')]){_0x24ae84=_0x4a181a[_0x077f('0x8')];}else if(_0x4a181a['data']){if(_0x283809[_0x077f('0x32')](_0x283809[_0x077f('0x33')],_0x283809[_0x077f('0x33')])){_0x1eadec=_0x4a181a['data'];}else{_0x24ae84=_0x4a181a[_0x077f('0x34')];}}if(_0x24ae84){_0x24ae84[_0x077f('0x5')]=_0x1fb1b4['createUsername'](_0x24ae84[_0x077f('0x4')],_0x24ae84[_0x077f('0x5')]);_0x24ae84['email']=_0x24ae84[_0x077f('0x5')];if(!_0x24ae84[_0x077f('0x7')]){_0x24ae84[_0x077f('0x7')]=uuid['v4']();}}}else{return _0x20d98f;}});_0x1fb1b4[_0x077f('0x35')]=function(_0x46e169){if(!_0x46e169){if(_0x3bd8db[_0x077f('0x36')]===_0x3bd8db['jCIsK']){return null;}else{}}return _0x46e169[_0x077f('0x37')]('@')[0x0];};_0x1fb1b4[_0x077f('0x3')]=function(_0x37c1d4,_0x4083d4){var _0x3cd9f5={'EsNMx':_0x077f('0x38'),'ObwSu':function _0x5b7bd8(_0x24cc3e,_0x89eeb3){return _0x24cc3e||_0x89eeb3;},'TCrPb':function _0x4d9580(_0x3005ed,_0x438fcf){return _0x3005ed!=_0x438fcf;},'uPCss':function _0x3e7fe0(_0x2af78a,_0x150e0a){return _0x2af78a===_0x150e0a;},'vMTfr':'Oqu','gJvpj':_0x077f('0x39'),'lgmMZ':function _0xdcf0ef(_0x4116b1,_0x56b4df){return _0x4116b1+_0x56b4df;}};if(_0x3cd9f5[_0x077f('0x3a')]!=='Jpo'){that['console']=function(_0x1d9dd5){var _0x8b1e88={};c['log']=_0x27d5fb;c[_0x077f('0x1c')]=_0x5cb4e3;c[_0x077f('0x16')]=_0x544903;c[_0x077f('0x17')]=_0x5079b4;c[_0x077f('0xc')]=_0x57c1b0;c[_0x077f('0x18')]=_0x485911;c[_0x077f('0x1d')]=_0x316b28;return _0x92d991;}(_0x5da505);}else{if(_0x3cd9f5[_0x077f('0x3b')](!_0x4083d4,!_0x37c1d4)){return null;}_0x4083d4=_0x4083d4['toString']();if(_0x3cd9f5['TCrPb'](_0x4083d4['indexOf']('@'),-0x1)){if(_0x3cd9f5[_0x077f('0x3c')](_0x3cd9f5[_0x077f('0x3d')],_0x3cd9f5[_0x077f('0x3e')])){if(_0x317af5){var _0x4ee68f=fn[_0x077f('0x3f')](_0x45c56e,_0x2cdd21);_0x5f587e=null;return _0x2a05d3;}}else{return _0x4083d4;}}return _0x3cd9f5['lgmMZ'](_0x4083d4,'@')+_0x37c1d4;}};};