var _0x6c43=['Tmtj','Nnw0fDN8MHw1fDJ8MQ==','YlhBcWo=','TUJmbEQ=','bXhSVm8=','bXZESGw=','eWZWdGI=','dHNGREE=','RUZRZm8=','c3VMQVQ=','cHp5clI=','Z2V0VGltZQ==','Ukh2WkI=','aEVnQUU=','Z2ZkVnM=','Z2V0TmFzQ3JlZGVudGlhbA==','UFJJTUFSWV9TSEFSRURfU0VDUkVU','Z2V0SXBTZXNzaW9u','bmFzIGJ5IGlwIG5vdCBmb3VuZA==','dkJK','Skt4VGM=','emtDUWk=','c1B4SnA=','RnhOVnA=','cGNvYWE=','anBaQXk=','bWxNd1Y=','VHNkU3c=','cE5vRUM=','ZklGTmM=','SmFjYmE=','RWRYRGM=','UXRlYno=','SlloYkE=','c2V0SXBTZXNzaW9u','Q3FDQk0=','NHwzfDd8MXw1fDJ8OHw2fDA=','IG5hc0lkOiA=','IGlwOiA=','SFht','empN','TnBUeGI=','MHw1fDR8M3wyfDZ8MQ==','WElC','YnVzaW5lc3Mgbm90IGZvdW5kLCBpcyBlbXB0eQ==','cmRn','c2V0IHJlbW90ZSBpcCBhcyBuYXMgaXA=','QVRNdU8=','cktsd3c=','bWN2','YnVzaW5lc3Mgbm90IGZvdW5k','WWR0bUs=','S3loZ0U=','eGtJS3U=','RVJa','WFhXWVA=','ZnZTaVE=','eWJxdUk=','TXN1T3U=','c25xckI=','YXVkQ2c=','ZFB6YVY=','RUdndXc=','ZmFpbGVkIHRvIGxvYWQgbmFzOiA=','ZmFpbGVkIHRvIGxvYWYgbmFz','U0VSVklDRVM=','cGFja2FnZXM=','YWRk','c2VydmljZXM=','ZXhwaXJlc0F0','bW9kdWxlcw==','c3RyaW5naWZ5','c2V0','TkFTX1NFU1NJT05fRVhQSVJFU19BVA==','bVFna04=','Z0tOTHI=','RmdvZGg=','dXBkYXRlQXR0cmlidXRlcw==','YUxPQm8=','ZVNucnA=','RUhNVUs=','VVJzb3k=','dmFsaWRhdGVOYXNJcFNyY1BhY2tldA==','T25NdHk=','ZlREelI=','cmF1emM=','QkVOdHU=','SUtQV0g=','eXlxUks=','eHp4eFk=','cmVtb3RlSXA=','alBNVXI=','U3ROWnM=','VVRNWmE=','aUhxY0g=','R3ZEY3E=','VWFxaVo=','Umpwano=','S2hrcnY=','TmdLc0Q=','c1J2bkk=','T1FvSmo=','bGd2Zlo=','WlZSQU0=','YXBwbHk=','aWpj','Z05L','cmV0dXJuIChmdW5jdGlvbigpIA==','Q3JF','d1VV','S2ZnSFQ=','ZXJyb3I=','c3hjR2E=','TmZu','YnN0dlc=','bmFzSXBQb3J0S2V5','aW5zdGFuY2U=','cG9ydA==','RVJGcXM=','TnpnbUU=','TkRkbkI=','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','WWRNQlM=','QkdKS24=','VkRJZHc=','Y29uc29sZQ==','VHBPcEw=','U0Fu','M3wwfDR8N3wxfDh8NXw2fDI=','c3BsaXQ=','bG9n','d2Fybg==','dHJhY2U=','ZGVidWc=','VURUQUY=','aW5mbw==','ZXhjZXB0aW9u','YWNjZXNzUG9pbnRUeXBl','ZGF0YQ==','dG9Mb3dlckNhc2U=','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','dGVtcA==','dHJhY2s=','cmVkaXM=','Y3JlYXRlQ2xpZW50','UkVESVM=','UE9SVA==','Li4vLi4vc2VydmVyL21vZHVsZXMvaG90c3BvdE1lc3NhZ2Vz','Li4vLi4vc2VydmVyL21vZHVsZXMvaG90c3BvdFRlbXBsYXRlcw==','ZXhwb3J0cw==','WGRO','eFhz','YmVmb3JlIHNhdmU=','bmFzSWQ=','bG9hZFRoZW1lQ29uZmlnQnlJZA==','bG9hZFJhZGl1c0luZm8=','Z2V0U3RhdHVz','cmV0dXJuIHN0YXR1cyBvZiByZWxhdGVkIGJ1c2luZXNzIHJvdXRlcnM=','YnVzaW5lc3NJZA==','dmFsaWRhdGVzVW5pcXVlbmVzc09m','RHZRTkc=','Y3JlYXRlTG9nZ2Vy','b2JzZXJ2ZQ==','bG9hZGVk','U1ZBdWw=','S3lvang=','eklqdnY=','b2ZmTGluZQ==','Y291bnQ=','cGtEbUg=','T3BCYU8=','aGdv','VWZU','Y0RL','T0Fo','RXJyb3I6','TGxG','dW5p','bFVo','TmFzIG5vdCBmb3VuZA==','Q0R6','bG9hZGVkIG5hcyA=','bVdW','Qklp','dkZPTHM=','d2V1SG0=','Z2V0TmFzSWQ=','UHJvbWlzZQ==','Y0tiUGo=','SnJIUGg=','Rm1nYmY=','WlJLZVQ=','R0pKWWw=','T2NiWHQ=','T1JyY2I=','U2V0dGluZyBuYXMgc2Vzc2lvbiBmYWlsZWQg','WnFxeWc=','aFBiV2Y=','cVpTWFA=','TmFzIGJ5IG5hcyBpZCBub3QgZm91bmQ=','UGlW','Z2FjY1Q=','SU5rWlM=','QW92aFE=','aFBHaEM=','ZmluZEJ5SWQ=','S1pLYnY=','bWFj','bWF0Y2g=','UFJEdVM=','Z2V0Q2FsbGVkU3RhdGlvbklkQXNOYXNJZA==','RWJWSGI=','aWJ4R3M=','VUpOaWI=','ampBT2Y=','S2lwWEE=','dE9sQk8=','cE9iWXI=','TmFzIGJ5IGNhbGxlZCBzdGF0aW9uIGlkIG5vdCBmb3VuZA==','aW52YWxpZCBuYXMgaWQ=','bVRCRHE=','Z1d0','RVl5dmk=','aW52YWxpZCBtYWMgYWRkcmVzcw==','T25MVmI=','RElDcWE=','Z2V0','QXJXbFk=','akVrWU0=','ZmxhVHE=','cGFyc2U=','bmFzIGJ5IGlwIG5vdCBmb3VuZDo=','Y3FOUEw=','V2dva1E=','VndrdFI=','RHVnQnU=','bG9hZGluZyBuYXMgaWQ=','bWVzc2FnZQ==','cm91dGVyTm90Rm91bmQ=','V1ZtdGo=','QlpTemo=','RXlB','bmFzIGNyZWF0ZWQgOiA=','RU1jYXI=','cUR5THI=','aXNOZXdJbnN0YW5jZQ==','Y3JlYXRpb25EYXRl','dXBkYXRlRGF0ZQ==','dHJpbU1hYw==','R0lDWUU=','aFBjTnY=','Z1dUeGU=','SlZudnE=','bEFoQmQ=','T0RXQXo=','bG9hZFJvdXRlckluZm8=','b1hy','aENITFY=','c3RhdHVz','MXwwfDN8NHwy','Q2pTeU8=','WVpvTHY=','YkdNQ1k=','cmVtb3RlTWV0aG9k','SU53ckk=','TkhSUUQ=','bW9kZWxz','QnVzaW5lc3M=','ZUVt','ZUJh','bXJuVHo=','cUhKbnM=','QVdPZ1Q=','bG9hZENvbmZpZw==','dGhlbWVDb25maWc=','Y29udHJvbGxlcg==','c2VsZWN0ZWRUaGVtZUlk','dGVtcGxhdGU=','YUduc20=','dUFHVUo=','QUtJRlY=','TG9hZCBsb2FkVGhlbWVDb25maWdCeUlkIA==','cUlxc2E=','UndicXc=','MXwyfDN8NHww','d2xKYUI=','RkVZcGI=','UkFESVVTX0lQ','U0VDT05EX1JBRElVU19JUA==','UkFESVVTX0FDQ19QT1JU','UkFESVVTX0FVVEhfUE9SVA==','YmFjdnE=','TEJDdGw=','Zm9sZGVy','aG90c3BvdHBsdXM=','VFhx','cHJvbWlzZQ==','bmFzU2NyaXB0cw==','LnppcA==','VEVRYUM=','U0NSSVBUUw==','dGhlbg==','Z2p2TXE=','ZmFpbA==','Q2F6ZUM=','WmJ6eGs=','WFpkSGI=','MHwxfDR8M3wy','d0hx','YnVzaW5lc3NJZCBub3QgZGVmaW5lZA==','T1l6RU8=','UlZoU1M=','RExrTEI=','aW52YWxpZCBwYXJhbXMsIGJpemlkIG9yIG5hc2lkIG9yIGlwIGlzIGVtcHR5','ZWxva1c=','TkFTX1NUQVRVU19DSEVDS19JTl9TRUNPTkRT','UWNO','Wlp0','UnRx'];(function(_0x20a584,_0xe384a5){var _0x4b41a8=function(_0x2127c6){while(--_0x2127c6){_0x20a584['push'](_0x20a584['shift']());}};var _0x58157c=function(){var _0x1d33e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4086cd,_0x4880bf,_0x5f7f12,_0x11bf85){_0x11bf85=_0x11bf85||{};var _0x2a1a7e=_0x4880bf+'='+_0x5f7f12;var _0xfdf934=0x0;for(var _0xfdf934=0x0,_0x545a97=_0x4086cd['length'];_0xfdf934<_0x545a97;_0xfdf934++){var _0x3d5629=_0x4086cd[_0xfdf934];_0x2a1a7e+=';\x20'+_0x3d5629;var _0x59199c=_0x4086cd[_0x3d5629];_0x4086cd['push'](_0x59199c);_0x545a97=_0x4086cd['length'];if(_0x59199c!==!![]){_0x2a1a7e+='='+_0x59199c;}}_0x11bf85['cookie']=_0x2a1a7e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x343372,_0x30e405){_0x343372=_0x343372||function(_0x506eda){return _0x506eda;};var _0x194fb0=_0x343372(new RegExp('(?:^|;\x20)'+_0x30e405['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x5077f3=function(_0x5d90b3,_0x582352){_0x5d90b3(++_0x582352);};_0x5077f3(_0x4b41a8,_0xe384a5);return _0x194fb0?decodeURIComponent(_0x194fb0[0x1]):undefined;}};var _0x2a0e98=function(){var _0x2baee7=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2baee7['test'](_0x1d33e['removeCookie']['toString']());};_0x1d33e['updateCookie']=_0x2a0e98;var _0x5e31dd='';var _0x2eb0dd=_0x1d33e['updateCookie']();if(!_0x2eb0dd){_0x1d33e['setCookie'](['*'],'counter',0x1);}else if(_0x2eb0dd){_0x5e31dd=_0x1d33e['getCookie'](null,'counter');}else{_0x1d33e['removeCookie']();}};_0x58157c();}(_0x6c43,0x68));var _0x36c4=function(_0x32cf77,_0x2e80d4){_0x32cf77=_0x32cf77-0x0;var _0x31a3f3=_0x6c43[_0x32cf77];if(_0x36c4['initialized']===undefined){(function(){var _0x12a2ad;try{var _0x3fd774=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x12a2ad=_0x3fd774();}catch(_0x10cbe1){_0x12a2ad=window;}var _0xcdb23d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x12a2ad['atob']||(_0x12a2ad['atob']=function(_0x58c08b){var _0x3c41bc=String(_0x58c08b)['replace'](/=+$/,'');for(var _0x21d356=0x0,_0x272c72,_0x43c5d3,_0x3458c8=0x0,_0x197253='';_0x43c5d3=_0x3c41bc['charAt'](_0x3458c8++);~_0x43c5d3&&(_0x272c72=_0x21d356%0x4?_0x272c72*0x40+_0x43c5d3:_0x43c5d3,_0x21d356++%0x4)?_0x197253+=String['fromCharCode'](0xff&_0x272c72>>(-0x2*_0x21d356&0x6)):0x0){_0x43c5d3=_0xcdb23d['indexOf'](_0x43c5d3);}return _0x197253;});}());_0x36c4['base64DecodeUnicode']=function(_0x466e9c){var _0x4df44=atob(_0x466e9c);var _0x502f3b=[];for(var _0x21b518=0x0,_0x570949=_0x4df44['length'];_0x21b518<_0x570949;_0x21b518++){_0x502f3b+='%'+('00'+_0x4df44['charCodeAt'](_0x21b518)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x502f3b);};_0x36c4['data']={};_0x36c4['initialized']=!![];}var _0x501728=_0x36c4['data'][_0x32cf77];if(_0x501728===undefined){var _0x58fa00=function(_0x4e5f52){this['rc4Bytes']=_0x4e5f52;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x58fa00['prototype']['checkState']=function(){var _0x3c7b64=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x3c7b64['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x58fa00['prototype']['runState']=function(_0x4916cf){if(!Boolean(~_0x4916cf)){return _0x4916cf;}return this['getState'](this['rc4Bytes']);};_0x58fa00['prototype']['getState']=function(_0x29dd8a){for(var _0x217e73=0x0,_0x5c1464=this['states']['length'];_0x217e73<_0x5c1464;_0x217e73++){this['states']['push'](Math['round'](Math['random']()));_0x5c1464=this['states']['length'];}return _0x29dd8a(this['states'][0x0]);};new _0x58fa00(_0x36c4)['checkState']();_0x31a3f3=_0x36c4['base64DecodeUnicode'](_0x31a3f3);_0x36c4['data'][_0x32cf77]=_0x31a3f3;}else{_0x31a3f3=_0x501728;}return _0x31a3f3;};var _0x306509=function(){var _0x2bdfff=!![];return function(_0x19d000,_0x50800e){var _0x985f42=_0x2bdfff?function(){if(_0x50800e){var _0x5e847=_0x50800e['apply'](_0x19d000,arguments);_0x50800e=null;return _0x5e847;}}:function(){};_0x2bdfff=![];return _0x985f42;};}();var _0x388256=_0x306509(this,function(){var _0x4b980d=function(){return'\x64\x65\x76';},_0x32fc6a=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x3999b1=function(){var _0x56be37=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x56be37['\x74\x65\x73\x74'](_0x4b980d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x18e282=function(){var _0x6c578a=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x6c578a['\x74\x65\x73\x74'](_0x32fc6a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x449f6e=function(_0x10a062){var _0x3c1457=~-0x1>>0x1+0xff%0x0;if(_0x10a062['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3c1457)){_0xe5da87(_0x10a062);}};var _0xe5da87=function(_0x4720f0){var _0x49b442=~-0x4>>0x1+0xff%0x0;if(_0x4720f0['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x49b442){_0x449f6e(_0x4720f0);}};if(!_0x3999b1()){if(!_0x18e282()){_0x449f6e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x449f6e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x449f6e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x388256();var _0x2f9bdc=function(){var _0x441009=!![];return function(_0x534aeb,_0x2cb1ee){var _0x975b7c=_0x441009?function(){if(_0x2cb1ee){var _0x2824f5=_0x2cb1ee[_0x36c4('0x0')](_0x534aeb,arguments);_0x2cb1ee=null;return _0x2824f5;}}:function(){};_0x441009=![];return _0x975b7c;};}();var _0x10af95=_0x2f9bdc(this,function(){var _0x4f98ad={'CxBIF':function _0x3f2c74(_0x474056,_0x3874dc){return _0x474056!==_0x3874dc;},'KfgHT':_0x36c4('0x1'),'pDDap':function _0x4b0b1c(_0x1596fd,_0xc83507){return _0x1596fd(_0xc83507);},'bXScK':_0x36c4('0x2'),'sxcGa':function _0x590712(_0x1c6035,_0x564d7d){return _0x1c6035!==_0x564d7d;},'bstvW':'Nfn','NzgmE':function _0x111e72(_0x3bc372,_0x4ca258){return _0x3bc372+_0x4ca258;},'ERFqs':function _0x4cfd39(_0xbc47e2,_0x244b51){return _0xbc47e2(_0x244b51);},'NDdnB':_0x36c4('0x3'),'YdMBS':function _0x3763fa(_0x2e2cde,_0x3e40e7){return _0x2e2cde===_0x3e40e7;},'BGJKn':_0x36c4('0x4'),'PdGsO':'failed\x20to\x20load\x20nas:\x20','VDIdw':function _0x1ce5dc(_0x2c7e38,_0x49f8fb){return _0x2c7e38(_0x49f8fb);},'FzMqy':'failed\x20to\x20loaf\x20nas','TpOpL':'SAn','UDTAF':'nas\x20by\x20ip\x20not\x20found','vWFAg':_0x36c4('0x5')};if(_0x36c4('0x2')===_0x4f98ad['bXScK']){var _0xea7f7d=function(){if(_0x4f98ad['CxBIF'](_0x4f98ad['KfgHT'],_0x4f98ad[_0x36c4('0x6')])){log[_0x36c4('0x7')](_0x52b047);return _0x4f98ad['pDDap'](_0x471f1c,_0x5d3010);}else{}};var _0x29240b;try{if(_0x4f98ad[_0x36c4('0x8')](_0x36c4('0x9'),_0x4f98ad[_0x36c4('0xa')])){ctx[_0x36c4('0xb')]=_0x4f98ad['NzgmE'](ctx[_0x36c4('0xc')]['ip'],ctx[_0x36c4('0xc')][_0x36c4('0xd')]);}else{var _0x1cafa2=_0x4f98ad[_0x36c4('0xe')](Function,_0x4f98ad[_0x36c4('0xf')](_0x4f98ad[_0x36c4('0xf')](_0x4f98ad[_0x36c4('0x10')],_0x36c4('0x11')),');'));_0x29240b=_0x1cafa2();}}catch(_0x1beca4){if(_0x4f98ad[_0x36c4('0x12')](_0x4f98ad[_0x36c4('0x13')],_0x4f98ad[_0x36c4('0x13')])){_0x29240b=window;}else{log['error'](_0x4f98ad['PdGsO'],_0x1c57af);return _0x4f98ad[_0x36c4('0x14')](_0x5af5dd,_0x4f98ad['FzMqy']);}}if(!_0x29240b[_0x36c4('0x15')]){if(_0x4f98ad[_0x36c4('0x12')](_0x4f98ad[_0x36c4('0x16')],_0x36c4('0x17'))){_0x29240b[_0x36c4('0x15')]=function(_0x1fcfd3){var _0x5ca80f={'YJEyq':_0x36c4('0x18')};var _0x3f46c5=_0x5ca80f['YJEyq'][_0x36c4('0x19')]('|'),_0x49057f=0x0;while(!![]){switch(_0x3f46c5[_0x49057f++]){case'0':_0x419998[_0x36c4('0x1a')]=_0x1fcfd3;continue;case'1':_0x419998['info']=_0x1fcfd3;continue;case'2':return _0x419998;continue;case'3':var _0x419998={};continue;case'4':_0x419998[_0x36c4('0x1b')]=_0x1fcfd3;continue;case'5':_0x419998['exception']=_0x1fcfd3;continue;case'6':_0x419998[_0x36c4('0x1c')]=_0x1fcfd3;continue;case'7':_0x419998[_0x36c4('0x1d')]=_0x1fcfd3;continue;case'8':_0x419998['error']=_0x1fcfd3;continue;}break;}}(_0xea7f7d);}else{return _0x4f98ad['VDIdw'](_0x35cd4b,_0x4f98ad[_0x36c4('0x1e')]);}}else{if(_0x4f98ad['vWFAg']!==_0x4f98ad['vWFAg']){business['validateNasIpSrcPacket']=![];}else{_0x29240b[_0x36c4('0x15')][_0x36c4('0x1a')]=_0xea7f7d;_0x29240b[_0x36c4('0x15')]['warn']=_0xea7f7d;_0x29240b[_0x36c4('0x15')][_0x36c4('0x1d')]=_0xea7f7d;_0x29240b[_0x36c4('0x15')][_0x36c4('0x1f')]=_0xea7f7d;_0x29240b[_0x36c4('0x15')]['error']=_0xea7f7d;_0x29240b['console'][_0x36c4('0x20')]=_0xea7f7d;_0x29240b[_0x36c4('0x15')][_0x36c4('0x1c')]=_0xea7f7d;}}}else{ctx['data'][_0x36c4('0x21')]=ctx[_0x36c4('0x22')]['accessPointType'][_0x36c4('0x23')]();}});_0x10af95();var logger=require('../../server/modules/logger');var app=require('../../server/server');var utility=require(_0x36c4('0x24'));var temp=require(_0x36c4('0x25'))[_0x36c4('0x26')]();var fs=require('fs');var config=require('../../server/modules/config');var Q=require('q');var redis=require(_0x36c4('0x27'));var redisClient=redis[_0x36c4('0x28')](config[_0x36c4('0x29')][_0x36c4('0x2a')],config[_0x36c4('0x29')]['HOST']);var hotspotMessages=require(_0x36c4('0x2b'));var hotspotTemplates=require(_0x36c4('0x2c'));module[_0x36c4('0x2d')]=function(_0x2a9a0a){var _0x509c17={'SVAul':function _0x3270b6(_0x5d33bc,_0x2796fc){return _0x5d33bc===_0x2796fc;},'IzSib':_0x36c4('0x2e'),'Kyojx':_0x36c4('0x2f'),'zIjvv':function _0x1a57d5(_0x328b60,_0x150342){return _0x328b60(_0x150342);},'OpBaO':function _0x258011(_0x1220c5){return _0x1220c5();},'DvQNG':_0x36c4('0xb'),'BZSzj':_0x36c4('0x30'),'INwrI':_0x36c4('0x31'),'NHRQD':'string','AKIFV':_0x36c4('0x32'),'bacvq':_0x36c4('0x33'),'LBCtl':'Load\x20router\x20info','RHvZB':_0x36c4('0x34'),'hEgAE':_0x36c4('0x35'),'gfdVs':_0x36c4('0x36')};_0x2a9a0a[_0x36c4('0x37')](_0x509c17[_0x36c4('0x38')]);var _0x1edf19=logger[_0x36c4('0x39')]();_0x2a9a0a[_0x36c4('0x3a')](_0x36c4('0x3b'),function(_0x41d164,_0x418c02){if(_0x41d164[_0x36c4('0x22')]){var _0x3c5fe9={'yhCnf':function _0x50a26e(_0x444d07,_0x5124a1){return _0x444d07(_0x5124a1);},'pkDmH':function _0x5d2629(_0x117d68,_0x17d124,_0x4a9efc){return _0x117d68(_0x17d124,_0x4a9efc);}};if(_0x509c17[_0x36c4('0x3c')](_0x509c17['IzSib'],_0x509c17[_0x36c4('0x3d')])){if(_0x3252c7){return _0x509c17[_0x36c4('0x3e')](_0x4f0538,_0x186c2f);}result[_0x36c4('0x3f')]=_0x171182;_0x2a9a0a[_0x36c4('0x40')]({'_0x4ab616':_0x327dd6},function(_0xa4d621,_0x274dd3){if(_0x42b1b3){return _0x3c5fe9['yhCnf'](_0x8cabae,_0x2d7b48);}result['onLine']=_0x5c93b1;return _0x3c5fe9[_0x36c4('0x41')](_0x35750f,null,_0x27314a);});}else{if(_0x41d164[_0x36c4('0x22')][_0x36c4('0x21')]){_0x41d164[_0x36c4('0x22')][_0x36c4('0x21')]=_0x41d164[_0x36c4('0x22')][_0x36c4('0x21')][_0x36c4('0x23')]();}}}_0x509c17[_0x36c4('0x42')](_0x418c02);});_0x2a9a0a['loadNasByRadiusRequest']=function(_0x4b87c0){var _0x1bef49={'cKbPj':function _0x3577cc(_0x18a9d0,_0x12560d){return _0x18a9d0!==_0x12560d;},'UpwPC':_0x36c4('0x43'),'WgBsX':_0x36c4('0x44'),'qxFJH':_0x36c4('0x45'),'JrHPh':_0x36c4('0x46'),'Fmgbf':function _0x537a38(_0x288bb0,_0x5f5ba4){return _0x288bb0(_0x5f5ba4);},'baKKK':_0x36c4('0x47'),'ZRKeT':function _0x1356a2(_0x581e1c,_0x5ee9fb){return _0x581e1c(_0x5ee9fb);},'GJJYl':function _0x2f1d86(_0x5e3779,_0x328c1c){return _0x5e3779===_0x328c1c;},'OcbXt':_0x36c4('0x48'),'nrekd':_0x36c4('0x49'),'ORrcb':function _0x4dc4ba(_0x373b86,_0x421c31){return _0x373b86(_0x421c31);},'Zqqyg':_0x36c4('0x4a'),'hPbWf':'invalid\x20mac\x20address','qZSXP':function _0x3b44db(_0x56b0d6,_0x3e775b){return _0x56b0d6(_0x3e775b);},'gaccT':_0x36c4('0x4b'),'INkZS':_0x36c4('0x4c'),'WSYkk':_0x36c4('0x4d'),'AovhQ':function _0x37cca0(_0x4e339b,_0xfa78b5){return _0x4e339b(_0xfa78b5);},'hPGhC':'both\x20nas\x20ip\x20and\x20nas\x20ids\x20are\x20empty','vFOLs':function _0xd58522(_0x4a1ddd,_0x2704ee){return _0x4a1ddd===_0x2704ee;},'ChvkC':_0x36c4('0x4e'),'weuHm':_0x36c4('0x4f')};if(_0x1bef49[_0x36c4('0x50')](_0x1bef49['ChvkC'],_0x1bef49[_0x36c4('0x51')])){_0x1edf19[_0x36c4('0x1d')](_0x22d91f);return _0x355654(_0x455e56);}else{var _0x22a757=_0x4b87c0[_0x36c4('0x52')]();var _0x5c275d=_0x4b87c0['getNasIp']();return Q[_0x36c4('0x53')](function(_0x36df60,_0x488cf2){var _0x49ebf2={'AJYvn':function _0x52308f(_0x293d92,_0x4a6c09){return _0x1bef49[_0x36c4('0x54')](_0x293d92,_0x4a6c09);},'NUAse':_0x1bef49['UpwPC'],'IDMmJ':_0x1bef49['WgBsX'],'EbVHb':function _0x575d33(_0x5cc994,_0x3ffde6){return _0x1bef49[_0x36c4('0x54')](_0x5cc994,_0x3ffde6);},'ibxGs':_0x1bef49['qxFJH'],'DeUgL':_0x1bef49[_0x36c4('0x55')],'UJNib':function _0x2d0e8f(_0x1ec4af,_0x1520e2){return _0x1bef49[_0x36c4('0x56')](_0x1ec4af,_0x1520e2);},'jjAOf':_0x1bef49['baKKK'],'KipXA':function _0x42d7d3(_0x40f730,_0x542b4d){return _0x1bef49[_0x36c4('0x57')](_0x40f730,_0x542b4d);},'EuqVg':function _0x5e311c(_0x332ea9,_0x46845b){return _0x1bef49[_0x36c4('0x58')](_0x332ea9,_0x46845b);},'tOlBO':_0x1bef49[_0x36c4('0x59')],'pObYr':_0x1bef49['nrekd'],'PRDuS':function _0x3ec7f0(_0x2dbc39,_0x137104){return _0x1bef49[_0x36c4('0x5a')](_0x2dbc39,_0x137104);},'mTBDq':_0x36c4('0x5b'),'KZKbv':_0x1bef49[_0x36c4('0x5c')],'bYVZl':_0x1bef49[_0x36c4('0x5d')],'BKdwf':function _0x236232(_0x37449b,_0x4a7b04){return _0x1bef49[_0x36c4('0x5e')](_0x37449b,_0x4a7b04);},'Rufvq':_0x36c4('0x5f'),'EYyvi':_0x36c4('0x60'),'DICqa':function _0x4ba842(_0x2997e2,_0x2eaccd){return _0x1bef49[_0x36c4('0x5e')](_0x2997e2,_0x2eaccd);},'OnLVb':_0x1bef49[_0x36c4('0x61')],'JTlDL':'invalid\x20nas\x20id','ArWlY':function _0x235278(_0x5fe8bd,_0x2e7141){return _0x1bef49[_0x36c4('0x5e')](_0x5fe8bd,_0x2e7141);},'jEkYM':_0x1bef49[_0x36c4('0x62')],'flaTq':'4|1|0|2|3','WVmtj':_0x1bef49['WSYkk']};if(!_0x22a757&&!_0x5c275d){return _0x1bef49[_0x36c4('0x63')](_0x488cf2,_0x1bef49[_0x36c4('0x64')]);}if(_0x22a757){_0x2a9a0a[_0x36c4('0x65')](_0x22a757,function(_0x412eff,_0x196c84){if(_0x412eff){if(_0x49ebf2['EuqVg'](_0x49ebf2[_0x36c4('0x66')],'JJt')){if(ctx['instance'][_0x36c4('0x67')][_0x36c4('0x68')](/[a-z]/i)){ctx['instance']['mac']=utility['trimMac'](ctx[_0x36c4('0xc')][_0x36c4('0x67')]);ctx[_0x36c4('0xc')]['id']=ctx[_0x36c4('0xc')][_0x36c4('0x67')];}else{return _0x49ebf2[_0x36c4('0x69')](_0x272eb9,_0x49ebf2['bYVZl']);}}else{_0x1edf19[_0x36c4('0x7')](_0x412eff);return _0x49ebf2['BKdwf'](_0x488cf2,_0x412eff);}}if(!_0x196c84){_0x1edf19[_0x36c4('0x1b')](_0x49ebf2['Rufvq']);var _0x4c3a75=_0x4b87c0[_0x36c4('0x6a')]();if(_0x4c3a75){_0x2a9a0a[_0x36c4('0x65')](_0x4c3a75,function(_0x292cb4,_0x2fd0ca){if(_0x49ebf2['AJYvn'](_0x49ebf2['NUAse'],_0x49ebf2['IDMmJ'])){if(_0x292cb4){if(_0x49ebf2[_0x36c4('0x6b')](_0x49ebf2[_0x36c4('0x6c')],_0x49ebf2['DeUgL'])){_0x1edf19[_0x36c4('0x7')](_0x292cb4);return _0x49ebf2[_0x36c4('0x6d')](_0x488cf2,_0x292cb4);}else{_0x1edf19['error'](_0x49ebf2[_0x36c4('0x6e')],_0x5394c0);return _0x49ebf2[_0x36c4('0x6f')](_0x2ded2c,_0x3253a9);}}if(!_0x2fd0ca){if(_0x49ebf2['EuqVg'](_0x49ebf2[_0x36c4('0x70')],_0x49ebf2[_0x36c4('0x71')])){return config['PRIMARY_SHARED_SECRET'];}else{_0x1edf19[_0x36c4('0x1b')](_0x36c4('0x72'));return _0x49ebf2['PRDuS'](_0x488cf2,_0x36c4('0x73'));}}return _0x36df60(_0x2fd0ca);}else{_0x1edf19[_0x36c4('0x7')](_0x49ebf2[_0x36c4('0x74')],_0x8ae308);return _0x49ebf2[_0x36c4('0x69')](_0x23c1bd,_0x240800);}});}else{if(_0x49ebf2['EuqVg'](_0x36c4('0x75'),_0x49ebf2[_0x36c4('0x76')])){return _0x49ebf2['DICqa'](_0x22c979,_0x36c4('0x77'));}else{_0x1edf19['warn'](_0x49ebf2[_0x36c4('0x78')]);return _0x49ebf2[_0x36c4('0x79')](_0x488cf2,_0x49ebf2['JTlDL']);}}}else{return _0x36df60(_0x196c84);}});}else if(_0x5c275d){redisClient[_0x36c4('0x7a')](_0x5c275d,function(_0x476867,_0x5a6b6a){var _0xa7f4d1={'cqNPL':function _0x4026b0(_0x294202,_0x241ea9){return _0x49ebf2['ArWlY'](_0x294202,_0x241ea9);},'WgokQ':_0x36c4('0x4b'),'VwktR':function _0x5e1b14(_0x3fdcff,_0x2cdafb){return _0x49ebf2[_0x36c4('0x7b')](_0x3fdcff,_0x2cdafb);},'DugBu':function _0x94cafc(_0x15fdd9,_0x145485){return _0x49ebf2[_0x36c4('0x7b')](_0x15fdd9,_0x145485);}};if(_0x49ebf2['EuqVg'](_0x49ebf2[_0x36c4('0x7c')],_0x49ebf2[_0x36c4('0x7c')])){var _0x254593=_0x49ebf2[_0x36c4('0x7d')][_0x36c4('0x19')]('|'),_0x78ed65=0x0;while(!![]){switch(_0x254593[_0x78ed65++]){case'0':var _0x5553ef=JSON[_0x36c4('0x7e')](_0x5a6b6a);continue;case'1':if(!_0x5a6b6a){return _0x488cf2(_0x36c4('0x7f'),_0x5c275d);}continue;case'2':var _0x2bd662=_0x5553ef[_0x36c4('0x31')];continue;case'3':_0x2a9a0a[_0x36c4('0x65')](_0x2bd662,function(_0x4c324b,_0x17cd26){if(_0x4c324b){_0x1edf19['error'](_0x4c324b);return _0xa7f4d1[_0x36c4('0x80')](_0x488cf2,_0x4c324b);}if(!_0x17cd26){_0x1edf19[_0x36c4('0x7')](_0xa7f4d1[_0x36c4('0x81')]);return _0xa7f4d1[_0x36c4('0x82')](_0x488cf2,_0x36c4('0x73'));}return _0xa7f4d1[_0x36c4('0x83')](_0x36df60,_0x17cd26);});continue;case'4':if(_0x476867){_0x1edf19[_0x36c4('0x7')](_0x476867);return _0x49ebf2['ArWlY'](_0x488cf2,_0x476867);}continue;}break;}}else{_0x1edf19['debug'](_0x36c4('0x84'),_0x482ed4);if(_0x46047a){_0x1edf19[_0x36c4('0x7')](_0x299e69);return _0x29c484(_0x111809);}if(!_0x19ef0f){var _0x328d5f=new _0x2578e7();_0x476867[_0x36c4('0x85')]=hotspotMessages[_0x36c4('0x86')];_0x476867['status']=0x194;return _0x49ebf2[_0x36c4('0x7b')](_0x2c1752,_0x487440);}_0x1edf19['debug'](_0x49ebf2[_0x36c4('0x87')],_0xd37e1c);return _0x2c9ab0(null,_0x494055);}});}});}};_0x2a9a0a['observe'](_0x509c17[_0x36c4('0x88')],function(_0x3b6044,_0x4d634b){var _0x9f8520={'EMcar':function _0x37529e(_0x5745ce,_0x4c32c2){return _0x5745ce!==_0x4c32c2;},'qDyLr':_0x36c4('0x89'),'GICYE':function _0x30cf2e(_0x237f38,_0x4c33d4){return _0x237f38(_0x4c33d4);},'hPcNv':_0x36c4('0x8a'),'gWTxe':function _0x519999(_0x2b9805){return _0x2b9805();},'JVnvq':function _0x1a29cd(_0x2783a3,_0x10d469){return _0x2783a3(_0x10d469);},'lAhBd':_0x36c4('0x4b'),'ODWAz':_0x36c4('0x73')};if(_0x9f8520[_0x36c4('0x8b')]('vQl',_0x9f8520[_0x36c4('0x8c')])){if(_0x3b6044[_0x36c4('0xc')]&&_0x3b6044[_0x36c4('0x8d')]){_0x3b6044[_0x36c4('0xc')][_0x36c4('0x8e')]=_0x3b6044[_0x36c4('0xc')][_0x36c4('0x8f')]=new Date();if(_0x3b6044['instance'][_0x36c4('0x67')]){if(_0x3b6044[_0x36c4('0xc')][_0x36c4('0x67')][_0x36c4('0x68')](/[a-z]/i)){_0x3b6044[_0x36c4('0xc')][_0x36c4('0x67')]=utility[_0x36c4('0x90')](_0x3b6044['instance'][_0x36c4('0x67')]);_0x3b6044[_0x36c4('0xc')]['id']=_0x3b6044[_0x36c4('0xc')][_0x36c4('0x67')];}else{return _0x9f8520[_0x36c4('0x91')](_0x4d634b,'invalid\x20mac\x20address');}}if(_0x3b6044[_0x36c4('0xc')]['ip']&&_0x3b6044[_0x36c4('0xc')][_0x36c4('0xd')]){_0x3b6044[_0x36c4('0xb')]=_0x3b6044[_0x36c4('0xc')]['ip']+_0x3b6044[_0x36c4('0xc')][_0x36c4('0xd')];}_0x1edf19[_0x36c4('0x1d')](_0x9f8520[_0x36c4('0x92')],_0x3b6044[_0x36c4('0xc')]);}_0x9f8520[_0x36c4('0x93')](_0x4d634b);}else{if(_0x31661c){_0x1edf19['error'](_0xd5ce62);return _0x9f8520[_0x36c4('0x94')](_0xb55765,_0x15d084);}if(!_0x1eb9db){_0x1edf19[_0x36c4('0x7')](_0x9f8520[_0x36c4('0x95')]);return _0x9f8520['JVnvq'](_0x2159f9,_0x9f8520[_0x36c4('0x96')]);}return _0x2830f3(_0xbcfe5a);}});_0x2a9a0a[_0x36c4('0x97')]=function(_0x357830,_0x4cf5b4){var _0x57a197={'LXZWT':function _0x5d606d(_0x2dd126,_0x3ce39e){return _0x2dd126!==_0x3ce39e;},'hCHLV':_0x36c4('0x98')};if(_0x57a197['LXZWT'](_0x57a197['hCHLV'],_0x57a197[_0x36c4('0x99')])){var _0x40d321=new _0xc353b();error[_0x36c4('0x85')]=hotspotMessages[_0x36c4('0x86')];error[_0x36c4('0x9a')]=0x194;return _0x174f93(_0x209c99);}else{_0x2a9a0a[_0x36c4('0x65')](_0x357830,function(_0x2b052b,_0x2e81a4){var _0x339c62={'CjSyO':_0x36c4('0x84'),'YZoLv':function _0x2453fa(_0x1e433c,_0x45ee06,_0x58472b){return _0x1e433c(_0x45ee06,_0x58472b);},'bGMCY':function _0x382350(_0x219a04,_0x5a0cd2){return _0x219a04(_0x5a0cd2);},'ZjMxX':_0x36c4('0x4d')};var _0xd34474=_0x36c4('0x9b')['split']('|'),_0x5ad2f6=0x0;while(!![]){switch(_0xd34474[_0x5ad2f6++]){case'0':if(_0x2b052b){_0x1edf19['error'](_0x2b052b);return _0x4cf5b4(_0x2b052b);}continue;case'1':_0x1edf19[_0x36c4('0x1d')](_0x339c62[_0x36c4('0x9c')],_0x357830);continue;case'2':return _0x339c62[_0x36c4('0x9d')](_0x4cf5b4,null,_0x2e81a4);continue;case'3':if(!_0x2e81a4){var _0x2b052b=new Error();_0x2b052b['message']=hotspotMessages[_0x36c4('0x86')];_0x2b052b[_0x36c4('0x9a')]=0x194;return _0x339c62[_0x36c4('0x9e')](_0x4cf5b4,_0x2b052b);}continue;case'4':_0x1edf19[_0x36c4('0x1d')](_0x339c62['ZjMxX'],_0x2e81a4);continue;}break;}});}};_0x2a9a0a[_0x36c4('0x9f')](_0x36c4('0x97'),{'description':'Load\x20router\x20info','accepts':[{'arg':_0x509c17[_0x36c4('0xa0')],'type':_0x509c17[_0x36c4('0xa1')],'required':!![]}],'returns':{'root':!![]}});_0x2a9a0a[_0x36c4('0x32')]=function(_0x275c37,_0x3766ec){var _0x178b29=app[_0x36c4('0xa2')][_0x36c4('0xa3')];var _0x199097=app[_0x36c4('0xa2')]['Theme'];_0x2a9a0a['loadRouterInfo'](_0x275c37,function(_0x27a5ec,_0x2290af){var _0x117e51={'aGnsm':function _0x41cffd(_0x231fd7,_0xebb67,_0x5c5d08){return _0x231fd7(_0xebb67,_0x5c5d08);},'mrnTz':function _0x3ef12e(_0x1e1575,_0x591b64){return _0x1e1575!==_0x591b64;},'qHJns':_0x36c4('0xa4'),'AWOgT':_0x36c4('0xa5'),'uAGUJ':function _0x4efd9c(_0x5df6b7,_0x52102c){return _0x5df6b7(_0x52102c);}};if(_0x117e51[_0x36c4('0xa6')](_0x117e51[_0x36c4('0xa7')],_0x117e51[_0x36c4('0xa8')])){if(_0x27a5ec){_0x1edf19[_0x36c4('0x7')](_0x27a5ec);return _0x3766ec(_0x27a5ec);}_0x178b29[_0x36c4('0xa9')](_0x2290af[_0x36c4('0x36')],function(_0x5ac844,_0x128616){if(_0x5ac844){_0x1edf19[_0x36c4('0x7')](_0x5ac844);return _0x3766ec(_0x5ac844);}_0x128616[_0x36c4('0x31')]=_0x2290af['id'];_0x128616[_0x36c4('0x21')]=_0x2290af['accessPointType'];_0x128616[_0x36c4('0x36')]=_0x2290af['businessId'];_0x128616[_0x36c4('0xaa')][_0x36c4('0xab')]=hotspotTemplates[_0x128616[_0x36c4('0xac')]]['controller'];_0x128616[_0x36c4('0xaa')][_0x36c4('0xad')]=hotspotTemplates[_0x128616['selectedThemeId']][_0x36c4('0xad')];return _0x117e51[_0x36c4('0xae')](_0x3766ec,null,_0x128616);});}else{if(_0xa0fc98){return _0x117e51[_0x36c4('0xaf')](_0x5bba15,_0x1af66c);}result['onLine']=_0x213947;return _0x2e843b(null,_0x139983);}});};_0x2a9a0a[_0x36c4('0x9f')](_0x509c17[_0x36c4('0xb0')],{'description':_0x36c4('0xb1'),'accepts':[{'arg':_0x509c17[_0x36c4('0xa0')],'type':_0x509c17[_0x36c4('0xa1')],'required':!![]}],'returns':{'root':!![]}});_0x2a9a0a[_0x36c4('0x33')]=function(_0x2c8960){var _0xd87a7f={'qIqsa':function _0x12f799(_0x88a23b,_0x2bfdda){return _0x88a23b!==_0x2bfdda;},'Rwbqw':'mXY','FDagA':function _0x54018a(_0x3c7f49,_0x1a5d8e,_0x5be7c8){return _0x3c7f49(_0x1a5d8e,_0x5be7c8);}};if(_0xd87a7f[_0x36c4('0xb2')](_0xd87a7f[_0x36c4('0xb3')],_0xd87a7f[_0x36c4('0xb3')])){_0x2a9a0a[_0x36c4('0x65')](_0x1b7449,function(_0x238876,_0x26f03b){var _0x172a17={'wlJaB':_0x36c4('0xb4'),'FEYpb':'loading\x20nas\x20id'};var _0x3d961d=_0x172a17[_0x36c4('0xb5')][_0x36c4('0x19')]('|'),_0x9683b6=0x0;while(!![]){switch(_0x3d961d[_0x9683b6++]){case'0':return _0x12033f(null,_0xc4e7dd);continue;case'1':_0x1edf19['debug'](_0x172a17[_0x36c4('0xb6')],_0x36f244);continue;case'2':if(_0x188050){_0x1edf19['error'](_0x204c12);return _0x287456(_0x2a0e2c);}continue;case'3':if(!_0x7ca011){var _0x4c0c70=new _0xa1f909();error[_0x36c4('0x85')]=hotspotMessages['routerNotFound'];error[_0x36c4('0x9a')]=0x194;return _0x536f41(_0x279ae3);}continue;case'4':_0x1edf19[_0x36c4('0x1d')](_0x36c4('0x4d'),_0x1d1863);continue;}break;}});}else{return _0xd87a7f['FDagA'](_0x2c8960,null,{'radiusIp':config[_0x36c4('0xb7')],'secondRadiusIp':config[_0x36c4('0xb8')],'accountingPort':config[_0x36c4('0xb9')],'authenticationPort':config[_0x36c4('0xba')]});}};_0x2a9a0a[_0x36c4('0x9f')](_0x509c17[_0x36c4('0xbb')],{'description':_0x509c17[_0x36c4('0xbc')],'accepts':[],'returns':{'root':!![]}});_0x2a9a0a['getMikrotikScripts']=function(_0x3123e7,_0x469dfa){var _0x4b1a00={'gjvMq':function _0x2f0d62(_0xfa3084,_0x407124){return _0xfa3084(_0x407124);},'CazeC':function _0x4ec628(_0x44f874,_0x21a8bd){return _0x44f874===_0x21a8bd;},'Zbzxk':'RxT','XZdHb':function _0x19ab03(_0x5bc854,_0xf1810e){return _0x5bc854(_0xf1810e);},'QjqEd':function _0x52dcdc(_0x2d48ae,_0x5a2ccb){return _0x2d48ae+_0x5a2ccb;},'uLdjY':_0x36c4('0xbd'),'TEQaC':_0x36c4('0xbe'),'nkeZh':_0x36c4('0xbf')};if(_0x4b1a00['nkeZh']===_0x4b1a00['nkeZh']){var _0x57d720=app[_0x36c4('0xa2')][_0x36c4('0xa3')];return Q[_0x36c4('0xc0')](function(_0x7cc895,_0x572054){var _0x34c7dc=_0x36c4('0xc1');utility['zipIt'](_0x4b1a00['QjqEd'](_0x34c7dc,_0x36c4('0xc2')),[{'type':_0x4b1a00['uLdjY'],'name':_0x4b1a00[_0x36c4('0xc3')],'files':config[_0x36c4('0xc4')]['MIKROTIK_HOTSPOT_PAGES']}])[_0x36c4('0xc5')](function(_0x4a7549){_0x1edf19[_0x36c4('0x1d')](_0x4a7549);return _0x4b1a00[_0x36c4('0xc6')](_0x7cc895,_0x4a7549);})[_0x36c4('0xc7')](function(_0x14cb36){if(_0x4b1a00[_0x36c4('0xc8')]('RxT',_0x4b1a00[_0x36c4('0xc9')])){_0x1edf19[_0x36c4('0x7')](_0x14cb36);return _0x4b1a00[_0x36c4('0xc6')](_0x572054,_0x14cb36);}else{_0x1edf19['error'](_0x330633);return _0x4b1a00[_0x36c4('0xca')](_0x3b560f,_0x563c07);}});});}else{_0x1edf19['error'](_0x5be559);return _0x4b1a00[_0x36c4('0xca')](_0x15db62,_0x5b5ce9);}};_0x2a9a0a[_0x36c4('0x34')]=function(_0xf4325b,_0x74dc63){var _0x90c327={'nqixZ':_0x36c4('0xcb'),'OYzEO':function _0x1d9547(_0x22fe93,_0x30c1fb){return _0x22fe93!==_0x30c1fb;},'RVhSS':_0x36c4('0xcc'),'DLkLB':function _0x2f744d(_0x5550d2,_0x3800ff){return _0x5550d2(_0x3800ff);},'elokW':_0x36c4('0xcd')};var _0x3ee98b=_0x90c327['nqixZ'][_0x36c4('0x19')]('|'),_0x365a3c=0x0;while(!![]){switch(_0x3ee98b[_0x365a3c++]){case'0':if(_0xf4325b==null){if(_0x90c327[_0x36c4('0xce')](_0x90c327[_0x36c4('0xcf')],_0x36c4('0xcc'))){return _0x90c327[_0x36c4('0xd0')](_0x28b44a,_0x36c4('0xd1'));}else{return _0x90c327[_0x36c4('0xd0')](_0x74dc63,_0x90c327[_0x36c4('0xd2')]);}}continue;case'1':var _0x5c0086=config[_0x36c4('0xd3')]*0x3e8;continue;case'2':_0x2a9a0a[_0x36c4('0x40')]({'businessId':_0xf4325b,'pingUpdatedAt':{'lte':_0x22e8c0}},function(_0x2999e6,_0x5a1fc3){var _0x438d9f={'EFQfo':function _0x2a0e77(_0x4e1739,_0x151844){return _0x4e1739!==_0x151844;},'suLAT':_0x36c4('0xd4'),'Wltcb':_0x36c4('0xd5'),'yfVtb':function _0x2ad3e0(_0x597f95,_0x4bdfde,_0x116391){return _0x597f95(_0x4bdfde,_0x116391);},'pzyrR':_0x36c4('0x73'),'bXAqj':_0x36c4('0xd6'),'MBflD':function _0x4c4e1e(_0x53fd83,_0x14aa92){return _0x53fd83(_0x14aa92);},'ltJhW':function _0x31396a(_0x28f4f7,_0x5c44f1){return _0x28f4f7===_0x5c44f1;},'mxRVo':_0x36c4('0xd7'),'mvDHl':_0x36c4('0xd8'),'tsFDA':function _0xf3128b(_0x3f7e01,_0x3523d3){return _0x3f7e01(_0x3523d3);}};if(_0x438d9f['EFQfo'](_0x36c4('0xd6'),_0x438d9f[_0x36c4('0xd9')])){return _0x438d9f[_0x36c4('0xda')](_0x360856,'both\x20nas\x20ip\x20and\x20nas\x20ids\x20are\x20empty');}else{if(_0x2999e6){if(_0x438d9f['ltJhW'](_0x438d9f[_0x36c4('0xdb')],'Nkc')){return _0x74dc63(_0x2999e6);}else{var _0x32847d=_0x438d9f[_0x36c4('0xdc')][_0x36c4('0x19')]('|'),_0x43aeaa=0x0;while(!![]){switch(_0x32847d[_0x43aeaa++]){case'0':businessConfig['businessId']=nas[_0x36c4('0x36')];continue;case'1':return _0x438d9f[_0x36c4('0xdd')](_0xc9911a,null,_0x2849c7);continue;case'2':businessConfig[_0x36c4('0xaa')][_0x36c4('0xad')]=hotspotTemplates[businessConfig[_0x36c4('0xac')]][_0x36c4('0xad')];continue;case'3':businessConfig[_0x36c4('0x21')]=nas[_0x36c4('0x21')];continue;case'4':businessConfig['nasId']=nas['id'];continue;case'5':businessConfig['themeConfig'][_0x36c4('0xab')]=hotspotTemplates[businessConfig[_0x36c4('0xac')]][_0x36c4('0xab')];continue;case'6':if(_0x346b2f){_0x1edf19[_0x36c4('0x7')](_0x3d3af5);return _0x438d9f[_0x36c4('0xde')](_0x154d9a,_0x309a9a);}continue;}break;}}}_0x54dff7[_0x36c4('0x3f')]=_0x5a1fc3;_0x2a9a0a[_0x36c4('0x40')]({'businessId':_0xf4325b},function(_0x2171dc,_0x466b46){if(_0x438d9f[_0x36c4('0xdf')](_0x438d9f[_0x36c4('0xe0')],_0x438d9f['Wltcb'])){if(_0x2171dc){return _0x74dc63(_0x2171dc);}_0x54dff7['onLine']=_0x466b46;return _0x438d9f[_0x36c4('0xdd')](_0x74dc63,null,_0x54dff7);}else{_0x1edf19[_0x36c4('0x7')](_0x36c4('0x4b'));return _0x6069fd(_0x438d9f[_0x36c4('0xe1')]);}});}});continue;case'3':var _0x54dff7={};continue;case'4':var _0x22e8c0=new Date()[_0x36c4('0xe2')]()-_0x5c0086;continue;}break;}};_0x2a9a0a[_0x36c4('0x9f')](_0x509c17[_0x36c4('0xe3')],{'description':_0x509c17[_0x36c4('0xe4')],'accepts':[{'arg':_0x509c17[_0x36c4('0xe5')],'type':_0x509c17[_0x36c4('0xa1')],'required':!![]}],'returns':{'root':!![]}});_0x2a9a0a[_0x36c4('0xe6')]=function(){return config[_0x36c4('0xe7')];};_0x2a9a0a[_0x36c4('0xe8')]=function(_0x1ff8a1){var _0xa4bd52={'zkCQi':_0x36c4('0x47'),'sPxJp':function _0x4c5bfe(_0x24b97c,_0x3b3d33){return _0x24b97c(_0x3b3d33);},'FxNVp':function _0x3fd55b(_0x151789,_0x17ba1b){return _0x151789!==_0x17ba1b;},'pcoaa':'ZiZ','jpZAy':function _0xc3403a(_0x3ea472,_0x1bd558){return _0x3ea472(_0x1bd558);},'mlMwV':_0x36c4('0xe9'),'TsdSw':function _0x5ae260(_0x3aaa3c,_0x347ca8,_0xa5f0ed){return _0x3aaa3c(_0x347ca8,_0xa5f0ed);},'JKxTc':_0x36c4('0xea'),'EdXDc':function _0x3f1fdd(_0x42184b,_0x130570){return _0x42184b(_0x130570);},'Qtebz':_0x36c4('0x72'),'JYhbA':'invalid\x20nas\x20id'};if(_0xa4bd52[_0x36c4('0xeb')]===_0xa4bd52[_0x36c4('0xeb')]){return Q[_0x36c4('0xc0')](function(_0x165f8f,_0x11e584){var _0x15676e={'HlONV':_0xa4bd52[_0x36c4('0xec')],'pNoEC':function _0x54fa16(_0xeb9bd3,_0x46a3af){return _0xa4bd52[_0x36c4('0xed')](_0xeb9bd3,_0x46a3af);},'fIFNc':_0x36c4('0xe9'),'Jacba':function _0x5640c5(_0x5aed87,_0x3206ea){return _0xa4bd52[_0x36c4('0xed')](_0x5aed87,_0x3206ea);}};if(_0xa4bd52[_0x36c4('0xee')](_0xa4bd52[_0x36c4('0xef')],_0xa4bd52[_0x36c4('0xef')])){if(_0x5d2919){_0x1edf19[_0x36c4('0x7')](_0xa4bd52['zkCQi'],_0x2bb939);return _0xa4bd52[_0x36c4('0xf0')](_0x5e2852,_0x437a79);}if(!_0x268486){return _0x33ea6d(_0xa4bd52[_0x36c4('0xf1')]);}var _0x2dbfa2=JSON[_0x36c4('0x7e')](_0xf4148b);return _0x237a09(_0x527dda);}else{if(!_0x1ff8a1){return _0xa4bd52[_0x36c4('0xf2')](_0x11e584,'invalid\x20nas\x20ip',_0x1ff8a1);}redisClient[_0x36c4('0x7a')](_0x1ff8a1,function(_0x229b7b,_0x4edb0a){if(_0x229b7b){_0x1edf19[_0x36c4('0x7')](_0x15676e['HlONV'],_0x229b7b);return _0x15676e[_0x36c4('0xf3')](_0x11e584,_0x229b7b);}if(!_0x4edb0a){return _0x11e584(_0x15676e[_0x36c4('0xf4')]);}var _0x4cf129=JSON[_0x36c4('0x7e')](_0x4edb0a);return _0x15676e[_0x36c4('0xf5')](_0x165f8f,_0x4cf129);});}});}else{if(_0x31ab67){_0x1edf19[_0x36c4('0x7')](_0x2d00dc);return _0xa4bd52[_0x36c4('0xf6')](_0x79e4ed,_0x5cb281);}if(!_0x3445b7){_0x1edf19[_0x36c4('0x1b')](_0xa4bd52[_0x36c4('0xf7')]);return _0x20c02b(_0xa4bd52[_0x36c4('0xf8')]);}return _0x382b9f(_0x54bc79);}};_0x2a9a0a[_0x36c4('0xf9')]=function(_0x4b68e4){var _0x9cc80a={'UBRwt':function _0x1e8fa2(_0x1158c2,_0x1ccff1){return _0x1158c2===_0x1ccff1;},'CqCBM':'RHF'};if(_0x9cc80a['UBRwt']('RHF',_0x9cc80a[_0x36c4('0xfa')])){return Q[_0x36c4('0x53')](function(_0x5e7b9d,_0xe153fe){var _0x138d0={'NpTxb':_0x36c4('0xfb'),'jPMUr':'Setting\x20nas\x20session\x20failed\x20','StNZs':function _0x60be2c(_0x4c962b,_0x4e7ca8){return _0x4c962b(_0x4e7ca8);},'UTMZa':_0x36c4('0xfc'),'iHqcH':_0x36c4('0xfd'),'GvDcq':function _0x3fe51d(_0x2ff076){return _0x2ff076();},'UaqiZ':'CXl','OuynX':function _0x175fc2(_0x24f828,_0x1ecdb3){return _0x24f828!==_0x1ecdb3;},'Rjpjz':_0x36c4('0xfe'),'Khkrv':'business\x20not\x20found,\x20is\x20empty','NgKsD':function _0x2d51f0(_0x3b63e9,_0x1e3a98){return _0x3b63e9===_0x1e3a98;},'sRvnI':_0x36c4('0xff'),'OQoJj':_0x36c4('0xcd'),'lgvfZ':function _0x14b97b(_0x25cedb,_0x4fd636){return _0x25cedb||_0x4fd636;},'ZVRAM':_0x36c4('0xd1')};var _0x3bdd7a=_0x138d0[_0x36c4('0x100')][_0x36c4('0x19')]('|'),_0xd9c8cb=0x0;while(!![]){switch(_0x3bdd7a[_0xd9c8cb++]){case'0':_0x3bc168[_0x36c4('0x65')](_0x49a459,function(_0x112385,_0x1eb7e9){var _0x3b646a={'ATMuO':_0x36c4('0x101'),'rKlww':function _0x46e91e(_0x4a3fa8,_0x389a54){return _0x4a3fa8===_0x389a54;},'Jhofo':function _0x1c4292(_0x20a83b,_0x370d95){return _0x20a83b(_0x370d95);},'Plkbu':function _0x21626c(_0x523ecc,_0x34dcc9){return _0x523ecc(_0x34dcc9);},'YkUvR':function _0x1d559d(_0x72d2c5,_0x1a75cd){return _0x72d2c5!==_0x1a75cd;},'FaxyS':_0x36c4('0x102'),'OnMty':function _0x58ea3a(_0xeaf08c,_0x35abd3){return _0xeaf08c(_0x35abd3);},'fTDzR':function _0x4dee5a(_0x33c45d,_0x422d3f){return _0x33c45d+_0x422d3f;},'KuhpN':_0x36c4('0x3'),'sukOD':'{}.constructor(\x22return\x20this\x22)(\x20)','rauzc':function _0x4448b0(_0x2e84ed){return _0x2e84ed();},'BENtu':'skip\x20in\x20active\x20business','KgreX':function _0x6050f(_0x360e5e,_0x516100){return _0x360e5e(_0x516100);},'IKPWH':_0x36c4('0x103'),'yyqRK':_0x36c4('0x104'),'xzxxY':_0x36c4('0x105')};var _0x2384fc=_0x3b646a[_0x36c4('0x106')][_0x36c4('0x19')]('|'),_0x7e69a0=0x0;while(!![]){switch(_0x2384fc[_0x7e69a0++]){case'0':if(_0x112385){if(_0x3b646a[_0x36c4('0x107')](_0x36c4('0x108'),_0x36c4('0x108'))){_0x1edf19['error'](_0x36c4('0x109'),_0x112385);return _0x3b646a['Jhofo'](_0xe153fe,_0x112385);}else{if(_0x13d3fb){_0x1edf19[_0x36c4('0x7')](_0x16780c);return _0x3b646a['Plkbu'](_0x160aa6,_0x2a58bf);}}}continue;case'1':_0x2a9a0a['findById'](_0x46eb75,function(_0x5ce627,_0x2699f0){var _0x2611c7={'WKsSh':_0x361e2f['BCtxy'],'PhyrP':function _0xa80cf2(_0x437afa,_0x5c7114){return _0x361e2f[_0x36c4('0x10a')](_0x437afa,_0x5c7114);},'mQgkN':_0x361e2f['FRRdX'],'gKNLr':_0x361e2f[_0x36c4('0x10b')],'Fgodh':function _0x2b48bf(_0x3499c7){return _0x361e2f[_0x36c4('0x10c')](_0x3499c7);},'aLOBo':function _0x202fa5(_0x21524a,_0x5057c7){return _0x21524a===_0x5057c7;},'eSnrp':_0x36c4('0x10d'),'EHMUK':_0x361e2f[_0x36c4('0x10e')],'URsoy':function _0x4de5b7(_0x36e5b9,_0x594298){return _0x361e2f['YdMCH'](_0x36e5b9,_0x594298);}};if(_0x361e2f[_0x36c4('0x10f')](_0x361e2f[_0x36c4('0x110')],_0x361e2f[_0x36c4('0x110')])){_0x1edf19[_0x36c4('0x7')](_0x361e2f[_0x36c4('0x111')],_0x17cb08);return _0x361e2f[_0x36c4('0x112')](_0x528a14,_0x361e2f['MsuOu']);}else{if(_0x5ce627){if(_0x361e2f[_0x36c4('0x113')](_0x361e2f['dPzaV'],_0x361e2f[_0x36c4('0x114')])){_0x1edf19[_0x36c4('0x7')](_0x5ce627);return _0xe153fe(_0x5ce627);}else{return _0x361e2f[_0x36c4('0x115')](_0x512418,_0x361e2f['SknGK']);}}if(!_0x2699f0){_0x1edf19[_0x36c4('0x7')](_0x36c4('0x116'),_0x46eb75);return _0x361e2f[_0x36c4('0x115')](_0xe153fe,_0x36c4('0x117'));}var _0x1ae5e1=config[_0x36c4('0x118')][_0x36c4('0x119')][0x0]['id'];var _0x2c5423=new Date()[_0x36c4('0x11a')]({'months':0x1})[_0x36c4('0xe2')]();if(_0x1eb7e9[_0x36c4('0x11b')]){_0x1ae5e1=_0x1eb7e9['services']['id'];_0x2c5423=_0x1eb7e9[_0x36c4('0x11b')][_0x36c4('0x11c')];}var _0x360521=![];if(_0x1eb7e9[_0x36c4('0x11d')]&&_0x1eb7e9[_0x36c4('0x11d')]['log']&&_0x1eb7e9[_0x36c4('0x11d')][_0x36c4('0x1a')][_0x36c4('0x11c')]){_0x360521=new Date()['isBefore'](new Date(_0x1eb7e9[_0x36c4('0x11d')][_0x36c4('0x1a')][_0x36c4('0x11c')]));}var _0x1e871d=JSON[_0x36c4('0x11e')]({'businessId':_0x49a459,'hasValidLogSubscription':_0x360521,'businessServiceId':_0x1ae5e1,'businessServicesExpiresAt':_0x2c5423,'sharedSecret':_0x1eb7e9['nasSharedSecret']||config[_0x36c4('0xe7')],'nasId':_0x46eb75,'nasIp':_0x477e46,'nasPort':_0x116f2b});_0x1edf19[_0x36c4('0x1d')]('Ip\x20session\x20updated\x20on\x20MongoDB\x20businessId:\x20',_0x49a459,_0x36c4('0xfc'),_0x46eb75,_0x361e2f[_0x36c4('0x10b')],_0x477e46);redisClient[_0x36c4('0x11f')](_0x477e46,_0x1e871d,'EX',config[_0x36c4('0x120')],function(_0x180e0a,_0x342170){if(_0x180e0a){_0x1edf19[_0x36c4('0x7')](_0x2611c7['WKsSh'],_0x180e0a);return _0x2611c7['PhyrP'](_0xe153fe,_0x180e0a);}_0x1edf19[_0x36c4('0x1d')]('Set\x20nas\x20session\x20updated\x20on\x20REDIS\x20businessId:\x20',_0x49a459,_0x2611c7[_0x36c4('0x121')],_0x46eb75,_0x2611c7[_0x36c4('0x122')],_0x477e46);return _0x2611c7[_0x36c4('0x123')](_0x5e7b9d);});_0x1eb7e9[_0x36c4('0x124')]({'routerActivated':!![],'lastPingAt':new Date()[_0x36c4('0xe2')]()},function(_0x3104fc){if(_0x3104fc){if(_0x2611c7[_0x36c4('0x125')](_0x2611c7[_0x36c4('0x126')],_0x2611c7[_0x36c4('0x127')])){}else{_0x1edf19[_0x36c4('0x7')](_0x3104fc);return _0x2611c7[_0x36c4('0x128')](_0xe153fe,_0x3104fc);}}});}});continue;case'2':var _0x2f3efc=![];continue;case'3':if(!_0x1eb7e9[_0x36c4('0x129')]){_0x1eb7e9['validateNasIpSrcPacket']=![];}continue;case'4':if(_0x3b646a['rKlww'](_0x1eb7e9['active'],![])){if(_0x3b646a['YkUvR']('XIB',_0x3b646a['FaxyS'])){var _0x512655=_0x3b646a[_0x36c4('0x12a')](_0x46ea38,_0x3b646a['fTDzR'](_0x3b646a[_0x36c4('0x12b')](_0x3b646a['KuhpN'],_0x3b646a['sukOD']),');'));_0x1773a5=_0x3b646a[_0x36c4('0x12c')](_0x55c1f0);}else{_0x1edf19[_0x36c4('0x1d')](_0x3b646a[_0x36c4('0x12d')],_0x1eb7e9);return _0x3b646a['KgreX'](_0xe153fe,_0x3b646a[_0x36c4('0x12d')]);}}continue;case'5':if(!_0x1eb7e9){_0x1edf19[_0x36c4('0x7')](_0x3b646a['IKPWH'],_0x1eb7e9);return _0xe153fe(_0x3b646a[_0x36c4('0x12e')]);}continue;case'6':if(_0x1eb7e9['validateNasIpSrcPacket']&&_0x464be4!==_0x477e46){if(_0x3b646a[_0x36c4('0x12f')]===_0x3b646a[_0x36c4('0x12f')]){_0x1edf19[_0x36c4('0x7')](_0x3b646a[_0x36c4('0x130')]);_0x477e46=_0x464be4;_0x2f3efc=!![];}else{if(_0x25985d){var _0x3de8b3=fn[_0x36c4('0x0')](_0x1a080e,_0x2d6e09);_0x44fd07=null;return _0x4df26a;}}}continue;}break;}});continue;case'1':var _0x464be4=_0x4b68e4[_0x36c4('0x131')]||_0x4b68e4['ip'];continue;case'2':var _0x477e46=_0x4b68e4['ip'];continue;case'3':var _0x3bc168=app[_0x36c4('0xa2')]['Business'];continue;case'4':var _0x361e2f={'BCtxy':_0x138d0[_0x36c4('0x132')],'YdtmK':function _0x2ba2e1(_0x4aa3ab,_0x50cb9e){return _0x138d0[_0x36c4('0x133')](_0x4aa3ab,_0x50cb9e);},'FRRdX':_0x138d0[_0x36c4('0x134')],'KyhgE':_0x138d0[_0x36c4('0x135')],'xkIKu':function _0x533bc1(_0x410539){return _0x138d0[_0x36c4('0x136')](_0x410539);},'XXWYP':_0x138d0[_0x36c4('0x137')],'YdMCH':function _0x57ba2d(_0x38e0ed,_0x4a43fd){return _0x38e0ed(_0x4a43fd);},'fvSiQ':function _0x54a662(_0x34c4ed,_0x4ed07d){return _0x138d0['OuynX'](_0x34c4ed,_0x4ed07d);},'ybquI':_0x138d0[_0x36c4('0x138')],'MsuOu':_0x138d0[_0x36c4('0x139')],'snqrB':function _0x3e582f(_0x55efb3,_0x35926b){return _0x138d0[_0x36c4('0x133')](_0x55efb3,_0x35926b);},'audCg':function _0x47777f(_0x689550,_0x15df66){return _0x138d0[_0x36c4('0x13a')](_0x689550,_0x15df66);},'dPzaV':_0x138d0[_0x36c4('0x13b')],'EGguw':function _0x19f561(_0x35b411,_0x31bc52){return _0x138d0[_0x36c4('0x133')](_0x35b411,_0x31bc52);},'SknGK':_0x138d0[_0x36c4('0x13c')]};continue;case'5':var _0x49a459=_0x4b68e4[_0x36c4('0x36')];continue;case'6':if(_0x138d0[_0x36c4('0x13d')](!_0x477e46,!_0x49a459)||!_0x46eb75){return _0xe153fe(_0x138d0[_0x36c4('0x13e')]);}continue;case'7':var _0x46eb75=_0x4b68e4[_0x36c4('0x31')];continue;case'8':var _0x116f2b=_0x4b68e4[_0x36c4('0xd')];continue;}break;}});}else{_0x1baf0f=_0x4530bb;}};};