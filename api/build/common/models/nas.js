var _0xc21e=['dmFsaWRhdGVzVW5pcXVlbmVzc09m','bmFzSXBQb3J0S2V5','Y3JlYXRlTG9nZ2Vy','amR6REU=','cVdYWnk=','ZU9uZFY=','ZUdUY0s=','WW5pQ1g=','ZGF0YQ==','dG9Mb3dlckNhc2U=','UFJJTUFSWV9TSEFSRURfU0VDUkVU','b2JzZXJ2ZQ==','YmVmb3JlIHNhdmU=','YVZE','bW9kZWxz','cHJvbWlzZQ==','UU9RUWk=','aG90c3BvdHBsdXM=','ZmFpbA==','Y0NBdFI=','aW5zdGFuY2U=','aXNOZXdJbnN0YW5jZQ==','V252Wm8=','Y3JlYXRpb25EYXRl','dXBkYXRlRGF0ZQ==','bWFj','Y0NS','bWF0Y2g=','dHJpbU1hYw==','RktwbHQ=','UHRjbEU=','bXBDbkk=','cG9ydA==','UllDZE0=','aW1kbko=','TU1GclA=','cmVtb3RlTWV0aG9k','ZFRma1A=','Rklna0w=','bmplRWU=','a2pqVVI=','c3dRdk0=','QnVzaW5lc3M=','VGhlbWU=','YmFBTFM=','T3Zpclc=','eGFYb2Y=','VGZRVk8=','U0lrckg=','TldRR3k=','U2diTEg=','QXZuUnA=','U0VDT05EX1JBRElVU19JUA==','UkFESVVTX0FDQ19QT1JU','UkFESVVTX0FVVEhfUE9SVA==','c2xLaXI=','TG9hZCByb3V0ZXIgaW5mbw==','Z2V0TWlrcm90aWtTY3JpcHRz','eVlXQVo=','RXBMeGE=','UkZIRVo=','S0RTWVE=','bG9hZEJ5SWQ=','V1FBTVE=','S0VESXQ=','ZnJvbSBkYi4uLg==','ZlR1','YXBwbHk=','UHJzemw=','QVdKc2g=','bm9m','U0RU','ZXJyb3I=','VnVvdko=','bG9hZENvbmZpZw==','YnVzaW5lc3NJZA==','bmFzSWQ=','YWNjZXNzUG9pbnRUeXBl','dGhlbWVDb25maWc=','Y29udHJvbGxlcg==','c2VsZWN0ZWRUaGVtZUlk','dGVtcGxhdGU=','bG9hZGluZyBuYXMgaWQ=','RHlR','OHwyfDF8NHw1fDB8N3w2fDM=','SEtp','MHwyfDF8NHw2fDN8NQ==','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','dFho','SHl1','cmpa','YWhl','aW52YWxpZCBtYWMgYWRkcmVzcw==','WE9nS0k=','c3BsaXQ=','eWlFU0w=','b010RG8=','Tk5IRms=','RWpCRHU=','RUJsQkc=','YW9sZk4=','ZmluZEJ5SWQ=','dGhlbg==','ZGVidWc=','bWVzc2FnZQ==','cm91dGVyTm90Rm91bmQ=','c3RhdHVz','bG9hZGVkIG5hcyA=','aEJ3dXk=','WGRMamI=','TnhoQ0I=','Y29uc29sZQ==','cUZXbG4=','UGhaR1A=','Q1NZaEY=','d2Fybg==','bG9n','aW5mbw==','dHJhY2U=','TmpFZEM=','R1lL','Vk5SemU=','aVptTlQ=','ZXhjZXB0aW9u','U2FoQUQ=','RG9maXE=','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmln','Li4vLi4vc2VydmVyL21vZHVsZXMvaG90c3BvdE1lc3NhZ2Vz','Li4vLi4vc2VydmVyL21vZHVsZXMvaHNwQ2FjaGU=','ZXhwb3J0cw==','UVpE','LnppcA==','Zm9sZGVy','cmtU','a3pY','eUhD','RnpB','bmFzIGNyZWF0ZWQgOiA=','cm5G','Q3Rq','RW1w','VkJ3','aWZv','eVFK','TFZM','bG9hZGVk','bG9hZFJvdXRlckluZm8=','c3RyaW5n','bG9hZFJhZGl1c0luZm8=','Ym5nSE0=','VUlUeGg=','emlwSXQ=','U0NSSVBUUw==','dnNkdUI='];(function(_0x12c289,_0x3376b8){var _0x9e28d5=function(_0x33cb58){while(--_0x33cb58){_0x12c289['push'](_0x12c289['shift']());}};var _0x4875f0=function(){var _0x3f8b51={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5bab31,_0x114bba,_0x429ecf,_0x1d4a9c){_0x1d4a9c=_0x1d4a9c||{};var _0x17953f=_0x114bba+'='+_0x429ecf;var _0x2953b8=0x0;for(var _0x2953b8=0x0,_0x123ed2=_0x5bab31['length'];_0x2953b8<_0x123ed2;_0x2953b8++){var _0x213269=_0x5bab31[_0x2953b8];_0x17953f+=';\x20'+_0x213269;var _0x540865=_0x5bab31[_0x213269];_0x5bab31['push'](_0x540865);_0x123ed2=_0x5bab31['length'];if(_0x540865!==!![]){_0x17953f+='='+_0x540865;}}_0x1d4a9c['cookie']=_0x17953f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x22efc0,_0x4d8763){_0x22efc0=_0x22efc0||function(_0x5659f4){return _0x5659f4;};var _0x1dc4e9=_0x22efc0(new RegExp('(?:^|;\x20)'+_0x4d8763['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0xdc0513=function(_0x5eb37,_0x3e24ec){_0x5eb37(++_0x3e24ec);};_0xdc0513(_0x9e28d5,_0x3376b8);return _0x1dc4e9?decodeURIComponent(_0x1dc4e9[0x1]):undefined;}};var _0x41acaf=function(){var _0x2ae2f9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2ae2f9['test'](_0x3f8b51['removeCookie']['toString']());};_0x3f8b51['updateCookie']=_0x41acaf;var _0x8d862f='';var _0xa4e728=_0x3f8b51['updateCookie']();if(!_0xa4e728){_0x3f8b51['setCookie'](['*'],'counter',0x1);}else if(_0xa4e728){_0x8d862f=_0x3f8b51['getCookie'](null,'counter');}else{_0x3f8b51['removeCookie']();}};_0x4875f0();}(_0xc21e,0x17e));var _0xec21=function(_0xf04c6d,_0xe98786){_0xf04c6d=_0xf04c6d-0x0;var _0x4a804e=_0xc21e[_0xf04c6d];if(_0xec21['initialized']===undefined){(function(){var _0x3fd8f2;try{var _0x4045d3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3fd8f2=_0x4045d3();}catch(_0x292b7e){_0x3fd8f2=window;}var _0x37afd9='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3fd8f2['atob']||(_0x3fd8f2['atob']=function(_0x365fda){var _0x4522c2=String(_0x365fda)['replace'](/=+$/,'');for(var _0x46f819=0x0,_0x34c5fb,_0x1126a3,_0x31c4f3=0x0,_0x2467a5='';_0x1126a3=_0x4522c2['charAt'](_0x31c4f3++);~_0x1126a3&&(_0x34c5fb=_0x46f819%0x4?_0x34c5fb*0x40+_0x1126a3:_0x1126a3,_0x46f819++%0x4)?_0x2467a5+=String['fromCharCode'](0xff&_0x34c5fb>>(-0x2*_0x46f819&0x6)):0x0){_0x1126a3=_0x37afd9['indexOf'](_0x1126a3);}return _0x2467a5;});}());_0xec21['base64DecodeUnicode']=function(_0x598ff3){var _0x4c10bf=atob(_0x598ff3);var _0x1cff60=[];for(var _0x56f1e3=0x0,_0x58d663=_0x4c10bf['length'];_0x56f1e3<_0x58d663;_0x56f1e3++){_0x1cff60+='%'+('00'+_0x4c10bf['charCodeAt'](_0x56f1e3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1cff60);};_0xec21['data']={};_0xec21['initialized']=!![];}var _0x43a2a6=_0xec21['data'][_0xf04c6d];if(_0x43a2a6===undefined){var _0x1c8459=function(_0x3273c2){this['rc4Bytes']=_0x3273c2;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1c8459['prototype']['checkState']=function(){var _0x5b962d=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x5b962d['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x1c8459['prototype']['runState']=function(_0x517624){if(!Boolean(~_0x517624)){return _0x517624;}return this['getState'](this['rc4Bytes']);};_0x1c8459['prototype']['getState']=function(_0x3f5cad){for(var _0xa672e8=0x0,_0x16c4fb=this['states']['length'];_0xa672e8<_0x16c4fb;_0xa672e8++){this['states']['push'](Math['round'](Math['random']()));_0x16c4fb=this['states']['length'];}return _0x3f5cad(this['states'][0x0]);};new _0x1c8459(_0xec21)['checkState']();_0x4a804e=_0xec21['base64DecodeUnicode'](_0x4a804e);_0xec21['data'][_0xf04c6d]=_0x4a804e;}else{_0x4a804e=_0x43a2a6;}return _0x4a804e;};var _0x1a47db=function(){var _0x1203f=!![];return function(_0x554bbc,_0x365f0a){var _0x3531d0=_0x1203f?function(){if(_0x365f0a){var _0x4b7de4=_0x365f0a['apply'](_0x554bbc,arguments);_0x365f0a=null;return _0x4b7de4;}}:function(){};_0x1203f=![];return _0x3531d0;};}();var _0x488cac=_0x1a47db(this,function(){var _0x720f4e=function(){return'\x64\x65\x76';},_0x3ecf86=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x5137b1=function(){var _0x3f5de3=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3f5de3['\x74\x65\x73\x74'](_0x720f4e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xb73acf=function(){var _0x26a790=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x26a790['\x74\x65\x73\x74'](_0x3ecf86['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2f4065=function(_0x2e0ff3){var _0x26bdd5=~-0x1>>0x1+0xff%0x0;if(_0x2e0ff3['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x26bdd5)){_0x593bc3(_0x2e0ff3);}};var _0x593bc3=function(_0x5849a5){var _0x21f800=~-0x4>>0x1+0xff%0x0;if(_0x5849a5['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x21f800){_0x2f4065(_0x5849a5);}};if(!_0x5137b1()){if(!_0xb73acf()){_0x2f4065('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2f4065('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2f4065('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x488cac();var _0x55495c=function(){var _0x344dba={'VuovJ':function _0x946eeb(_0x3c5c9e,_0x562cd2){return _0x3c5c9e(_0x562cd2);},'Prszl':function _0x178b94(_0x57c425,_0x59dc0c,_0x2e88ba){return _0x57c425(_0x59dc0c,_0x2e88ba);},'AWJsh':function _0x309c0b(_0x589149,_0x39a667){return _0x589149!==_0x39a667;},'dRXMH':_0xec21('0x0')};if(_0xec21('0x0')===_0x344dba['dRXMH']){var _0x493ed9=!![];return function(_0xeb5cc5,_0x5ccfe5){var _0x486874=_0x493ed9?function(){if(_0x5ccfe5){var _0x36dc36=_0x5ccfe5[_0xec21('0x1')](_0xeb5cc5,arguments);_0x5ccfe5=null;return _0x36dc36;}}:function(){var _0x41b58b={'LXVoR':function _0x2ac748(_0x9e614,_0x2288a5){return _0x344dba['VuovJ'](_0x9e614,_0x2288a5);},'TMCTj':function _0x277c2a(_0xa15ecd,_0x3c7490,_0x1a79a4){return _0x344dba[_0xec21('0x2')](_0xa15ecd,_0x3c7490,_0x1a79a4);}};if(_0x344dba[_0xec21('0x3')](_0xec21('0x4'),_0xec21('0x5'))){}else{if(_0x5ed930){log[_0xec21('0x6')](_0xcb8728);return _0x344dba[_0xec21('0x7')](_0x5a5615,_0x36a98d);}Business[_0xec21('0x8')](nas[_0xec21('0x9')],function(_0x4d5902,_0x32a8a8){if(_0x294451){log[_0xec21('0x6')](_0x39515b);return _0x41b58b['LXVoR'](_0x2cf14e,_0x152317);}businessConfig[_0xec21('0xa')]=nas['id'];businessConfig[_0xec21('0xb')]=nas[_0xec21('0xb')];businessConfig[_0xec21('0x9')]=nas[_0xec21('0x9')];businessConfig[_0xec21('0xc')][_0xec21('0xd')]=hotspotTemplates[businessConfig[_0xec21('0xe')]][_0xec21('0xd')];businessConfig[_0xec21('0xc')]['template']=hotspotTemplates[businessConfig[_0xec21('0xe')]][_0xec21('0xf')];return _0x41b58b['TMCTj'](_0x4c8028,null,_0x4b35f9);});}};_0x493ed9=![];return _0x486874;};}else{var _0x12a5c8=fn[_0xec21('0x1')](_0x1d8952,_0x46e824);_0x2c6e17=null;return _0x4ef0da;}}();var _0x1cc691=_0x55495c(this,function(){var _0x42971c={'xQdpF':_0xec21('0x10'),'hBwuy':function _0x5c5248(_0x2220c2,_0x2ca1db,_0x1f5f48){return _0x2220c2(_0x2ca1db,_0x1f5f48);},'CSYhF':_0xec21('0x11'),'OMnNU':_0xec21('0x12'),'sNkrk':function _0x5bda3c(_0xae9921,_0x330757){return _0xae9921!==_0x330757;},'IWyer':_0xec21('0x13'),'XOgKI':_0xec21('0x14'),'yiESL':function _0x213821(_0x3487d5,_0x588873){return _0x3487d5(_0x588873);},'KgmvS':function _0x39885f(_0x247989,_0x420ab6,_0x1ec5b3){return _0x247989(_0x420ab6,_0x1ec5b3);},'oMtDo':'mxE','NNHFk':function _0x508697(_0x4dfff2,_0x1d6cff){return _0x4dfff2+_0x1d6cff;},'EjBDu':function _0x35d053(_0x39db83,_0x264f30){return _0x39db83+_0x264f30;},'EBlBG':_0xec21('0x15'),'aolfN':_0xec21('0x16'),'XdLjb':_0xec21('0x17'),'wPXkr':_0xec21('0x18'),'NxhCB':function _0x39be0b(_0x46ec7b,_0x212bef){return _0x46ec7b(_0x212bef);},'qFWln':function _0x4341cb(_0x3595b4,_0x579d13){return _0x3595b4===_0x579d13;},'PhZGP':_0xec21('0x19'),'NjEdC':function _0x2bca35(_0x27c464,_0x394b8c){return _0x27c464!==_0x394b8c;},'VNRze':_0xec21('0x1a'),'iZmNT':'3|6|0|2|1|4|5','SahAD':function _0x50cf4e(_0x489ed9,_0x13e035){return _0x489ed9(_0x13e035);},'Dofiq':_0xec21('0x1b')};if(_0x42971c['sNkrk'](_0x42971c['IWyer'],_0x42971c['IWyer'])){var _0x5312cd=_0x42971c[_0xec21('0x1c')][_0xec21('0x1d')]('|'),_0x57ce2d=0x0;while(!![]){switch(_0x5312cd[_0x57ce2d++]){case'0':if(_0x341e3b){log[_0xec21('0x6')](_0x11845a);return _0x42971c[_0xec21('0x1e')](_0x18a4c5,_0x385d43);}continue;case'1':businessConfig['accessPointType']=nas[_0xec21('0xb')];continue;case'2':businessConfig[_0xec21('0xa')]=nas['id'];continue;case'3':businessConfig[_0xec21('0xc')][_0xec21('0xf')]=hotspotTemplates[businessConfig[_0xec21('0xe')]][_0xec21('0xf')];continue;case'4':businessConfig['businessId']=nas[_0xec21('0x9')];continue;case'5':return _0x42971c['KgmvS'](_0x4b353a,null,_0x25d219);continue;case'6':businessConfig[_0xec21('0xc')]['controller']=hotspotTemplates[businessConfig[_0xec21('0xe')]][_0xec21('0xd')];continue;}break;}}else{var _0x4f6ac4=function(){};var _0xa20bf9;try{if(_0x42971c['oMtDo']===_0x42971c[_0xec21('0x1f')]){var _0x49984a=_0x42971c['yiESL'](Function,_0x42971c[_0xec21('0x20')](_0x42971c[_0xec21('0x21')](_0x42971c[_0xec21('0x22')],_0x42971c[_0xec21('0x23')]),');'));_0xa20bf9=_0x49984a();}else{Nas[_0xec21('0x24')](_0x332bb4)[_0xec21('0x25')](function(_0x5d5d4b){log[_0xec21('0x26')](_0x42971c['xQdpF'],_0x2e49af);if(!_0x3256bb){var _0x5b00fd=new _0x432fa1();error[_0xec21('0x27')]=hotspotMessages[_0xec21('0x28')];error[_0xec21('0x29')]=0x194;return _0x23aff9(_0x11051b);}log[_0xec21('0x26')](_0xec21('0x2a'),_0x14f6c9);return _0x42971c[_0xec21('0x2b')](_0x3a72e3,null,_0x1234a0);});}}catch(_0x2935df){if(_0x42971c[_0xec21('0x2c')]===_0x42971c['wPXkr']){var _0x53c131=_0x42971c[_0xec21('0x2d')](_0x2a8ffc,_0x42971c[_0xec21('0x21')](_0x42971c['EjBDu'](_0x42971c['EBlBG'],_0x42971c[_0xec21('0x23')]),');'));_0x8eda49=_0x2b4eb1();}else{_0xa20bf9=window;}}if(!_0xa20bf9[_0xec21('0x2e')]){if(_0x42971c[_0xec21('0x2f')](_0xec21('0x19'),_0x42971c[_0xec21('0x30')])){_0xa20bf9[_0xec21('0x2e')]=function(_0x25b11c){if(_0x42971c[_0xec21('0x31')]===_0x42971c[_0xec21('0x31')]){var _0x5674fb=_0x42971c['OMnNU']['split']('|'),_0x4385d5=0x0;while(!![]){switch(_0x5674fb[_0x4385d5++]){case'0':_0x19bc19['error']=_0x25b11c;continue;case'1':_0x19bc19[_0xec21('0x32')]=_0x25b11c;continue;case'2':_0x19bc19[_0xec21('0x33')]=_0x25b11c;continue;case'3':return _0x19bc19;continue;case'4':_0x19bc19[_0xec21('0x26')]=_0x25b11c;continue;case'5':_0x19bc19[_0xec21('0x34')]=_0x25b11c;continue;case'6':_0x19bc19[_0xec21('0x35')]=_0x25b11c;continue;case'7':_0x19bc19['exception']=_0x25b11c;continue;case'8':var _0x19bc19={};continue;}break;}}else{_0xa20bf9[_0xec21('0x2e')][_0xec21('0x33')]=_0x2c18bd;_0xa20bf9[_0xec21('0x2e')]['warn']=_0x51a5d0;_0xa20bf9[_0xec21('0x2e')]['debug']=_0x238eb3;_0xa20bf9[_0xec21('0x2e')][_0xec21('0x34')]=_0x4eed5a;_0xa20bf9[_0xec21('0x2e')][_0xec21('0x6')]=_0x4e0306;_0xa20bf9[_0xec21('0x2e')]['exception']=_0x2d7509;_0xa20bf9[_0xec21('0x2e')]['trace']=_0x5af07a;}}(_0x4f6ac4);}else{log[_0xec21('0x6')](_0x5b0c0f);return _0x152d5e(_0x556f47);}}else{if(_0x42971c[_0xec21('0x36')](_0xec21('0x37'),_0x42971c[_0xec21('0x38')])){var _0x121822=_0x42971c[_0xec21('0x39')][_0xec21('0x1d')]('|'),_0x408d9e=0x0;while(!![]){switch(_0x121822[_0x408d9e++]){case'0':_0xa20bf9['console'][_0xec21('0x26')]=_0x4f6ac4;continue;case'1':_0xa20bf9[_0xec21('0x2e')][_0xec21('0x6')]=_0x4f6ac4;continue;case'2':_0xa20bf9['console']['info']=_0x4f6ac4;continue;case'3':_0xa20bf9[_0xec21('0x2e')][_0xec21('0x33')]=_0x4f6ac4;continue;case'4':_0xa20bf9[_0xec21('0x2e')][_0xec21('0x3a')]=_0x4f6ac4;continue;case'5':_0xa20bf9[_0xec21('0x2e')]['trace']=_0x4f6ac4;continue;case'6':_0xa20bf9[_0xec21('0x2e')][_0xec21('0x32')]=_0x4f6ac4;continue;}break;}}else{return _0x42971c[_0xec21('0x3b')](_0x4b7744,_0x42971c[_0xec21('0x3c')]);}}}});_0x1cc691();var logger=require(_0xec21('0x3d'));var app=require(_0xec21('0x3e'));var utility=require(_0xec21('0x3f'));var config=require(_0xec21('0x40'));var Q=require('q');var hotspotMessages=require(_0xec21('0x41'));var hotspotTemplates=require('../../server/modules/hotspotTemplates');const hspCache=require(_0xec21('0x42'));module[_0xec21('0x43')]=function(_0x479c66){var _0x359416={'vsduB':function _0x1c70f4(_0x386d49,_0xd0f9dd){return _0x386d49(_0xd0f9dd);},'qWXZy':function _0x5b2035(_0x102ac6,_0x10da5f){return _0x102ac6!==_0x10da5f;},'eOndV':'UIn','eGTcK':_0xec21('0x44'),'YniCX':'Tez','UITxh':'nasScripts','LAtdC':function _0xfd6d35(_0x30eca8,_0x252f3c){return _0x30eca8+_0x252f3c;},'EpLxa':_0xec21('0x45'),'QOQQi':_0xec21('0x46'),'WnvZo':_0xec21('0x47'),'QtrLY':_0xec21('0x48'),'FKplt':function _0x3eb762(_0xe22d93,_0x408ab5){return _0xe22d93===_0x408ab5;},'QTZdE':_0xec21('0x49'),'PtclE':_0xec21('0x4a'),'mpCnI':function _0x15bc25(_0x512102,_0x556d66){return _0x512102(_0x556d66);},'FtjpN':'invalid\x20mac\x20address','RYCdM':function _0x1c3cda(_0x15a8bf,_0x1fbe9a){return _0x15a8bf+_0x1fbe9a;},'imdnJ':_0xec21('0x4b'),'QjNIx':'loading\x20nas\x20id','MMFrP':function _0x10bcb8(_0x146a9f,_0x38048c){return _0x146a9f(_0x38048c);},'DsDYg':'loaded\x20nas\x20','fZvsv':_0xec21('0x4c'),'baALS':_0xec21('0x4d'),'OvirW':'Qqo','kjjUR':_0xec21('0x4e'),'MorWe':_0xec21('0x4f'),'swQvM':function _0x499a38(_0x3ec69d,_0x6a2dd5,_0x307187){return _0x3ec69d(_0x6a2dd5,_0x307187);},'yYWAZ':function _0x197445(_0x446a67,_0x37c269){return _0x446a67(_0x37c269);},'WQAMQ':_0xec21('0x50'),'KEDIt':_0xec21('0x51'),'bngHM':_0xec21('0x52'),'TakvY':function _0x599645(_0x59e2ed,_0x49cd73){return _0x59e2ed+_0x49cd73;},'jdzDE':_0xec21('0x53'),'dTfkP':_0xec21('0x54'),'FIgkL':_0xec21('0xa'),'njeEe':_0xec21('0x55'),'AvnRp':'loadThemeConfigById','slKir':_0xec21('0x56')};if(_0x359416['qWXZy']('LVL',_0x359416[_0xec21('0x57')])){var _0x51326f=_0x359416[_0xec21('0x58')];utility[_0xec21('0x59')](_0x359416['TakvY'](_0x109eae,'.zip'),[{'_0x83416c':'folder','_0x39069b':'hotspotplus','_0x4bf7cd':config[_0xec21('0x5a')]['MIKROTIK_HOTSPOT_PAGES']}])['then'](function(_0x33c8b5){_0x82c13a['debug'](_0x341278);return _0x359416[_0xec21('0x5b')](_0x1efda2,_0x543ec9);})['fail'](function(_0xe6e5b6){_0x82c13a[_0xec21('0x6')](_0x3eff4e);return _0x359416['vsduB'](_0x8cad6c,_0x1f3af0);});}else{_0x479c66[_0xec21('0x5c')](_0xec21('0x5d'));var _0x82c13a=logger[_0xec21('0x5e')]();_0x479c66['observe'](_0x359416[_0xec21('0x5f')],function(_0x91529a,_0x34398d){if(_0x91529a['data']){if(_0x359416[_0xec21('0x60')](_0x359416[_0xec21('0x61')],_0x359416['eOndV'])){var _0x187d58=new _0x367b5c();error['message']=hotspotMessages[_0xec21('0x28')];error[_0xec21('0x29')]=0x194;return _0x137c86(_0x1669eb);}else{if(_0x91529a['data'][_0xec21('0xb')]){if(_0x359416['qWXZy'](_0x359416[_0xec21('0x62')],_0x359416[_0xec21('0x63')])){_0x91529a[_0xec21('0x64')]['accessPointType']=_0x91529a[_0xec21('0x64')]['accessPointType'][_0xec21('0x65')]();}else{return config[_0xec21('0x66')];}}}}_0x34398d();});_0x479c66[_0xec21('0x67')](_0xec21('0x68'),function(_0x59371f,_0x343b61){var _0x2934a0={'cCAtR':function _0x54d744(_0x40b3f8,_0x495c3b){return _0x359416[_0xec21('0x5b')](_0x40b3f8,_0x495c3b);}};if(_0x359416['qWXZy'](_0xec21('0x69'),_0xec21('0x69'))){var _0x88a105=app[_0xec21('0x6a')]['Business'];return Q[_0xec21('0x6b')](function(_0x27ec39,_0x9433e6){var _0xf21e02=_0x359416[_0xec21('0x58')];utility[_0xec21('0x59')](_0x359416['LAtdC'](_0x1457b7,_0x359416['EpLxa']),[{'_0x15819f':_0x359416[_0xec21('0x6c')],'_0x48a784':_0xec21('0x6d'),'_0x363050':config[_0xec21('0x5a')]['MIKROTIK_HOTSPOT_PAGES']}])[_0xec21('0x25')](function(_0x35f79f){_0x82c13a[_0xec21('0x26')](_0x27b4b6);return _0x2fe7be(_0x24b51e);})[_0xec21('0x6e')](function(_0x3cebee){_0x82c13a['error'](_0x347591);return _0x2934a0[_0xec21('0x6f')](_0x165606,_0x4f37b7);});});}else{if(_0x59371f[_0xec21('0x70')]&&_0x59371f[_0xec21('0x71')]){if(_0x359416['qWXZy'](_0x359416[_0xec21('0x72')],_0xec21('0x47'))){}else{_0x59371f['instance'][_0xec21('0x73')]=_0x59371f['instance'][_0xec21('0x74')]=new Date();if(_0x59371f[_0xec21('0x70')][_0xec21('0x75')]){if(_0x359416['qWXZy'](_0xec21('0x76'),_0x359416['QtrLY'])){if(_0x59371f[_0xec21('0x70')][_0xec21('0x75')][_0xec21('0x77')](/[a-z]/i)){_0x59371f[_0xec21('0x70')][_0xec21('0x75')]=utility[_0xec21('0x78')](_0x59371f[_0xec21('0x70')]['mac']);_0x59371f['instance']['id']=_0x59371f[_0xec21('0x70')][_0xec21('0x75')];}else{if(_0x359416[_0xec21('0x79')](_0x359416['QTZdE'],_0x359416[_0xec21('0x7a')])){_0x82c13a[_0xec21('0x6')](_0x5430a2);return _0x359416['mpCnI'](_0xcd3cd4,_0x539a03);}else{return _0x359416[_0xec21('0x7b')](_0x343b61,_0x359416['FtjpN']);}}}else{_0x59371f[_0xec21('0x5d')]=_0x59371f[_0xec21('0x70')]['ip']+_0x59371f[_0xec21('0x70')][_0xec21('0x7c')];}}if(_0x59371f[_0xec21('0x70')]['ip']&&_0x59371f['instance']['port']){_0x59371f[_0xec21('0x5d')]=_0x359416[_0xec21('0x7d')](_0x59371f['instance']['ip'],_0x59371f[_0xec21('0x70')][_0xec21('0x7c')]);}_0x82c13a[_0xec21('0x26')](_0x359416[_0xec21('0x7e')],_0x59371f[_0xec21('0x70')]);}}_0x343b61();}});_0x479c66['loadRouterInfo']=function(_0x32a698,_0x32e443){if(_0x359416[_0xec21('0x60')]('rnF',_0x359416['fZvsv'])){return _0x15a963;}else{_0x479c66[_0xec21('0x24')](_0x32a698)['then'](function(_0x2561e6){_0x82c13a[_0xec21('0x26')](_0x359416['QjNIx'],_0x32a698);if(!_0x2561e6){var _0x38a06b=new Error();_0x38a06b['message']=hotspotMessages['routerNotFound'];_0x38a06b[_0xec21('0x29')]=0x194;return _0x359416[_0xec21('0x7f')](_0x32e443,_0x38a06b);}_0x82c13a[_0xec21('0x26')](_0x359416['DsDYg'],_0x2561e6);return _0x32e443(null,_0x2561e6);});}};_0x479c66[_0xec21('0x80')](_0x359416[_0xec21('0x81')],{'description':'Load\x20router\x20info','accepts':[{'arg':_0x359416[_0xec21('0x82')],'type':_0x359416[_0xec21('0x83')],'required':!![]}],'returns':{'root':!![]}});_0x479c66['loadThemeConfigById']=function(_0x1741ed,_0x773622){var _0x3ea65d={'xaXof':function _0x1ad45d(_0x40278f,_0x4b95ab){return _0x40278f!==_0x4b95ab;},'TfQVO':_0x359416[_0xec21('0x84')],'SIkrH':_0x359416['MorWe'],'SmrYc':function _0x41cfdd(_0x1e23c0,_0x3f37ee){return _0x1e23c0(_0x3f37ee);},'NWQGy':function _0x39babf(_0x451cd1){return _0x451cd1();},'SgbLH':function _0xe4fb52(_0x17bac6,_0x35c233,_0x4dfa34){return _0x359416[_0xec21('0x85')](_0x17bac6,_0x35c233,_0x4dfa34);}};var _0x2290fa=app[_0xec21('0x6a')][_0xec21('0x86')];var _0x19677b=app['models'][_0xec21('0x87')];_0x479c66[_0xec21('0x54')](_0x1741ed,function(_0x67ac01,_0x1ec203){if(_0x67ac01){if(_0x359416[_0xec21('0x79')](_0x359416[_0xec21('0x88')],_0x359416[_0xec21('0x89')])){var _0x5270e7=_0x2f38fa?function(){if(_0x346c89){var _0x1cfae8=fn[_0xec21('0x1')](_0x4a7e7f,_0x36d14d);_0xe0997f=null;return _0x5e83e7;}}:function(){};_0x1979f1=![];return _0x236dfc;}else{_0x82c13a[_0xec21('0x6')](_0x67ac01);return _0x773622(_0x67ac01);}}_0x2290fa[_0xec21('0x8')](_0x1ec203[_0xec21('0x9')],function(_0x5889d2,_0x13f7c8){if(_0x5889d2){if(_0x3ea65d[_0xec21('0x8a')](_0x3ea65d[_0xec21('0x8b')],_0x3ea65d[_0xec21('0x8c')])){_0x82c13a[_0xec21('0x6')](_0x5889d2);return _0x3ea65d['SmrYc'](_0x773622,_0x5889d2);}else{if(ctx[_0xec21('0x64')]){if(ctx[_0xec21('0x64')][_0xec21('0xb')]){ctx[_0xec21('0x64')][_0xec21('0xb')]=ctx[_0xec21('0x64')][_0xec21('0xb')]['toLowerCase']();}}_0x3ea65d[_0xec21('0x8d')](_0x9c668c);}}_0x13f7c8[_0xec21('0xa')]=_0x1ec203['id'];_0x13f7c8['accessPointType']=_0x1ec203[_0xec21('0xb')];_0x13f7c8['businessId']=_0x1ec203['businessId'];_0x13f7c8[_0xec21('0xc')][_0xec21('0xd')]=hotspotTemplates[_0x13f7c8['selectedThemeId']]['controller'];_0x13f7c8[_0xec21('0xc')][_0xec21('0xf')]=hotspotTemplates[_0x13f7c8[_0xec21('0xe')]][_0xec21('0xf')];return _0x3ea65d[_0xec21('0x8e')](_0x773622,null,_0x13f7c8);});});};_0x479c66[_0xec21('0x80')](_0x359416[_0xec21('0x8f')],{'description':'Load\x20loadThemeConfigById\x20','accepts':[{'arg':_0x359416['FIgkL'],'type':_0x359416['njeEe'],'required':!![]}],'returns':{'root':!![]}});_0x479c66[_0xec21('0x56')]=function(_0x1cd79a){return _0x1cd79a(null,{'radiusIp':config['RADIUS_IP'],'secondRadiusIp':config[_0xec21('0x90')],'accountingPort':config[_0xec21('0x91')],'authenticationPort':config[_0xec21('0x92')]});};_0x479c66[_0xec21('0x80')](_0x359416[_0xec21('0x93')],{'description':_0xec21('0x94'),'accepts':[],'returns':{'root':!![]}});_0x479c66[_0xec21('0x95')]=function(_0x59038b,_0xf74ffc){var _0x30b052={'KDSYQ':function _0x47bb4f(_0x2113d6,_0x37527f){return _0x359416[_0xec21('0x96')](_0x2113d6,_0x37527f);}};var _0x1f2a82=app['models'][_0xec21('0x86')];return Q['promise'](function(_0x18bd01,_0x536816){var _0x3ea49a={'RFHEZ':function _0xeab15d(_0x180c0a,_0x490f65){return _0x359416[_0xec21('0x96')](_0x180c0a,_0x490f65);}};var _0x40e672=_0x359416[_0xec21('0x58')];utility[_0xec21('0x59')](_0x359416['RYCdM'](_0x40e672,_0x359416[_0xec21('0x97')]),[{'type':_0x359416[_0xec21('0x6c')],'name':'hotspotplus','files':config[_0xec21('0x5a')]['MIKROTIK_HOTSPOT_PAGES']}])[_0xec21('0x25')](function(_0x3b7b8f){_0x82c13a[_0xec21('0x26')](_0x3b7b8f);return _0x3ea49a[_0xec21('0x98')](_0x18bd01,_0x3b7b8f);})[_0xec21('0x6e')](function(_0x2efc55){_0x82c13a['error'](_0x2efc55);return _0x30b052[_0xec21('0x99')](_0x536816,_0x2efc55);});});};_0x479c66['getNasCredential']=function(){return config[_0xec21('0x66')];};_0x479c66[_0xec21('0x9a')]=async _0x5ad788=>{if(_0x359416[_0xec21('0x9b')]!==_0x359416[_0xec21('0x9c')]){const _0x203f3c=await hspCache['readFromCache'](_0x5ad788);if(_0x203f3c){return _0x203f3c;}const _0x2ac41a=await _0x479c66[_0xec21('0x24')](_0x5ad788);_0x82c13a[_0xec21('0x32')](_0xec21('0x9d'),_0x2ac41a);hspCache['cacheIt'](_0x5ad788,_0x2ac41a);return _0x2ac41a;}else{_0x44de27=_0x2f695d;}};}};