var _0xf9d5=['bG9hZEJ5SWQ=','cmVhZEZyb21DYWNoZQ==','ZnJvbSBkYi4uLg==','Y2FjaGVJdA==','YXBwbHk=','cmV0dXJuIChmdW5jdGlvbigpIA==','Y29uc29sZQ==','bG9n','d2Fybg==','ZGVidWc=','aW5mbw==','ZXhjZXB0aW9u','dHJhY2U=','ZXJyb3I=','Li4vLi4vc2VydmVyL3NlcnZlcg==','Li4vLi4vc2VydmVyL21vZHVsZXMvdXRpbGl0eQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvaG90c3BvdFRlbXBsYXRlcw==','Li4vLi4vc2VydmVyL21vZHVsZXMvaHNwQ2FjaGU=','ZXhwb3J0cw==','dmFsaWRhdGVzVW5pcXVlbmVzc09m','b2JzZXJ2ZQ==','ZGF0YQ==','YWNjZXNzUG9pbnRUeXBl','dG9Mb3dlckNhc2U=','YmVmb3JlIHNhdmU=','aW5zdGFuY2U=','bWFj','dHJpbU1hYw==','aW52YWxpZCBtYWMgYWRkcmVzcw==','cG9ydA==','bmFzSXBQb3J0S2V5','bmFzIGNyZWF0ZWQgOiA=','bG9hZFJvdXRlckluZm8=','ZmluZEJ5SWQ=','dGhlbg==','cm91dGVyTm90Rm91bmQ=','cmVtb3RlTWV0aG9k','TG9hZCByb3V0ZXIgaW5mbw==','bmFzSWQ=','c3RyaW5n','bG9hZFRoZW1lQ29uZmlnQnlJZA==','QnVzaW5lc3M=','bW9kZWxz','VGhlbWU=','YnVzaW5lc3NJZA==','dGhlbWVDb25maWc=','Y29udHJvbGxlcg==','c2VsZWN0ZWRUaGVtZUlk','dGVtcGxhdGU=','TG9hZCBsb2FkVGhlbWVDb25maWdCeUlkIA==','bG9hZFJhZGl1c0luZm8=','U0VDT05EX1JBRElVU19JUA==','UkFESVVTX0FDQ19QT1JU','Z2V0TWlrcm90aWtTY3JpcHRz','cHJvbWlzZQ==','bmFzU2NyaXB0cw==','emlwSXQ=','LnppcA==','Zm9sZGVy','aG90c3BvdHBsdXM=','U0NSSVBUUw==','TUlLUk9USUtfSE9UU1BPVF9QQUdFUw==','ZmFpbA==','Z2V0TmFzQ3JlZGVudGlhbA==','UFJJTUFSWV9TSEFSRURfU0VDUkVU'];(function(_0x26d511,_0xbe5604){var _0x28dbdc=function(_0x3f0448){while(--_0x3f0448){_0x26d511['push'](_0x26d511['shift']());}};var _0x87869b=function(){var _0x2e5d1f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x28dc2f,_0x5e6ff4,_0x31188d,_0x1cc92b){_0x1cc92b=_0x1cc92b||{};var _0x3ad3fc=_0x5e6ff4+'='+_0x31188d;var _0x1558df=0x0;for(var _0x1558df=0x0,_0x54ff99=_0x28dc2f['length'];_0x1558df<_0x54ff99;_0x1558df++){var _0x3e2a0f=_0x28dc2f[_0x1558df];_0x3ad3fc+=';\x20'+_0x3e2a0f;var _0x5e06ef=_0x28dc2f[_0x3e2a0f];_0x28dc2f['push'](_0x5e06ef);_0x54ff99=_0x28dc2f['length'];if(_0x5e06ef!==!![]){_0x3ad3fc+='='+_0x5e06ef;}}_0x1cc92b['cookie']=_0x3ad3fc;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2c710f,_0x134ec2){_0x2c710f=_0x2c710f||function(_0x49c7c9){return _0x49c7c9;};var _0x755519=_0x2c710f(new RegExp('(?:^|;\x20)'+_0x134ec2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3fcf69=function(_0x3b8bce,_0x3f907d){_0x3b8bce(++_0x3f907d);};_0x3fcf69(_0x28dbdc,_0xbe5604);return _0x755519?decodeURIComponent(_0x755519[0x1]):undefined;}};var _0x260fc7=function(){var _0x19cab0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x19cab0['test'](_0x2e5d1f['removeCookie']['toString']());};_0x2e5d1f['updateCookie']=_0x260fc7;var _0x3d7126='';var _0x59aca3=_0x2e5d1f['updateCookie']();if(!_0x59aca3){_0x2e5d1f['setCookie'](['*'],'counter',0x1);}else if(_0x59aca3){_0x3d7126=_0x2e5d1f['getCookie'](null,'counter');}else{_0x2e5d1f['removeCookie']();}};_0x87869b();}(_0xf9d5,0x149));var _0x5f9d=function(_0x32b30c,_0x2d5ec8){_0x32b30c=_0x32b30c-0x0;var _0xcfc212=_0xf9d5[_0x32b30c];if(_0x5f9d['initialized']===undefined){(function(){var _0x4970c7;try{var _0x165bec=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4970c7=_0x165bec();}catch(_0x57ff95){_0x4970c7=window;}var _0x1527f9='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x4970c7['atob']||(_0x4970c7['atob']=function(_0xf5146){var _0x517d8d=String(_0xf5146)['replace'](/=+$/,'');for(var _0x247a54=0x0,_0xd41628,_0x2dcbfe,_0x242079=0x0,_0x58a62d='';_0x2dcbfe=_0x517d8d['charAt'](_0x242079++);~_0x2dcbfe&&(_0xd41628=_0x247a54%0x4?_0xd41628*0x40+_0x2dcbfe:_0x2dcbfe,_0x247a54++%0x4)?_0x58a62d+=String['fromCharCode'](0xff&_0xd41628>>(-0x2*_0x247a54&0x6)):0x0){_0x2dcbfe=_0x1527f9['indexOf'](_0x2dcbfe);}return _0x58a62d;});}());_0x5f9d['base64DecodeUnicode']=function(_0x580eeb){var _0x5410a3=atob(_0x580eeb);var _0x549129=[];for(var _0x322744=0x0,_0x4cf30b=_0x5410a3['length'];_0x322744<_0x4cf30b;_0x322744++){_0x549129+='%'+('00'+_0x5410a3['charCodeAt'](_0x322744)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x549129);};_0x5f9d['data']={};_0x5f9d['initialized']=!![];}var _0x579f5e=_0x5f9d['data'][_0x32b30c];if(_0x579f5e===undefined){var _0x165c0c=function(_0x53f96a){this['rc4Bytes']=_0x53f96a;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x165c0c['prototype']['checkState']=function(){var _0x37b4c9=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x37b4c9['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x165c0c['prototype']['runState']=function(_0xd72d22){if(!Boolean(~_0xd72d22)){return _0xd72d22;}return this['getState'](this['rc4Bytes']);};_0x165c0c['prototype']['getState']=function(_0x53f1d0){for(var _0x15893a=0x0,_0x518b5d=this['states']['length'];_0x15893a<_0x518b5d;_0x15893a++){this['states']['push'](Math['round'](Math['random']()));_0x518b5d=this['states']['length'];}return _0x53f1d0(this['states'][0x0]);};new _0x165c0c(_0x5f9d)['checkState']();_0xcfc212=_0x5f9d['base64DecodeUnicode'](_0xcfc212);_0x5f9d['data'][_0x32b30c]=_0xcfc212;}else{_0xcfc212=_0x579f5e;}return _0xcfc212;};var _0x44014c=function(){var _0x1aaef9=!![];return function(_0x25790e,_0x2ce77f){var _0x4910b6=_0x1aaef9?function(){if(_0x2ce77f){var _0x49cbab=_0x2ce77f['apply'](_0x25790e,arguments);_0x2ce77f=null;return _0x49cbab;}}:function(){};_0x1aaef9=![];return _0x4910b6;};}();var _0x12be72=_0x44014c(this,function(){var _0x5011f2=function(){return'\x64\x65\x76';},_0x1b6bc3=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x12d777=function(){var _0x59216a=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x59216a['\x74\x65\x73\x74'](_0x5011f2['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xf65ff4=function(){var _0x50e534=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x50e534['\x74\x65\x73\x74'](_0x1b6bc3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x536f7c=function(_0x1e880e){var _0x2881a1=~-0x1>>0x1+0xff%0x0;if(_0x1e880e['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2881a1)){_0x1189a6(_0x1e880e);}};var _0x1189a6=function(_0x59fb17){var _0x2a4d24=~-0x4>>0x1+0xff%0x0;if(_0x59fb17['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x2a4d24){_0x536f7c(_0x59fb17);}};if(!_0x12d777()){if(!_0xf65ff4()){_0x536f7c('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x536f7c('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x536f7c('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x12be72();var _0x2d66d3=function(){var _0x52828c=!![];return function(_0xf2d5eb,_0x1c785c){var _0x11e662=_0x52828c?function(){if(_0x1c785c){var _0x1f6347=_0x1c785c[_0x5f9d('0x0')](_0xf2d5eb,arguments);_0x1c785c=null;return _0x1f6347;}}:function(){};_0x52828c=![];return _0x11e662;};}();var _0x286c60=_0x2d66d3(this,function(){var _0xdd68fd=function(){};var _0x27449e;try{var _0x4df7fd=Function(_0x5f9d('0x1')+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x27449e=_0x4df7fd();}catch(_0x24999e){_0x27449e=window;}if(!_0x27449e[_0x5f9d('0x2')]){_0x27449e['console']=function(_0x3420b2){var _0x23e865={};_0x23e865[_0x5f9d('0x3')]=_0x3420b2;_0x23e865[_0x5f9d('0x4')]=_0x3420b2;_0x23e865[_0x5f9d('0x5')]=_0x3420b2;_0x23e865[_0x5f9d('0x6')]=_0x3420b2;_0x23e865['error']=_0x3420b2;_0x23e865[_0x5f9d('0x7')]=_0x3420b2;_0x23e865[_0x5f9d('0x8')]=_0x3420b2;return _0x23e865;}(_0xdd68fd);}else{_0x27449e['console']['log']=_0xdd68fd;_0x27449e[_0x5f9d('0x2')][_0x5f9d('0x4')]=_0xdd68fd;_0x27449e[_0x5f9d('0x2')]['debug']=_0xdd68fd;_0x27449e[_0x5f9d('0x2')][_0x5f9d('0x6')]=_0xdd68fd;_0x27449e[_0x5f9d('0x2')][_0x5f9d('0x9')]=_0xdd68fd;_0x27449e['console'][_0x5f9d('0x7')]=_0xdd68fd;_0x27449e[_0x5f9d('0x2')][_0x5f9d('0x8')]=_0xdd68fd;}});_0x286c60();var logger=require('../../server/modules/logger');var app=require(_0x5f9d('0xa'));var utility=require(_0x5f9d('0xb'));var config=require('../../server/modules/config');var Q=require('q');var hotspotMessages=require('../../server/modules/hotspotMessages');var hotspotTemplates=require(_0x5f9d('0xc'));const hspCache=require(_0x5f9d('0xd'));module[_0x5f9d('0xe')]=function(_0x26a76a){_0x26a76a[_0x5f9d('0xf')]('nasIpPortKey');var _0x587a05=logger['createLogger']();_0x26a76a[_0x5f9d('0x10')]('loaded',function(_0x432f1a,_0x48448e){if(_0x432f1a[_0x5f9d('0x11')]){if(_0x432f1a[_0x5f9d('0x11')][_0x5f9d('0x12')]){_0x432f1a['data'][_0x5f9d('0x12')]=_0x432f1a[_0x5f9d('0x11')][_0x5f9d('0x12')][_0x5f9d('0x13')]();}}_0x48448e();});_0x26a76a[_0x5f9d('0x10')](_0x5f9d('0x14'),function(_0x32adab,_0x2563d5){if(_0x32adab[_0x5f9d('0x15')]&&_0x32adab['isNewInstance']){_0x32adab['instance']['creationDate']=_0x32adab[_0x5f9d('0x15')]['updateDate']=new Date();if(_0x32adab[_0x5f9d('0x15')]['mac']){if(_0x32adab[_0x5f9d('0x15')]['mac']['match'](/[a-z]/i)){_0x32adab['instance'][_0x5f9d('0x16')]=utility[_0x5f9d('0x17')](_0x32adab[_0x5f9d('0x15')][_0x5f9d('0x16')]);_0x32adab['instance']['id']=_0x32adab[_0x5f9d('0x15')][_0x5f9d('0x16')];}else{return _0x2563d5(_0x5f9d('0x18'));}}if(_0x32adab[_0x5f9d('0x15')]['ip']&&_0x32adab[_0x5f9d('0x15')][_0x5f9d('0x19')]){_0x32adab[_0x5f9d('0x1a')]=_0x32adab[_0x5f9d('0x15')]['ip']+_0x32adab[_0x5f9d('0x15')][_0x5f9d('0x19')];}_0x587a05['debug'](_0x5f9d('0x1b'),_0x32adab[_0x5f9d('0x15')]);}_0x2563d5();});_0x26a76a[_0x5f9d('0x1c')]=function(_0x13cc7c,_0x10e542){_0x26a76a[_0x5f9d('0x1d')](_0x13cc7c)[_0x5f9d('0x1e')](function(_0x101a80){_0x587a05[_0x5f9d('0x5')]('loading\x20nas\x20id',_0x13cc7c);if(!_0x101a80){var _0x4ed27d=new Error();_0x4ed27d['message']=hotspotMessages[_0x5f9d('0x1f')];_0x4ed27d['status']=0x194;return _0x10e542(_0x4ed27d);}_0x587a05[_0x5f9d('0x5')]('loaded\x20nas\x20',_0x101a80);return _0x10e542(null,_0x101a80);});};_0x26a76a[_0x5f9d('0x20')]('loadRouterInfo',{'description':_0x5f9d('0x21'),'accepts':[{'arg':_0x5f9d('0x22'),'type':_0x5f9d('0x23'),'required':!![]}],'returns':{'root':!![]}});_0x26a76a[_0x5f9d('0x24')]=function(_0x3c46e8,_0x5a8b7d){var _0x42ba29=app['models'][_0x5f9d('0x25')];var _0x4822bc=app[_0x5f9d('0x26')][_0x5f9d('0x27')];_0x26a76a['loadRouterInfo'](_0x3c46e8,function(_0x526cce,_0x97826c){if(_0x526cce){_0x587a05[_0x5f9d('0x9')](_0x526cce);return _0x5a8b7d(_0x526cce);}_0x42ba29['loadConfig'](_0x97826c[_0x5f9d('0x28')],function(_0x3f20c4,_0x20ae2c){if(_0x3f20c4){_0x587a05[_0x5f9d('0x9')](_0x3f20c4);return _0x5a8b7d(_0x3f20c4);}_0x20ae2c[_0x5f9d('0x22')]=_0x97826c['id'];_0x20ae2c['accessPointType']=_0x97826c[_0x5f9d('0x12')];_0x20ae2c[_0x5f9d('0x28')]=_0x97826c[_0x5f9d('0x28')];_0x20ae2c[_0x5f9d('0x29')][_0x5f9d('0x2a')]=hotspotTemplates[_0x20ae2c[_0x5f9d('0x2b')]]['controller'];_0x20ae2c[_0x5f9d('0x29')][_0x5f9d('0x2c')]=hotspotTemplates[_0x20ae2c[_0x5f9d('0x2b')]]['template'];return _0x5a8b7d(null,_0x20ae2c);});});};_0x26a76a['remoteMethod'](_0x5f9d('0x24'),{'description':_0x5f9d('0x2d'),'accepts':[{'arg':_0x5f9d('0x22'),'type':_0x5f9d('0x23'),'required':!![]}],'returns':{'root':!![]}});_0x26a76a[_0x5f9d('0x2e')]=function(_0x537a52){return _0x537a52(null,{'radiusIp':config['RADIUS_IP'],'secondRadiusIp':config[_0x5f9d('0x2f')],'accountingPort':config[_0x5f9d('0x30')],'authenticationPort':config['RADIUS_AUTH_PORT']});};_0x26a76a[_0x5f9d('0x20')]('loadRadiusInfo',{'description':_0x5f9d('0x21'),'accepts':[],'returns':{'root':!![]}});_0x26a76a[_0x5f9d('0x31')]=function(_0x55595b,_0x6fb378){var _0x451066=app[_0x5f9d('0x26')]['Business'];return Q[_0x5f9d('0x32')](function(_0x24a3c6,_0x148128){var _0x3c43f6=_0x5f9d('0x33');utility[_0x5f9d('0x34')](_0x3c43f6+_0x5f9d('0x35'),[{'type':_0x5f9d('0x36'),'name':_0x5f9d('0x37'),'files':config[_0x5f9d('0x38')][_0x5f9d('0x39')]}])[_0x5f9d('0x1e')](function(_0x43e5a2){_0x587a05[_0x5f9d('0x5')](_0x43e5a2);return _0x24a3c6(_0x43e5a2);})[_0x5f9d('0x3a')](function(_0x3d7e35){_0x587a05[_0x5f9d('0x9')](_0x3d7e35);return _0x148128(_0x3d7e35);});});};_0x26a76a[_0x5f9d('0x3b')]=function(){return config[_0x5f9d('0x3c')];};_0x26a76a[_0x5f9d('0x3d')]=async _0x27795a=>{const _0x270ae8=await hspCache[_0x5f9d('0x3e')](_0x27795a);if(_0x270ae8){return _0x270ae8;}const _0x19f933=await _0x26a76a[_0x5f9d('0x1d')](_0x27795a);_0x587a05[_0x5f9d('0x4')](_0x5f9d('0x3f'),_0x19f933);hspCache[_0x5f9d('0x40')](_0x27795a,_0x19f933);return _0x19f933;};};