var _0x974e=['Z2V0QWN0aXZlTWVtYmVyU2Vzc2lvbnM=','eU5jT3o=','TnJ6','Z2V0TWVtYmVyU2Vzc2lvbnM=','SnlwTmE=','dXRj','Y2JvZ3I=','VnBFWXc=','TXFMcW0=','a2xIZFE=','bW9kZWxz','RHFxcW8=','R2V0IE9ubGluZSBVc2VycyBSZXBvcnQu','cWRTVkI=','bnVtYmVy','UExXRW4=','Z2VOWWY=','S2dWVWc=','cFVkWFI=','T3B3Y04=','Tlhnalc=','ZUFS','cUpy','S1NO','VHFZYlU=','eUFBbm0=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','Z1plcXI=','Z3BQd1M=','VUhEYXI=','b1J0TUc=','R0lnU2Y=','Y291bnRTZXNzaW9ucw==','RUtGaXQ=','RXRsbEQ=','WHlKb28=','cmVtb3RlTWV0aG9k','VUZPZE4=','Q25lZ0w=','c2NoT0g=','a2lsbE9ubGluZVNlc3Npb24=','dXZV','bURj','QGdldE9ubGluZVNlc3Npb25Db3VudCA6IA==','YVNx','WEpyQ2k=','WExSdWg=','dGZCT1U=','WUlFVG8=','b3RuRW4=','Y291bnQ=','WEpybnc=','QndxQ0o=','c2VuZFBvZA==','S2lsbCBPbmxpbmUgU2Vzc2lvbg==','b2hXQ2E=','eWNGeno=','b2JqZWN0','RmFpbGVkIHRvIGFkZCBzZXNzaW9uIHRvIGthZmthOiA=','c2Vzc2lvbiBhZGRlZDo=','RHhi','ZXBw','VmFF','dUNq','bWVtYmVySWQgaXMgbm90IGRlZmluZWQ=','ZmFHZFg=','S2JK','RlFr','SXR1TEc=','c2VuZA==','U0VTU0lPTl9UT1BJQw==','c3RyaW5naWZ5','d21DZGY=','UlBVSmQ=','TUl4eG4=','QWpGRUM=','bmNabUE=','ckFuWXk=','Z3FS','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','SHJD','ZmFpbGVkIHRvIGdldCBvbmxpbmUgc2Vzc2lvbiBjb3VudA==','bnJkbnU=','ZXVVaXA=','eW9LQ2Q=','bHBCVnU=','blNZc20=','U0taU0Y=','enluTVg=','blB0dmI=','c2Vzc2lvbklk','Y29uc29sZQ==','bUtSSnM=','R29E','ZXJyb3I=','dG5xc0k=','bG9n','d2Fybg==','ZGVidWc=','aW5mbw==','ZXhjZXB0aW9u','dHJhY2U=','VUJOU1k=','c3BsaXQ=','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Li4vLi4vc2VydmVyL3NlcnZlcg==','Y3JlYXRlTG9nZ2Vy','Li4vLi4vc2VydmVyL21vZHVsZXMvcmFkaXVzRGlzY29ubmVjdFNlcnZpY2U=','Li4vLi4vc2VydmVyL21vZHVsZXMvY29uZmln','Li4vLi4vc2VydmVyL21vZHVsZXMvZGIuZmFjdG9yeQ==','bW9tZW50','dW5kZXJzY29yZQ==','ZW52','S0FGS0FfSVA=','UHJvZHVjZXI=','cmVhZHk=','UHJvZHVjZXIgcmVhZHkuLi4=','cmVmcmVzaE1ldGFkYXRh','bFJy','TnNDa1g=','SGRXQlU=','VW1pakM=','SHdRaHg=','aXBTVXM=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','ZXhwb3J0cw==','ZnJhbWVkSXBBZGRyZXNz','dGltZXN0YW1w','dXNlcm5hbWU=','YWNjdFN0YXR1c1R5cGU=','bWFj','ZG93bmxvYWQ=','c2Vzc2lvblRpbWU=','SG50','YWxs','Z2J1','ZW5kRGF0ZQ==','c3RyaW5n','c2tpcA==','bGltaXQ=','cmVzdWx0','Z2V0T25saW5lU2Vzc2lvbkNvdW50','c3RhcnREYXRl','c2Vzc2lvbg==','b3B0aW9ucw==','b3B0aW9uc0Zyb21SZXF1ZXN0','c2V0U2Vzc2lvbg==','Z2V0U2Vzc2lvbklk','bWVtYmVySWQ=','YnVzaW5lc3NJZA==','bmFzSWQ=','ZGVwYXJ0bWVudElk','ZGVwYXJ0bWVudA==','bmFzSXA=','Z2V0TmFzSXA=','Z2V0QXR0cmlidXRl','Y3JlYXRpb25EYXRl','eUpSQmU=','dW5peA==','WmtxaEY=','YWNjU3RhdHVzVHlwZQ==','ZlRnRkc=','b3RzQ1Q=','dXBsb2Fk','aXNVbmRlZmluZWQ=','Z3JvdXBJZGVudGl0eUlk','VXNhZ2U=','Y2FsY3VsYXRlVXNhZ2U=','Y2FjaGVVc2FnZQ==','c2VuZFRvQnJva2Vy','cHJvbWlzZQ==','QlFuQXQ=','Q0dWek8=','SnF1eVY=','SE5Hc24=','YXBwbHk=','Z2V0T25saW5lVXNlcnM=','S0tjbkg=','YUFhak4=','bm9m','NXw4fDJ8MHwzfDR8NnwxfDc=','YWRk','WmZ2cEE=','QklJQ3E=','Z3ZidVM=','Y0l0Z0g=','SUdsUHA=','aWNEY2w=','cEhTSUQ=','Z2V0U2Vzc2lvblVzYWdl','cHVzaA=='];(function(_0x5743f2,_0x2bcfff){var _0x525e9d=function(_0x592f94){while(--_0x592f94){_0x5743f2['push'](_0x5743f2['shift']());}};var _0x1cdbc0=function(){var _0x287238={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x28d8bb,_0x412bb1,_0x4c5131,_0x4ad8b2){_0x4ad8b2=_0x4ad8b2||{};var _0x158bd8=_0x412bb1+'='+_0x4c5131;var _0x2b0b68=0x0;for(var _0x2b0b68=0x0,_0x3aef79=_0x28d8bb['length'];_0x2b0b68<_0x3aef79;_0x2b0b68++){var _0x171caf=_0x28d8bb[_0x2b0b68];_0x158bd8+=';\x20'+_0x171caf;var _0x1b8aa2=_0x28d8bb[_0x171caf];_0x28d8bb['push'](_0x1b8aa2);_0x3aef79=_0x28d8bb['length'];if(_0x1b8aa2!==!![]){_0x158bd8+='='+_0x1b8aa2;}}_0x4ad8b2['cookie']=_0x158bd8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4de98f,_0x3cab39){_0x4de98f=_0x4de98f||function(_0x38d5f0){return _0x38d5f0;};var _0xef161f=_0x4de98f(new RegExp('(?:^|;\x20)'+_0x3cab39['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3b1f2d=function(_0x4b9065,_0x10aa01){_0x4b9065(++_0x10aa01);};_0x3b1f2d(_0x525e9d,_0x2bcfff);return _0xef161f?decodeURIComponent(_0xef161f[0x1]):undefined;}};var _0x4e3309=function(){var _0x29cefc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x29cefc['test'](_0x287238['removeCookie']['toString']());};_0x287238['updateCookie']=_0x4e3309;var _0x1dc1f7='';var _0x5344d6=_0x287238['updateCookie']();if(!_0x5344d6){_0x287238['setCookie'](['*'],'counter',0x1);}else if(_0x5344d6){_0x1dc1f7=_0x287238['getCookie'](null,'counter');}else{_0x287238['removeCookie']();}};_0x1cdbc0();}(_0x974e,0x1ba));var _0xe974=function(_0x14add3,_0x13ce8d){_0x14add3=_0x14add3-0x0;var _0x4a174f=_0x974e[_0x14add3];if(_0xe974['initialized']===undefined){(function(){var _0x390ae2;try{var _0x35bc5f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x390ae2=_0x35bc5f();}catch(_0x1dcb08){_0x390ae2=window;}var _0x4d688c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x390ae2['atob']||(_0x390ae2['atob']=function(_0x4541ae){var _0x9bbed=String(_0x4541ae)['replace'](/=+$/,'');for(var _0x460981=0x0,_0x22320e,_0x49baf4,_0x312b72=0x0,_0x481979='';_0x49baf4=_0x9bbed['charAt'](_0x312b72++);~_0x49baf4&&(_0x22320e=_0x460981%0x4?_0x22320e*0x40+_0x49baf4:_0x49baf4,_0x460981++%0x4)?_0x481979+=String['fromCharCode'](0xff&_0x22320e>>(-0x2*_0x460981&0x6)):0x0){_0x49baf4=_0x4d688c['indexOf'](_0x49baf4);}return _0x481979;});}());_0xe974['base64DecodeUnicode']=function(_0x328583){var _0x3cdd53=atob(_0x328583);var _0x513741=[];for(var _0x1b9e94=0x0,_0x3fb675=_0x3cdd53['length'];_0x1b9e94<_0x3fb675;_0x1b9e94++){_0x513741+='%'+('00'+_0x3cdd53['charCodeAt'](_0x1b9e94)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x513741);};_0xe974['data']={};_0xe974['initialized']=!![];}var _0x21370f=_0xe974['data'][_0x14add3];if(_0x21370f===undefined){var _0x1c3ee5=function(_0x2353ef){this['rc4Bytes']=_0x2353ef;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1c3ee5['prototype']['checkState']=function(){var _0x1ce33e=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x1ce33e['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x1c3ee5['prototype']['runState']=function(_0x229887){if(!Boolean(~_0x229887)){return _0x229887;}return this['getState'](this['rc4Bytes']);};_0x1c3ee5['prototype']['getState']=function(_0xa3adc8){for(var _0x5ab04a=0x0,_0x4e47f8=this['states']['length'];_0x5ab04a<_0x4e47f8;_0x5ab04a++){this['states']['push'](Math['round'](Math['random']()));_0x4e47f8=this['states']['length'];}return _0xa3adc8(this['states'][0x0]);};new _0x1c3ee5(_0xe974)['checkState']();_0x4a174f=_0xe974['base64DecodeUnicode'](_0x4a174f);_0xe974['data'][_0x14add3]=_0x4a174f;}else{_0x4a174f=_0x21370f;}return _0x4a174f;};var _0x205cb4=function(){var _0x5b3755=!![];return function(_0x1367b9,_0x361d00){var _0x4131dc=_0x5b3755?function(){if(_0x361d00){var _0x3b4c12=_0x361d00['apply'](_0x1367b9,arguments);_0x361d00=null;return _0x3b4c12;}}:function(){};_0x5b3755=![];return _0x4131dc;};}();var _0x3a6c2a=_0x205cb4(this,function(){var _0x484e74=function(){return'\x64\x65\x76';},_0x4e62bd=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x5c84a4=function(){var _0xfc3f38=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0xfc3f38['\x74\x65\x73\x74'](_0x484e74['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x36ddb8=function(){var _0x46403c=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x46403c['\x74\x65\x73\x74'](_0x4e62bd['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5e6dd4=function(_0x42afc3){var _0x285f61=~-0x1>>0x1+0xff%0x0;if(_0x42afc3['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x285f61)){_0x451744(_0x42afc3);}};var _0x451744=function(_0x54b6ad){var _0x29ca4b=~-0x4>>0x1+0xff%0x0;if(_0x54b6ad['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x29ca4b){_0x5e6dd4(_0x54b6ad);}};if(!_0x5c84a4()){if(!_0x36ddb8()){_0x5e6dd4('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5e6dd4('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5e6dd4('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x3a6c2a();var _0x14a8ca=function(){var _0x24ce4a=!![];return function(_0x54ccc7,_0x3502f5){var _0x2fdd34={'wmCdf':_0xe974('0x0'),'RPUJd':function _0x355711(_0xb0523f,_0x5b8963){return _0xb0523f(_0x5b8963);},'KXXOw':_0xe974('0x1'),'faGdX':function _0x52ed4b(_0x5c9c3d,_0x2151ea){return _0x5c9c3d===_0x2151ea;},'ItuLG':_0xe974('0x2'),'MIxxn':function _0x18e7dd(_0x5d9024,_0xc83978){return _0x5d9024!==_0xc83978;},'AjFEC':_0xe974('0x3'),'jqEPT':_0xe974('0x4'),'ncZmA':_0xe974('0x5'),'rAnYy':_0xe974('0x6')};if(_0x2fdd34[_0xe974('0x7')](_0xe974('0x8'),_0xe974('0x8'))){var _0x1ddbbe=_0x24ce4a?function(){if(_0x2fdd34['faGdX'](_0xe974('0x9'),_0x2fdd34[_0xe974('0xa')])){kafkaProducer[_0xe974('0xb')]([{'_0x1466ff':config[_0xe974('0xc')],'_0x795c7f':JSON[_0xe974('0xd')](_0x24d691)}],function(_0x4e2f6f,_0x4ea3c5){if(_0x2da538){log['error'](_0x2fdd34[_0xe974('0xe')],_0xf3abec);return _0x2fdd34[_0xe974('0xf')](_0x22e174,_0x5ef1d4);}log['debug'](_0x2fdd34['KXXOw'],JSON[_0xe974('0xd')](_0x2c93a2),_0x61fd4);return _0x92623();});}else{if(_0x3502f5){if(_0x2fdd34[_0xe974('0x10')](_0x2fdd34[_0xe974('0x11')],_0x2fdd34[_0xe974('0x11')])){_0x42906e=null;}else{var _0x13b6b7=_0x3502f5['apply'](_0x54ccc7,arguments);_0x3502f5=null;return _0x13b6b7;}}}}:function(){if(_0x2fdd34[_0xe974('0x10')](_0x2fdd34['jqEPT'],_0x2fdd34[_0xe974('0x12')])){}else{_0x49f249=0x0;}};_0x24ce4a=![];return _0x1ddbbe;}else{return _0x4d49f7(_0x2fdd34[_0xe974('0x13')]);}};}();var _0x53899f=_0x14a8ca(this,function(){var _0x5c4346={'nrdnu':_0xe974('0x14'),'euUip':function _0x174b96(_0x30696f,_0x30f3ff){return _0x30696f(_0x30f3ff);},'OuvdD':function _0x3db674(_0x40d448,_0x3d6461){return _0x40d448+_0x3d6461;},'yoKCd':function _0x434162(_0x47310c,_0x17a743){return _0x47310c+_0x17a743;},'lpBVu':_0xe974('0x15'),'nSYsm':_0xe974('0x16'),'NzYZq':function _0x308db3(_0x5f390d){return _0x5f390d();},'SKZSF':function _0x4921ea(_0x3f47c9,_0x1386e2){return _0x3f47c9===_0x1386e2;},'zynMX':_0xe974('0x17'),'nPtvb':'@killOnlineSession\x20:\x20','mKRJs':'GoD','tnqsI':_0xe974('0x18'),'UBNSY':'3|2|1|6|4|0|5'};if(_0x5c4346[_0xe974('0x19')]===_0x5c4346['nrdnu']){var _0x439c1a=function(){};var _0x403b7d;try{var _0x47b9ef=_0x5c4346[_0xe974('0x1a')](Function,_0x5c4346['OuvdD'](_0x5c4346[_0xe974('0x1b')](_0x5c4346[_0xe974('0x1c')],_0x5c4346[_0xe974('0x1d')]),');'));_0x403b7d=_0x5c4346['NzYZq'](_0x47b9ef);}catch(_0x481863){if(_0x5c4346[_0xe974('0x1e')](_0x5c4346[_0xe974('0x1f')],_0x5c4346[_0xe974('0x1f')])){_0x403b7d=window;}else{log['debug'](_0x5c4346[_0xe974('0x20')],_0x2dc3fe);if(!session['memberId']){return _0x413c19('memberId\x20is\x20not\x20defined');}var _0x3d5859=session[_0xe974('0x21')];const _0x59ff00=await db['getSessionsById'](_0x5a74fd);radiusPod['sendPod'](_0x8a2d72);return{'_0x41670a':!![],'_0x1c1e1d':_0x17325c};}}if(!_0x403b7d[_0xe974('0x22')]){if(_0x5c4346[_0xe974('0x23')]!==_0xe974('0x24')){log[_0xe974('0x25')](_0x4325e2);throw new _0x2de8d8(_0x5c4346[_0xe974('0x26')]);}else{_0x403b7d[_0xe974('0x22')]=function(_0x3db899){var _0x2db8b8={};_0x2db8b8[_0xe974('0x27')]=_0x3db899;_0x2db8b8[_0xe974('0x28')]=_0x3db899;_0x2db8b8[_0xe974('0x29')]=_0x3db899;_0x2db8b8[_0xe974('0x2a')]=_0x3db899;_0x2db8b8[_0xe974('0x25')]=_0x3db899;_0x2db8b8[_0xe974('0x2b')]=_0x3db899;_0x2db8b8[_0xe974('0x2c')]=_0x3db899;return _0x2db8b8;}(_0x439c1a);}}else{var _0x3c2d94=_0x5c4346[_0xe974('0x2d')][_0xe974('0x2e')]('|'),_0x3df1bd=0x0;while(!![]){switch(_0x3c2d94[_0x3df1bd++]){case'0':_0x403b7d[_0xe974('0x22')][_0xe974('0x2b')]=_0x439c1a;continue;case'1':_0x403b7d[_0xe974('0x22')][_0xe974('0x29')]=_0x439c1a;continue;case'2':_0x403b7d[_0xe974('0x22')]['warn']=_0x439c1a;continue;case'3':_0x403b7d['console'][_0xe974('0x27')]=_0x439c1a;continue;case'4':_0x403b7d[_0xe974('0x22')][_0xe974('0x25')]=_0x439c1a;continue;case'5':_0x403b7d[_0xe974('0x22')][_0xe974('0x2c')]=_0x439c1a;continue;case'6':_0x403b7d[_0xe974('0x22')]['info']=_0x439c1a;continue;}break;}}}else{}});_0x53899f();'use strict';var logger=require(_0xe974('0x2f'));var app=require(_0xe974('0x30'));var log=logger[_0xe974('0x31')]();var Q=require('q');var radiusPod=require(_0xe974('0x32'));var kafka=require('kafka-node');var config=require(_0xe974('0x33'));const db=require(_0xe974('0x34'));const moment=require(_0xe974('0x35'));var _=require(_0xe974('0x36'));const kafkaClient=new kafka['KafkaClient']({'kafkaHost':process[_0xe974('0x37')][_0xe974('0x38')]+':'+process['env']['KAFKA_PORT']});const kafkaProducer=new kafka[(_0xe974('0x39'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0xe974('0x3a'),function(){var _0x4c4c53={'VvbTi':_0xe974('0x3b')};log['warn'](_0x4c4c53['VvbTi']);kafkaClient[_0xe974('0x3c')]([config[_0xe974('0xc')]],function(_0x1f3b1f){var _0x3d696d={'HDcum':function _0x50cd6e(_0x169f7d,_0x188cf3){return _0x169f7d!==_0x188cf3;},'NsCkX':_0xe974('0x3d'),'HdWBU':function _0x4d75a0(_0x231625,_0x66a7a1){return _0x231625(_0x66a7a1);},'UmijC':function _0x8b4d6e(_0x438130,_0x1afd5c){return _0x438130+_0x1afd5c;},'HwQhx':_0xe974('0x16'),'ipSUs':function _0x5a87c1(_0x33c3c7){return _0x33c3c7();}};if(_0x3d696d['HDcum'](_0x3d696d[_0xe974('0x3e')],'lRr')){var _0x4c6387=_0x3d696d[_0xe974('0x3f')](_0x5b6df7,_0x3d696d[_0xe974('0x40')](_0xe974('0x15')+_0x3d696d[_0xe974('0x41')],');'));_0x492849=_0x3d696d[_0xe974('0x42')](_0x258343);}else{log[_0xe974('0x29')]('@refreshMetadata\x20Error:',_0x1f3b1f);}});});kafkaProducer['on'](_0xe974('0x25'),function(_0x4fa3e4){log[_0xe974('0x25')](_0xe974('0x43'),_0x4fa3e4);});module[_0xe974('0x44')]=function(_0xcddd59){var _0x5dc630={'CDOPA':_0xe974('0x45'),'yJRBe':_0xe974('0x46'),'ZkqhF':_0xe974('0x47'),'fTgFG':_0xe974('0x48'),'kpiUa':_0xe974('0x49'),'otsCT':_0xe974('0x4a'),'jvzAv':_0xe974('0x4b'),'KKcnH':function _0x41d708(_0x21da70,_0x15e26e){return _0x21da70==_0x15e26e;},'aAajN':_0xe974('0x4c'),'BKhGX':function _0xcf4534(_0x5d2586,_0x48fcde){return _0x5d2586===_0x48fcde;},'ZfvpA':'kGg','bwUSh':_0xe974('0x0'),'BIICq':function _0x3e1191(_0x2388f3,_0xcd435f){return _0x2388f3(_0xcd435f);},'gvbuS':_0xe974('0x4d'),'cItgH':function _0x21e6ee(_0x29dad3,_0x1c6f1a){return _0x29dad3!==_0x1c6f1a;},'IGlPp':_0xe974('0x4e'),'icDcl':'omG','pHSID':_0xe974('0x43'),'Dqqqo':'getOnlineUsers','qdSVB':'number','schOH':_0xe974('0x4f'),'PLWEn':'businessId','UFOdN':_0xe974('0x50'),'geNYf':'departmentId','KgVUg':_0xe974('0x51'),'pUdXR':_0xe974('0x52'),'OpwcN':_0xe974('0x53'),'NXgjW':'Object','DfyoF':_0xe974('0x54'),'CnegL':_0xe974('0x55'),'rSMwX':'killOnlineSession','ohWCa':_0xe974('0x56'),'ycFzz':_0xe974('0x57'),'pktmu':_0xe974('0x58')};_0xcddd59[_0xe974('0x59')]=async _0x2b90f2=>{const {RadiusAccountingMessage,member,nas}=_0x2b90f2;const _0x10b91a=RadiusAccountingMessage[_0xe974('0x5a')]();let _0x238426={};_0x238426[_0xe974('0x21')]=_0x10b91a;_0x238426[_0xe974('0x5b')]=member['id'];_0x238426[_0xe974('0x5c')]=nas[_0xe974('0x5c')];_0x238426[_0xe974('0x5d')]=nas['id'];_0x238426[_0xe974('0x5e')]=nas[_0xe974('0x5f')];_0x238426[_0xe974('0x60')]=RadiusAccountingMessage[_0xe974('0x61')]();_0x238426[_0xe974('0x45')]=RadiusAccountingMessage[_0xe974('0x62')](_0x5dc630['CDOPA']);_0x238426[_0xe974('0x63')]=moment['utc'](RadiusAccountingMessage[_0xe974('0x62')](_0x5dc630[_0xe974('0x64')]))[_0xe974('0x65')]();_0x238426['username']=RadiusAccountingMessage['getAttribute'](_0x5dc630[_0xe974('0x66')]);_0x238426[_0xe974('0x67')]=RadiusAccountingMessage[_0xe974('0x62')](_0x5dc630[_0xe974('0x68')]);_0x238426[_0xe974('0x21')]=RadiusAccountingMessage[_0xe974('0x62')](_0xe974('0x21'));_0x238426[_0xe974('0x49')]=RadiusAccountingMessage[_0xe974('0x62')](_0x5dc630['kpiUa']);_0x238426[_0xe974('0x4a')]=RadiusAccountingMessage[_0xe974('0x62')](_0x5dc630[_0xe974('0x69')])||0x0;_0x238426[_0xe974('0x6a')]=RadiusAccountingMessage[_0xe974('0x62')](_0xe974('0x6a'))||0x0;_0x238426[_0xe974('0x4b')]=!_[_0xe974('0x6b')](RadiusAccountingMessage[_0xe974('0x62')](_0x5dc630['jvzAv']))?RadiusAccountingMessage['getAttribute'](_0x5dc630['jvzAv']):0x0;_0x238426[_0xe974('0x6c')]=member[_0xe974('0x6c')];var _0x500fcc=app['models'][_0xe974('0x6d')];const _0x50e1b1=await _0x500fcc[_0xe974('0x6e')](_0x10b91a,{'download':_0x238426['download'],'upload':_0x238426[_0xe974('0x6a')],'sessionTime':_0x238426['sessionTime']});await _0x500fcc[_0xe974('0x6f')](_0x238426);_0x238426[_0xe974('0x4a')]=_0x50e1b1['download'];_0x238426[_0xe974('0x6a')]=_0x50e1b1[_0xe974('0x6a')];_0x238426[_0xe974('0x4b')]=_0x50e1b1[_0xe974('0x4b')];log['debug'](_0x238426);await _0xcddd59['sendToBroker'](_0x238426);};_0xcddd59[_0xe974('0x70')]=async _0x2b1c30=>{return Q[_0xe974('0x71')]((_0x1f265f,_0x3fb8a3)=>{var _0x36ba54={'CGVzO':_0xe974('0x0'),'JquyV':function _0x3bc1cd(_0x171510,_0x5a770d){return _0x171510(_0x5a770d);},'HNGsn':_0xe974('0x1'),'BQnAt':'nDw'};if(_0x36ba54[_0xe974('0x72')]===_0x36ba54['BQnAt']){kafkaProducer[_0xe974('0xb')]([{'topic':config[_0xe974('0xc')],'messages':JSON[_0xe974('0xd')](_0x2b1c30)}],function(_0x9d46b2,_0x428541){if(_0x9d46b2){log[_0xe974('0x25')](_0x36ba54[_0xe974('0x73')],_0x9d46b2);return _0x36ba54[_0xe974('0x74')](_0x3fb8a3,_0x9d46b2);}log['debug'](_0x36ba54[_0xe974('0x75')],JSON[_0xe974('0xd')](_0x2b1c30),_0x428541);return _0x1f265f();});}else{var _0x562759=_0x222430?function(){if(_0x400812){var _0x4d92e4=fn[_0xe974('0x76')](_0x47171f,_0x87b9ac);_0x2f08d2=null;return _0x1f5c40;}}:function(){};_0x1ed8a3=![];return _0xf37851;}});};_0xcddd59[_0xe974('0x77')]=async(_0x20c4fd,_0x22061c,_0xa0bd25,_0x27891e,_0x2f22f3,_0x31a529,_0x3c057a)=>{if(_0x5dc630[_0xe974('0x78')](_0x2f22f3,null)){if(_0x5dc630[_0xe974('0x79')]!==_0xe974('0x7a')){_0x2f22f3=0x0;}else{var _0x26c1b9=_0xe974('0x7b')['split']('|'),_0x5434a0=0x0;while(!![]){switch(_0x26c1b9[_0x5434a0++]){case'0':c['debug']=_0x29a9ce;continue;case'1':c[_0xe974('0x2c')]=_0x4e3db5;continue;case'2':c[_0xe974('0x28')]=_0x4f5fab;continue;case'3':c[_0xe974('0x2a')]=_0x440d3d;continue;case'4':c[_0xe974('0x25')]=_0x3e3805;continue;case'5':var _0x2e2b6a={};continue;case'6':c[_0xe974('0x2b')]=_0xd88687;continue;case'7':return _0x5b0fe1;continue;case'8':c['log']=_0x20ed07;continue;}break;}}}if(_0x31a529==null){_0x31a529=0xa;}_0x20c4fd=_0x20c4fd?_0x20c4fd:new Date()['remove']({'minutes':0x2});_0x22061c=_0x22061c?_0x22061c:new Date()[_0xe974('0x7c')]({'minutes':0x2});const _0x2ce367=[];if(!_0x27891e){if(_0x5dc630['BKhGX'](_0x5dc630['ZfvpA'],_0x5dc630[_0xe974('0x7d')])){return _0x2ce367;}else{log[_0xe974('0x25')](_0x5dc630['bwUSh'],_0x411e41);return _0x5dc630[_0xe974('0x7e')](_0x5bb4b7,_0x5ede54);}}if(_0x5dc630['BKhGX'](_0x27891e,_0x5dc630[_0xe974('0x7f')])){if(_0x5dc630[_0xe974('0x80')](_0x5dc630[_0xe974('0x81')],_0x5dc630[_0xe974('0x82')])){_0x27891e=null;}else{log[_0xe974('0x25')](_0x5dc630[_0xe974('0x83')],_0x132b31);}}const _0x33e0f1=await db['getActiveSessionIds'](_0xa0bd25,_0x27891e,_0x20c4fd,_0x22061c,_0x2f22f3,_0x31a529);for(const _0x27b4d0 of _0x33e0f1){const _0x4bb11b=await db[_0xe974('0x84')](_0x27b4d0[_0xe974('0x21')]);_0x2ce367[_0xe974('0x85')](_0x4bb11b);}return _0x2ce367;};_0xcddd59[_0xe974('0x86')]=async(_0x4286ce,_0x2d59f1,_0x5edbcd)=>{var _0x6c448c={'yNcOz':function _0x3f0ddf(_0x2ca4c9,_0x23ee68){return _0x2ca4c9!==_0x23ee68;},'GkJfN':'cak','JypNa':_0xe974('0x45'),'RfzmO':_0xe974('0x47'),'cbogr':_0xe974('0x21'),'VpEYw':_0xe974('0x49'),'MqLqm':_0xe974('0x4a'),'pXOUw':'upload','klHdQ':_0xe974('0x4b')};if(_0x6c448c[_0xe974('0x87')](_0x6c448c['GkJfN'],_0xe974('0x88'))){_0x2d59f1=_0x2d59f1?_0x2d59f1:new Date()['remove']({'minutes':0x2});_0x5edbcd=_0x5edbcd?_0x5edbcd:new Date()[_0xe974('0x7c')]({'minutes':0x2});return db[_0xe974('0x89')](_0x4286ce,_0x2d59f1,_0x5edbcd);}else{const {_0x3f2a5e,_0x8d83c5,_0x4a6435}=_0x45084f;const _0x1821a5=RadiusAccountingMessage[_0xe974('0x5a')]();let _0x3b59b3={};session[_0xe974('0x21')]=_0x475ef7;session[_0xe974('0x5b')]=member['id'];session[_0xe974('0x5c')]=nas[_0xe974('0x5c')];session['nasId']=nas['id'];session['departmentId']=nas['department'];session[_0xe974('0x60')]=RadiusAccountingMessage[_0xe974('0x61')]();session['framedIpAddress']=RadiusAccountingMessage[_0xe974('0x62')](_0x6c448c[_0xe974('0x8a')]);session['creationDate']=moment[_0xe974('0x8b')](RadiusAccountingMessage['getAttribute']('timestamp'))[_0xe974('0x65')]();session[_0xe974('0x47')]=RadiusAccountingMessage['getAttribute'](_0x6c448c['RfzmO']);session[_0xe974('0x67')]=RadiusAccountingMessage[_0xe974('0x62')](_0xe974('0x48'));session['sessionId']=RadiusAccountingMessage[_0xe974('0x62')](_0x6c448c[_0xe974('0x8c')]);session[_0xe974('0x49')]=RadiusAccountingMessage[_0xe974('0x62')](_0x6c448c[_0xe974('0x8d')]);session[_0xe974('0x4a')]=RadiusAccountingMessage[_0xe974('0x62')](_0x6c448c[_0xe974('0x8e')])||0x0;session[_0xe974('0x6a')]=RadiusAccountingMessage[_0xe974('0x62')](_0x6c448c['pXOUw'])||0x0;session[_0xe974('0x4b')]=!_[_0xe974('0x6b')](RadiusAccountingMessage[_0xe974('0x62')](_0x6c448c[_0xe974('0x8f')]))?RadiusAccountingMessage[_0xe974('0x62')](_0x6c448c[_0xe974('0x8f')]):0x0;session[_0xe974('0x6c')]=member['groupIdentityId'];var _0x44e8cb=app[_0xe974('0x90')][_0xe974('0x6d')];const _0x580615=await Usage[_0xe974('0x6e')](_0xaec533,{'_0x5c8694':session[_0xe974('0x4a')],'_0xa540f6':session[_0xe974('0x6a')],'_0x1f20f0':session[_0xe974('0x4b')]});await Usage[_0xe974('0x6f')](_0x19261f);session[_0xe974('0x4a')]=calculatedUsage[_0xe974('0x4a')];session[_0xe974('0x6a')]=calculatedUsage['upload'];session[_0xe974('0x4b')]=calculatedUsage[_0xe974('0x4b')];log[_0xe974('0x29')](_0x4f0e4b);await _0xcddd59[_0xe974('0x70')](_0xf369a);}};_0xcddd59['remoteMethod'](_0x5dc630[_0xe974('0x91')],{'description':_0xe974('0x92'),'accepts':[{'arg':'startDate','type':_0x5dc630[_0xe974('0x93')]},{'arg':_0x5dc630['schOH'],'type':_0xe974('0x94')},{'arg':_0x5dc630[_0xe974('0x95')],'type':_0x5dc630['UFOdN'],'required':!![]},{'arg':_0x5dc630[_0xe974('0x96')],'type':_0x5dc630['UFOdN']},{'arg':_0x5dc630[_0xe974('0x97')],'type':_0x5dc630[_0xe974('0x93')],'required':![]},{'arg':_0x5dc630[_0xe974('0x98')],'type':_0x5dc630[_0xe974('0x93')],'required':![]}],'returns':{'arg':_0x5dc630[_0xe974('0x99')],'type':_0x5dc630[_0xe974('0x9a')]}});_0xcddd59[_0xe974('0x54')]=async(_0x3088f4,_0x4a441a,_0x207344,_0x2f01bd)=>{var _0x4ed21d={'TqYbU':function _0x3d8269(_0x4f0268,_0x483579){return _0x4f0268===_0x483579;},'vDZgV':'fRy','yAAnm':_0xe974('0x9b'),'gZeqr':'@getOnlineSessionCount\x20:\x20','lkgXD':function _0x59c198(_0x2ecb9c,_0x40aed3){return _0x2ecb9c===_0x40aed3;},'gpPwS':_0xe974('0x9c'),'UHDar':'znc','oRtMG':function _0x2ccf3a(_0x32c086,_0x229e0d){return _0x32c086===_0x229e0d;},'GIgSf':_0xe974('0x4d'),'EKFit':_0xe974('0x9d'),'EtllD':_0xe974('0x18'),'XyJoo':function _0x15399d(_0x3f2b90,_0x152f97){return _0x3f2b90(_0x152f97);},'lXrHl':'session\x20added:'};if(_0x4ed21d[_0xe974('0x9e')](_0x4ed21d['vDZgV'],_0x4ed21d[_0xe974('0x9f')])){log[_0xe974('0x29')](_0xe974('0xa0'),_0x649468);}else{try{log[_0xe974('0x29')](_0x4ed21d[_0xe974('0xa1')],_0x3088f4);if(!_0x4a441a){if(_0x4ed21d['lkgXD'](_0x4ed21d[_0xe974('0xa2')],_0x4ed21d[_0xe974('0xa3')])){_0x43ec97=null;}else{return{'count':0x0};}}if(_0x4ed21d[_0xe974('0xa4')](_0x4a441a,_0x4ed21d[_0xe974('0xa5')])){_0x4a441a=null;}_0x207344=_0x207344?_0x207344:new Date()['remove']({'minutes':0x2});_0x2f01bd=_0x2f01bd?_0x2f01bd:new Date()['add']({'minutes':0x2});const _0xe35537=await db[_0xe974('0xa6')](_0x3088f4,_0x4a441a,_0x207344,_0x2f01bd);return{'count':_0xe35537['count']};}catch(_0x53e9fe){if(_0x4ed21d[_0xe974('0xa7')]===_0xe974('0x9d')){log[_0xe974('0x25')](_0x53e9fe);throw new Error(_0x4ed21d[_0xe974('0xa8')]);}else{if(_0x58840e){log[_0xe974('0x25')](_0xe974('0x0'),_0x5708b7);return _0x4ed21d[_0xe974('0xa9')](_0x3dd7f3,_0x349558);}log[_0xe974('0x29')](_0x4ed21d['lXrHl'],JSON[_0xe974('0xd')](_0xbd00af),_0x34a7ad);return _0xfd570c();}}}};_0xcddd59[_0xe974('0xaa')](_0x5dc630['DfyoF'],{'description':'Get\x20Online\x20Sessions\x20Count.','accepts':[{'arg':_0x5dc630['PLWEn'],'type':_0x5dc630[_0xe974('0xab')],'required':!![]},{'arg':_0x5dc630['geNYf'],'type':_0x5dc630[_0xe974('0xab')]},{'arg':_0x5dc630[_0xe974('0xac')],'type':_0x5dc630[_0xe974('0x93')]},{'arg':_0x5dc630[_0xe974('0xad')],'type':_0x5dc630[_0xe974('0x93')]}],'returns':{'root':!![]}});_0xcddd59[_0xe974('0xae')]=async _0x164bf5=>{var _0x447ade={'XJrCi':'aSq','XLRuh':'@killOnlineSession\x20:\x20','raaNe':function _0x4d8313(_0x26300e,_0x363732){return _0x26300e===_0x363732;},'tfBOU':_0xe974('0xaf'),'RbdjN':_0xe974('0xb0'),'jiwjY':_0xe974('0xb1'),'YIETo':function _0x5507fa(_0x1befd8,_0x3d45c1){return _0x1befd8===_0x3d45c1;},'otnEn':_0xe974('0x4d'),'XJrnw':function _0x5649c6(_0x158053,_0x21989f){return _0x158053(_0x21989f);},'BwqCJ':_0xe974('0x6')};if(_0xe974('0xb2')!==_0x447ade[_0xe974('0xb3')]){_0x5c0f29=0xa;}else{log[_0xe974('0x29')](_0x447ade[_0xe974('0xb4')],_0x164bf5);if(!_0x164bf5['memberId']){if(_0x447ade['raaNe'](_0x447ade[_0xe974('0xb5')],_0x447ade['RbdjN'])){log[_0xe974('0x29')](_0x447ade['jiwjY'],_0x559903);if(!_0x591b9f){return{'_0x1ae518':0x0};}if(_0x447ade[_0xe974('0xb6')](_0x48e4d7,_0x447ade[_0xe974('0xb7')])){_0x40c683=null;}_0x2dbd2d=_0x118044?_0x413196:new _0x132b90()['remove']({'_0x342cda':0x2});_0x5d993f=_0x53bcde?_0x140960:new _0x341ae3()['add']({'_0x253f44':0x2});const _0x450a0f=await db[_0xe974('0xa6')](_0x19ad6a,_0x46746c,_0x8185eb,_0x5b8200);return{'_0x3bf8ea':result[_0xe974('0xb8')]};}else{return _0x447ade[_0xe974('0xb9')](cb,_0x447ade[_0xe974('0xba')]);}}var _0x2b6532=_0x164bf5[_0xe974('0x21')];const _0xdc57c5=await db['getSessionsById'](_0x2b6532);radiusPod[_0xe974('0xbb')](_0xdc57c5);return{'ok':!![],'killedSession':_0xdc57c5};}};_0xcddd59['remoteMethod'](_0x5dc630['rSMwX'],{'description':_0xe974('0xbc'),'accepts':[{'arg':_0x5dc630[_0xe974('0xbd')],'type':'object','required':!![]},{'arg':_0x5dc630[_0xe974('0xbe')],'type':_0xe974('0xbf'),'http':_0x5dc630['pktmu']}],'returns':{'root':!![]}});};