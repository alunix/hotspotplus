var _0xaf0d=['bWVtYmVySWQgaXMgbm90IGRlZmluZWQ=','ZVhVUVQ=','Y3VycmVudFVzZXJJZA==','SW5KeGg=','QkhIaEw=','SVRFVEo=','bWVtYmVySWQ=','b0p6ZkQ=','WlBVVkQ=','dHZLbXM=','cVhBbUk=','S2lsbCBPbmxpbmUgU2Vzc2lvbg==','bm5XZFo=','b3B0aW9ucw==','Z0tlUFU=','aUZY','V3NE','cW1L','QnVzaW5lc3MgSWQgbm90IGRlZmluZWQ=','QGdldE9ubGluZVNlc3Npb25Db3VudCA6IA==','Z3ZQU2M=','SU5xaEI=','WXRB','eVNjRE4=','ZkxMck4=','ZUtBYWI=','UkhU','YXBwbHk=','eGNERWg=','ZXJyb3I=','Uk1QZXA=','SWVTS3c=','ZGVidWc=','Q1lhcm4=','ZmluZA==','THRVSG0=','bGVuZ3Ro','RFFU','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','bFRY','MnwzfDZ8NHwxfDB8NQ==','NXwwfDZ8NHwyfDd8OHwxfDM=','Tldr','TUluaEU=','bmd2dmc=','Y0xX','bFpNSk0=','bkREQk4=','aGJHY3A=','cmV0dXJuIChmdW5jdGlvbigpIA==','VlNMSUc=','Y29uc29sZQ==','dk9VbXc=','U1NwSFM=','YlRCanE=','bG9n','d2Fybg==','aW5mbw==','ZXhjZXB0aW9u','Z2lHbXY=','c3BsaXQ=','dHJhY2U=','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Y3JlYXRlTG9nZ2Vy','a2Fma2Etbm9kZQ==','S2Fma2FDbGllbnQ=','ZW52','UHJvZHVjZXI=','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','UHJvZHVjZXIgcmVhZHkuLi4=','U0VTU0lPTl9UT1BJQw==','bElJaFE=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','Wmd0cnM=','ZXhwb3J0cw==','bHFS','RmFpbGVkIHRvIGFkZCBzZXNzaW9uIHRvIGthZmthOiA=','Z21B','R2V0IE9ubGluZSBVc2VycyBSZXBvcnQu','c3RhcnREYXRl','bnVtYmVy','bGltaXQ=','T2JqZWN0','Z2V0T25saW5lU2Vzc2lvbkNvdW50','R2V0IE9ubGluZSBTZXNzaW9ucyBDb3VudC4=','YnVzaW5lc3NJZA==','a2lsbE9ubGluZVNlc3Npb24=','c2Vzc2lvbg==','b2JqZWN0','b3B0aW9uc0Zyb21SZXF1ZXN0','bnhvQXA=','ZWJrdWk=','c2VuZA==','c3RyaW5naWZ5','c2Vzc2lvbiBhZGRlZDo=','Z2V0T25saW5lVXNlcnM=','NnwwfDN8MXw0fDV8Mg==','U3RhcnQgZGF0ZSBpcyBub3QgZGVmaW5lZA==','ZXhwaXJlc0F0IERFU0M=','TnZhcHI=','UkVxbmU=','Zm5nZXY=','RFVl','c2Vzc2lvbiBub3QgZm91bmQ=','dUlo','Z0xv','TWJUWmw=','R0paQlU=','RG5veVg=','R2Zva0o=','VllFa1U=','UkNxTlQ=','eXZs','Z2V0U2Vzc2lvblVzYWdl','ZmFpbA==','dWJ3Ymw=','ZlNCalQ=','bURnYlE=','c2VuZFBvZA==','b21UbVc=','ZlVWWnY=','bm9SZXBvcnQ=','aVpCdVg=','c1pmbUo=','cmVtb3RlTWV0aG9k','RFpJU1g=','UGlTdHA=','c2tpcA==','eHVvTWc=','aWZpcEM=','ekhlSGQ=','SVZZc0Y=','R2FVeGc=','ZGJR','b2VqelM=','dFhpT3U=','Vmlrb0k=','V2duemE=','WFNCd0c=','eVlRUEk=','Q0NwZXM=','QGtpbGxPbmxpbmVTZXNzaW9uIDog','aFpm'];(function(_0x59a2cb,_0x1797ad){var _0x1149e=function(_0x4e6b31){while(--_0x4e6b31){_0x59a2cb['push'](_0x59a2cb['shift']());}};var _0x50765d=function(){var _0x33d1f8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x45f95a,_0x827167,_0x4ce217,_0x30503d){_0x30503d=_0x30503d||{};var _0x51fa7b=_0x827167+'='+_0x4ce217;var _0x5e8050=0x0;for(var _0x5e8050=0x0,_0x2b1a11=_0x45f95a['length'];_0x5e8050<_0x2b1a11;_0x5e8050++){var _0x1a3871=_0x45f95a[_0x5e8050];_0x51fa7b+=';\x20'+_0x1a3871;var _0x495c3b=_0x45f95a[_0x1a3871];_0x45f95a['push'](_0x495c3b);_0x2b1a11=_0x45f95a['length'];if(_0x495c3b!==!![]){_0x51fa7b+='='+_0x495c3b;}}_0x30503d['cookie']=_0x51fa7b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x50e6de,_0xc6352c){_0x50e6de=_0x50e6de||function(_0x454d3e){return _0x454d3e;};var _0x2b5f42=_0x50e6de(new RegExp('(?:^|;\x20)'+_0xc6352c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x4f85da=function(_0x475666,_0x5b5b70){_0x475666(++_0x5b5b70);};_0x4f85da(_0x1149e,_0x1797ad);return _0x2b5f42?decodeURIComponent(_0x2b5f42[0x1]):undefined;}};var _0x2ecdd2=function(){var _0xd919d9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xd919d9['test'](_0x33d1f8['removeCookie']['toString']());};_0x33d1f8['updateCookie']=_0x2ecdd2;var _0x4ccd7e='';var _0x3d9466=_0x33d1f8['updateCookie']();if(!_0x3d9466){_0x33d1f8['setCookie'](['*'],'counter',0x1);}else if(_0x3d9466){_0x4ccd7e=_0x33d1f8['getCookie'](null,'counter');}else{_0x33d1f8['removeCookie']();}};_0x50765d();}(_0xaf0d,0x12d));var _0xdaf0=function(_0x475adf,_0x389c0b){_0x475adf=_0x475adf-0x0;var _0x2ff41b=_0xaf0d[_0x475adf];if(_0xdaf0['initialized']===undefined){(function(){var _0x5f2bd4;try{var _0x297976=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5f2bd4=_0x297976();}catch(_0x56ead3){_0x5f2bd4=window;}var _0x4afa6a='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5f2bd4['atob']||(_0x5f2bd4['atob']=function(_0x483da2){var _0x5e36c6=String(_0x483da2)['replace'](/=+$/,'');for(var _0x119aa3=0x0,_0x237d69,_0x33dce5,_0x1ccbc8=0x0,_0x1abaf3='';_0x33dce5=_0x5e36c6['charAt'](_0x1ccbc8++);~_0x33dce5&&(_0x237d69=_0x119aa3%0x4?_0x237d69*0x40+_0x33dce5:_0x33dce5,_0x119aa3++%0x4)?_0x1abaf3+=String['fromCharCode'](0xff&_0x237d69>>(-0x2*_0x119aa3&0x6)):0x0){_0x33dce5=_0x4afa6a['indexOf'](_0x33dce5);}return _0x1abaf3;});}());_0xdaf0['base64DecodeUnicode']=function(_0x36cdcc){var _0xfa7965=atob(_0x36cdcc);var _0x53376d=[];for(var _0x94b91=0x0,_0x309fb8=_0xfa7965['length'];_0x94b91<_0x309fb8;_0x94b91++){_0x53376d+='%'+('00'+_0xfa7965['charCodeAt'](_0x94b91)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x53376d);};_0xdaf0['data']={};_0xdaf0['initialized']=!![];}var _0x27c4df=_0xdaf0['data'][_0x475adf];if(_0x27c4df===undefined){var _0x5ea6ff=function(_0x4e43c0){this['rc4Bytes']=_0x4e43c0;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5ea6ff['prototype']['checkState']=function(){var _0x4b9028=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x4b9028['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x5ea6ff['prototype']['runState']=function(_0x8bdf8d){if(!Boolean(~_0x8bdf8d)){return _0x8bdf8d;}return this['getState'](this['rc4Bytes']);};_0x5ea6ff['prototype']['getState']=function(_0xabe03a){for(var _0x304152=0x0,_0x24a04b=this['states']['length'];_0x304152<_0x24a04b;_0x304152++){this['states']['push'](Math['round'](Math['random']()));_0x24a04b=this['states']['length'];}return _0xabe03a(this['states'][0x0]);};new _0x5ea6ff(_0xdaf0)['checkState']();_0x2ff41b=_0xdaf0['base64DecodeUnicode'](_0x2ff41b);_0xdaf0['data'][_0x475adf]=_0x2ff41b;}else{_0x2ff41b=_0x27c4df;}return _0x2ff41b;};var _0x5bc7ca=function(){var _0x1398fb=!![];return function(_0xd6b39e,_0x109bb3){var _0x4c1949=_0x1398fb?function(){if(_0x109bb3){var _0x238622=_0x109bb3['apply'](_0xd6b39e,arguments);_0x109bb3=null;return _0x238622;}}:function(){};_0x1398fb=![];return _0x4c1949;};}();var _0x587625=_0x5bc7ca(this,function(){var _0x3a9403=function(){return'\x64\x65\x76';},_0x58bdc5=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x400b89=function(){var _0x5f3d05=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5f3d05['\x74\x65\x73\x74'](_0x3a9403['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5df6bf=function(){var _0x2dae5d=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x2dae5d['\x74\x65\x73\x74'](_0x58bdc5['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x443f51=function(_0xf9e4d2){var _0x3b3196=~-0x1>>0x1+0xff%0x0;if(_0xf9e4d2['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3b3196)){_0x12b15f(_0xf9e4d2);}};var _0x12b15f=function(_0x39c262){var _0x323abc=~-0x4>>0x1+0xff%0x0;if(_0x39c262['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x323abc){_0x443f51(_0x39c262);}};if(!_0x400b89()){if(!_0x5df6bf()){_0x443f51('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x443f51('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x443f51('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x587625();var _0x2455ca=function(){var _0x138c14={'VsvBx':_0xdaf0('0x0'),'yScDN':function _0x4b48d6(_0x1129be,_0x2ba117){return _0x1129be(_0x2ba117);},'fLLrN':function _0x2e080a(_0x43c0bd,_0x319321){return _0x43c0bd!==_0x319321;},'NWMEl':_0xdaf0('0x1'),'eKAab':_0xdaf0('0x2'),'IeSKw':'Failed\x20to\x20add\x20session\x20to\x20kafka:\x20','LtUHm':function _0xb93db4(_0x5ad1b6,_0x52393f,_0x6b662c){return _0x5ad1b6(_0x52393f,_0x6b662c);},'gvPSc':function _0x20feec(_0x10f1c8,_0x53fdca){return _0x10f1c8!==_0x53fdca;},'INqhB':'omL','RNRYU':_0xdaf0('0x3'),'CYarn':_0xdaf0('0x4')};if(_0x138c14[_0xdaf0('0x5')](_0x138c14[_0xdaf0('0x6')],_0xdaf0('0x7'))){var _0x8ef525=!![];return function(_0x15a478,_0x24a448){var _0x9dc12c={'bEfcT':function _0x494cc3(_0x1aa702,_0x2bfc3d){return _0x1aa702!==_0x2bfc3d;},'xcDEh':_0x138c14['VsvBx'],'RMPep':function _0xc50899(_0x5c7fba,_0x248ccc){return _0x138c14[_0xdaf0('0x8')](_0x5c7fba,_0x248ccc);}};if(_0x138c14[_0xdaf0('0x9')](_0x138c14['NWMEl'],_0x138c14[_0xdaf0('0xa')])){var _0x589919=_0x8ef525?function(){if(_0x24a448){if(_0xdaf0('0xb')!==_0xdaf0('0xb')){}else{var _0x21ba09=_0x24a448[_0xdaf0('0xc')](_0x15a478,arguments);_0x24a448=null;return _0x21ba09;}}}:function(){if(_0x9dc12c['bEfcT'](_0x9dc12c[_0xdaf0('0xd')],_0xdaf0('0x0'))){log[_0xdaf0('0xe')](_0x2888f6);return _0x9dc12c[_0xdaf0('0xf')](_0x200bd2,_0x11b576);}else{}};_0x8ef525=![];return _0x589919;}else{log['error'](_0x138c14[_0xdaf0('0x10')],_0x1e86bb);return;}};}else{if(!_0x5f321d){return _0x138c14[_0xdaf0('0x8')](_0x32a926,_0x138c14['RNRYU']);}log[_0xdaf0('0x11')](_0x138c14[_0xdaf0('0x12')],_0x1112ae);ClientSession[_0xdaf0('0x13')]({'_0x3b7e5b':{'_0x5eede7':_0x24a7c0}},function(_0x22b1f9,_0x1038c2){if(_0xb0bdb9){log[_0xdaf0('0xe')](_0x5e4ee4);return _0x138c14[_0xdaf0('0x8')](_0x45ba57,_0x2d2f3f);}log['debug'](count['length']);return _0x138c14[_0xdaf0('0x14')](_0x221f2,null,{'_0x5e6ce2':count[_0xdaf0('0x15')]});});}}();var _0x555cca=_0x2455ca(this,function(){var _0x4f6bb9={'ngvvg':function _0x5cee47(_0x552efe,_0x3ed2b1){return _0x552efe===_0x3ed2b1;},'lZMJM':_0xdaf0('0x16'),'MInhE':'NWk','nDDBN':function _0x95cdc0(_0x36fd67,_0x5a4594){return _0x36fd67(_0x5a4594);},'hbGcp':function _0x4f4d7d(_0x34ccd4,_0x590941){return _0x34ccd4+_0x590941;},'VSLIG':_0xdaf0('0x17'),'vOUmw':function _0x53a7f2(_0x4839a6,_0x49db4b){return _0x4839a6!==_0x49db4b;},'SSpHS':_0xdaf0('0x18'),'bTBjq':'Producer\x20preparation\x20failed:','giGmv':_0xdaf0('0x19'),'mwPYY':_0xdaf0('0x1a')};if(_0xdaf0('0x1b')===_0x4f6bb9[_0xdaf0('0x1c')]){var _0x1eef12=function(){if(_0x4f6bb9[_0xdaf0('0x1d')](_0xdaf0('0x1e'),_0x4f6bb9[_0xdaf0('0x1f')])){_0x5c77d8=_0x1fa9ad;}else{}};var _0x4a058c;try{var _0x58491c=_0x4f6bb9[_0xdaf0('0x20')](Function,_0x4f6bb9[_0xdaf0('0x21')](_0xdaf0('0x22'),_0x4f6bb9[_0xdaf0('0x23')])+');');_0x4a058c=_0x58491c();}catch(_0x365b18){_0x4a058c=window;}if(!_0x4a058c[_0xdaf0('0x24')]){if(_0x4f6bb9[_0xdaf0('0x25')](_0xdaf0('0x18'),_0x4f6bb9[_0xdaf0('0x26')])){log[_0xdaf0('0xe')](_0x4f6bb9[_0xdaf0('0x27')],_0x255489);}else{_0x4a058c[_0xdaf0('0x24')]=function(_0x6a0ea2){var _0x274ed7={};_0x274ed7[_0xdaf0('0x28')]=_0x6a0ea2;_0x274ed7[_0xdaf0('0x29')]=_0x6a0ea2;_0x274ed7[_0xdaf0('0x11')]=_0x6a0ea2;_0x274ed7[_0xdaf0('0x2a')]=_0x6a0ea2;_0x274ed7[_0xdaf0('0xe')]=_0x6a0ea2;_0x274ed7[_0xdaf0('0x2b')]=_0x6a0ea2;_0x274ed7['trace']=_0x6a0ea2;return _0x274ed7;}(_0x1eef12);}}else{var _0x25f7ad=_0x4f6bb9[_0xdaf0('0x2c')][_0xdaf0('0x2d')]('|'),_0x1a2ce4=0x0;while(!![]){switch(_0x25f7ad[_0x1a2ce4++]){case'0':_0x4a058c[_0xdaf0('0x24')][_0xdaf0('0x2b')]=_0x1eef12;continue;case'1':_0x4a058c['console'][_0xdaf0('0xe')]=_0x1eef12;continue;case'2':_0x4a058c[_0xdaf0('0x24')][_0xdaf0('0x28')]=_0x1eef12;continue;case'3':_0x4a058c[_0xdaf0('0x24')][_0xdaf0('0x29')]=_0x1eef12;continue;case'4':_0x4a058c[_0xdaf0('0x24')]['info']=_0x1eef12;continue;case'5':_0x4a058c[_0xdaf0('0x24')][_0xdaf0('0x2e')]=_0x1eef12;continue;case'6':_0x4a058c[_0xdaf0('0x24')][_0xdaf0('0x11')]=_0x1eef12;continue;}break;}}}else{var _0x403e25=_0x4f6bb9['mwPYY'][_0xdaf0('0x2d')]('|'),_0x52064f=0x0;while(!![]){switch(_0x403e25[_0x52064f++]){case'0':c['log']=_0x4b8894;continue;case'1':c[_0xdaf0('0x2e')]=_0x1286cf;continue;case'2':c['info']=_0x3dfb92;continue;case'3':return _0x14eff9;continue;case'4':c[_0xdaf0('0x11')]=_0x3da07d;continue;case'5':var _0x208f6e={};continue;case'6':c['warn']=_0xaf0352;continue;case'7':c[_0xdaf0('0xe')]=_0x3a571d;continue;case'8':c[_0xdaf0('0x2b')]=_0x41e7fe;continue;}break;}}});_0x555cca();'use strict';var logger=require(_0xdaf0('0x2f'));var app=require('../../server/server');var log=logger[_0xdaf0('0x30')]();var Q=require('q');var radiusPod=require('../../server/modules/radiusDisconnectService');var kafka=require(_0xdaf0('0x31'));var config=require('../../server/modules/config');const kafkaClient=new kafka[(_0xdaf0('0x32'))]({'kafkaHost':process['env']['KAFKA_IP']+':'+process[_0xdaf0('0x33')]['KAFKA_PORT']});const kafkaProducer=new kafka[(_0xdaf0('0x34'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on']('ready',function(){var _0x5d07f9={'lIIhQ':_0xdaf0('0x35'),'upfZg':_0xdaf0('0x36')};log[_0xdaf0('0x29')](_0x5d07f9['upfZg']);kafkaClient['refreshMetadata']([config[_0xdaf0('0x37')]],function(_0x22585c){log[_0xdaf0('0x11')](_0x5d07f9[_0xdaf0('0x38')],_0x22585c);});});kafkaProducer['on'](_0xdaf0('0xe'),function(_0x154069){var _0x188961={'Zgtrs':_0xdaf0('0x39')};log[_0xdaf0('0xe')](_0x188961[_0xdaf0('0x3a')],_0x154069);});module[_0xdaf0('0x3b')]=function(_0x2646f3){var _0x1ebc77={'nxoAp':_0xdaf0('0x3c'),'ebkui':_0xdaf0('0x3d'),'zHeHd':function _0x1af018(_0x41c20e,_0x1029d4){return _0x41c20e(_0x1029d4);},'ITETJ':function _0x4d4e23(_0x1e7ea9,_0x530695,_0x1011a5){return _0x1e7ea9(_0x530695,_0x1011a5);},'IVYsF':function _0x57961d(_0x197645,_0x21887d){return _0x197645!==_0x21887d;},'GaUxg':'dbQ','oejzS':'Business\x20Id\x20not\x20defined','tXiOu':'@getOnlineSessionCount\x20:\x20','BHHhL':_0xdaf0('0x3e'),'PZFLY':function _0x3fb758(_0x5f0d3e,_0xe7aab3){return _0x5f0d3e(_0xe7aab3);},'LJbWH':'getOnlineUsers','DZISX':_0xdaf0('0x3f'),'bVaBy':_0xdaf0('0x40'),'PiStp':_0xdaf0('0x41'),'CCpes':'string','xuoMg':_0xdaf0('0x42'),'ifipC':_0xdaf0('0x43'),'Wgnza':_0xdaf0('0x44'),'XSBwG':_0xdaf0('0x45'),'yYQPI':_0xdaf0('0x46'),'qXAmI':_0xdaf0('0x47'),'CzOkd':_0xdaf0('0x48'),'nnWdZ':_0xdaf0('0x49'),'gKePU':_0xdaf0('0x4a')};_0x2646f3['saveLogSession']=function(_0x50806b){var _0x15a1fd={'xRonT':_0x1ebc77[_0xdaf0('0x4b')],'HuOpS':_0x1ebc77[_0xdaf0('0x4c')]};kafkaProducer[_0xdaf0('0x4d')]([{'topic':config[_0xdaf0('0x37')],'messages':JSON[_0xdaf0('0x4e')](_0x50806b)}],function(_0x32250c,_0x5cfbc9){if(_0x32250c){if(_0x15a1fd['xRonT']!==_0xdaf0('0x3c')){if(_0x536c23){var _0x35cce2=fn[_0xdaf0('0xc')](_0x2d4beb,_0xe61748);_0x176de4=null;return _0x38b40b;}}else{log[_0xdaf0('0xe')](_0x15a1fd['HuOpS'],_0x32250c);return;}}log[_0xdaf0('0x11')](_0xdaf0('0x4f'),_0x5cfbc9);});};_0x2646f3[_0xdaf0('0x50')]=function(_0x1d4511,_0x500486,_0x17012a,_0x92216f,_0x3803d6){var _0x466bad={'Nvapr':_0xdaf0('0x51'),'nfkUx':_0xdaf0('0x52'),'REqne':function _0x4a2187(_0x5a14be,_0x1a238b){return _0x5a14be==_0x1a238b;},'fngev':_0xdaf0('0x53'),'jBxTu':function _0x2ea3ca(_0x794ea0,_0x308c51){return _0x794ea0==_0x308c51;},'sZfmJ':function _0x670168(_0x206d40,_0x2a6947){return _0x206d40(_0x2a6947);}};var _0x527a09=_0x466bad[_0xdaf0('0x54')][_0xdaf0('0x2d')]('|'),_0x171b79=0x0;while(!![]){switch(_0x527a09[_0x171b79++]){case'0':if(!_0x1d4511){return _0x3803d6(_0x466bad['nfkUx']);}continue;case'1':if(_0x466bad[_0xdaf0('0x55')](_0x92216f,null)){_0x92216f=0xa;}continue;case'2':_0x2646f3[_0xdaf0('0x13')]({'where':{'businessId':_0x500486},'order':_0x466bad[_0xdaf0('0x56')],'limit':_0x92216f,'skip':_0x17012a},function(_0x1025e5,_0x4b8adb){var _0x47236f={'VYEkU':function _0x1c7215(_0x333de2,_0x648150,_0xbfc1dd){return _0x333de2(_0x648150,_0xbfc1dd);},'tipKd':function _0x2e1045(_0x56dc53,_0x181ec9){return _0x56dc53===_0x181ec9;},'ubwbl':_0xdaf0('0x57'),'fSBjT':function _0x2bdb43(_0xca7e47,_0x31852a){return _0xca7e47(_0x31852a);},'mDgbQ':_0xdaf0('0x58'),'MbTZl':function _0x53d45d(_0x843ea8,_0x2df0f8){return _0x843ea8!==_0x2df0f8;},'GJZBU':_0xdaf0('0x59'),'DnoyX':_0xdaf0('0x5a'),'GfokJ':function _0x182f71(_0x126db8,_0x39c341){return _0x126db8==_0x39c341;},'RCqNT':function _0x47eaf6(_0x447822,_0x57e856){return _0x447822>_0x57e856;},'omTmW':function _0x184914(_0x1b1e4a,_0x2f51c3){return _0x1b1e4a!==_0x2f51c3;},'fUVZv':'CmL','iZBuX':function _0x537b5e(_0x49a3a2,_0x4ee7cf){return _0x49a3a2(_0x4ee7cf);}};if(_0x47236f[_0xdaf0('0x5b')](_0x47236f[_0xdaf0('0x5c')],_0x47236f[_0xdaf0('0x5d')])){if(_0x1025e5){log['error'](_0x1025e5);return _0x47236f['fSBjT'](_0x3803d6,_0x1025e5);}if(_0x47236f[_0xdaf0('0x5e')](_0x4b8adb[_0xdaf0('0x15')],0x0)){return _0x47236f[_0xdaf0('0x5f')](_0x3803d6,null,{'data':'noSession'});}else{log[_0xdaf0('0x11')]('Sessions\x20length',_0x4b8adb[_0xdaf0('0x15')]);if(_0x47236f[_0xdaf0('0x60')](_0x4b8adb[_0xdaf0('0x15')],0x0)){if(_0xdaf0('0x61')===_0xdaf0('0x61')){_0x5292ab[_0xdaf0('0x62')](_0x4b8adb)['then'](function(_0x52414d){return _0x47236f[_0xdaf0('0x5f')](_0x3803d6,null,_0x52414d);})[_0xdaf0('0x63')](function(_0x4ef124){if(_0x47236f['tipKd'](_0x47236f[_0xdaf0('0x64')],_0x47236f[_0xdaf0('0x64')])){log[_0xdaf0('0xe')](_0x4ef124);return _0x47236f['fSBjT'](_0x3803d6,_0x4ef124);}else{if(_0x29f40a){return _0x3571bc(_0xdf8ffe);}if(!_0x484b3c){return _0x47236f[_0xdaf0('0x65')](_0x3c4b1a,new _0x7df409(_0x47236f[_0xdaf0('0x66')]));}radiusPod[_0xdaf0('0x67')](_0x488186);return _0x385515(null,{'_0x25932f':!![],'_0x484fcb':_0xb3f86c});}});}else{kafkaProducer[_0xdaf0('0x4d')]([{'_0xbeb44d':config[_0xdaf0('0x37')],'_0x1c3830':JSON[_0xdaf0('0x4e')](_0x3be4cb)}],function(_0x105da8,_0x4cef62){if(_0x10d739){log[_0xdaf0('0xe')](_0xdaf0('0x3d'),_0x49d1e7);return;}log[_0xdaf0('0x11')]('session\x20added:',_0x71a282);});}}else{if(_0x47236f[_0xdaf0('0x68')](_0x47236f[_0xdaf0('0x69')],'CmL')){var _0x537b7c=fn[_0xdaf0('0xc')](_0x1cd368,_0x50e71c);_0x31b661=null;return _0x3fb618;}else{return _0x3803d6(null,{'data':_0xdaf0('0x6a')});}}}}else{log[_0xdaf0('0xe')](_0x7f881b);return _0x47236f[_0xdaf0('0x6b')](_0x5741c4,_0xd9db95);}});continue;case'3':if(_0x466bad['jBxTu'](_0x17012a,null)){_0x17012a=0x0;}continue;case'4':_0x1d4511=_0x1d4511['toString']();continue;case'5':var _0x5292ab=app['models']['Usage'];continue;case'6':if(!_0x500486){return _0x466bad[_0xdaf0('0x6c')](_0x3803d6,'Business\x20Id\x20not\x20defined');}continue;}break;}};_0x2646f3[_0xdaf0('0x6d')](_0x1ebc77['LJbWH'],{'description':_0x1ebc77[_0xdaf0('0x6e')],'accepts':[{'arg':_0x1ebc77['bVaBy'],'type':_0x1ebc77[_0xdaf0('0x6f')],'required':!![]},{'arg':_0xdaf0('0x46'),'type':_0x1ebc77['CCpes'],'required':!![]},{'arg':_0xdaf0('0x70'),'type':_0x1ebc77[_0xdaf0('0x6f')],'required':![]},{'arg':_0x1ebc77[_0xdaf0('0x71')],'type':_0x1ebc77[_0xdaf0('0x6f')],'required':![]}],'returns':{'arg':'result','type':_0x1ebc77[_0xdaf0('0x72')]}});_0x2646f3['getOnlineSessionCount']=function(_0x5ec95f,_0x52d785){var _0x511b39={'cdfii':function _0x11efa5(_0x31cd93,_0x2bafa6){return _0x1ebc77[_0xdaf0('0x73')](_0x31cd93,_0x2bafa6);},'VikoI':function _0x57618b(_0x1ef011,_0x5c0ac7,_0x1a99ca){return _0x1ebc77['ITETJ'](_0x1ef011,_0x5c0ac7,_0x1a99ca);}};if(!_0x5ec95f){if(_0x1ebc77[_0xdaf0('0x74')](_0x1ebc77[_0xdaf0('0x75')],_0xdaf0('0x76'))){_0x249efd=0xa;}else{return _0x1ebc77[_0xdaf0('0x73')](_0x52d785,_0x1ebc77[_0xdaf0('0x77')]);}}log['debug'](_0x1ebc77[_0xdaf0('0x78')],_0x5ec95f);_0x2646f3[_0xdaf0('0x13')]({'where':{'businessId':_0x5ec95f}},function(_0x403b25,_0x806520){if(_0x403b25){log[_0xdaf0('0xe')](_0x403b25);return _0x511b39['cdfii'](_0x52d785,_0x403b25);}log[_0xdaf0('0x11')](_0x806520['length']);return _0x511b39[_0xdaf0('0x79')](_0x52d785,null,{'count':_0x806520[_0xdaf0('0x15')]});});};_0x2646f3[_0xdaf0('0x6d')](_0x1ebc77[_0xdaf0('0x7a')],{'description':_0x1ebc77[_0xdaf0('0x7b')],'accepts':[{'arg':_0x1ebc77[_0xdaf0('0x7c')],'type':_0x1ebc77[_0xdaf0('0x7d')],'required':!![]}],'returns':{'root':!![]}});_0x2646f3[_0xdaf0('0x47')]=function(_0x3d2523,_0x2c29e5,_0x1ae30e){var _0x2c5311={'eXUQT':'1|0|3|4|5|2','InJxh':_0xdaf0('0x7e'),'oJzfD':function _0x3e7d6d(_0x5629b3,_0x17d2ce){return _0x5629b3===_0x17d2ce;},'ZPUVD':_0xdaf0('0x7f'),'tvKms':_0xdaf0('0x80'),'OzkVE':function _0x1aa5be(_0x2fe5d5,_0x3e13a5){return _0x2fe5d5(_0x3e13a5);}};var _0x5e8397=_0x2c5311[_0xdaf0('0x81')][_0xdaf0('0x2d')]('|'),_0x157611=0x0;while(!![]){switch(_0x5e8397[_0x157611++]){case'0':var _0x193ffe=_0x2c29e5[_0xdaf0('0x82')];continue;case'1':log[_0xdaf0('0x11')](_0x2c5311[_0xdaf0('0x83')],_0x3d2523);continue;case'2':_0x2646f3['findOne']({'where':{'and':[{'memberId':_0x52e9ae},{'businessId':_0x193ffe},{'id':_0x5140bc}]}},function(_0x218dd8,_0x13572b){if(_0x218dd8){if(_0x1ebc77['BHHhL']!==_0x1ebc77[_0xdaf0('0x84')]){var _0x23e278=_0xc8feba?function(){if(_0x1f15c8){var _0x5c2381=fn[_0xdaf0('0xc')](_0x2160b7,_0x10dc98);_0x3efa9c=null;return _0x335f23;}}:function(){};_0x3bd801=![];return _0x462bd0;}else{return _0x1ebc77['PZFLY'](_0x1ae30e,_0x218dd8);}}if(!_0x13572b){return _0x1ebc77['PZFLY'](_0x1ae30e,new Error('session\x20not\x20found'));}radiusPod['sendPod'](_0x13572b);return _0x1ebc77[_0xdaf0('0x85')](_0x1ae30e,null,{'ok':!![],'killedSession':_0x13572b});});continue;case'3':if(!_0x3d2523[_0xdaf0('0x86')]){if(_0x2c5311[_0xdaf0('0x87')](_0x2c5311[_0xdaf0('0x88')],_0x2c5311[_0xdaf0('0x88')])){return _0x1ae30e(_0x2c5311[_0xdaf0('0x89')]);}else{log[_0xdaf0('0xe')](_0x92185d);return _0x2c5311['OzkVE'](_0x1d681c,_0x1adef3);}}continue;case'4':var _0x52e9ae=_0x3d2523['memberId'];continue;case'5':var _0x5140bc=_0x3d2523['id'];continue;}break;}};_0x2646f3['remoteMethod'](_0x1ebc77[_0xdaf0('0x8a')],{'description':_0xdaf0('0x8b'),'accepts':[{'arg':_0x1ebc77['CzOkd'],'type':_0x1ebc77[_0xdaf0('0x8c')],'required':!![]},{'arg':_0xdaf0('0x8d'),'type':_0x1ebc77['nnWdZ'],'http':_0x1ebc77[_0xdaf0('0x8e')]}],'returns':{'root':!![]}});};