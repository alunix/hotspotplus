var _0x42ac=['WkFGYVA=','ZExwVkY=','dFpKZnA=','bXRpV2o=','YnhtWUI=','YWxs','Y291bnQ=','b1ZiQmE=','bEtaQnM=','Y291bnRTZXNzaW9ucw==','S1hPVU4=','UHpBRlg=','ZFRFbUw=','YkZQYXk=','ZkJ3Rkg=','dVVsSVY=','R3ZoU1A=','TGZXamM=','VkdCRnk=','WHRZQkc=','TlZEYXc=','QVNtZXE=','TE5DVXY=','bndBYWM=','REZKdmc=','V2ZhS0Q=','RU5KZ00=','Z0dD','d0hObkU=','aGZi','Mnw2fDB8MXw1fDR8Mw==','eWpU','RmFpbGVkIHRvIGFkZCBzZXNzaW9uIHRvIGthZmthOiA=','MXw1fDJ8NHwzfDB8Ng==','TUpj','QGtpbGxPbmxpbmVTZXNzaW9uIDog','bWVtYmVySWQgaXMgbm90IGRlZmluZWQ=','WVhNdnQ=','ZGVidWc=','bWVtYmVySWQ=','b1hWWEc=','dmh1anc=','c2Vzc2lvbklk','c2VuZFBvZA==','bmZ4c0U=','Q0RzY1I=','cFZMb2o=','UWhPS0M=','TnZ4SUE=','bEJpVlg=','WXFPVnI=','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','blhKWUU=','ZGpk','dmdpRkU=','bkZ0Z0M=','c3BsaXQ=','Y29uc29sZQ==','aW5mbw==','bG9n','dHJhY2U=','d2Fybg==','S0dKc1E=','RlVm','M3wxfDJ8Nnw3fDR8NXwwfDg=','cmlRU1M=','ZXJyb3I=','cXhtUkk=','TXRNVFM=','UFFFa2U=','YXBwbHk=','ZXhjZXB0aW9u','Li4vLi4vc2VydmVyL21vZHVsZXMvbG9nZ2Vy','Li4vLi4vc2VydmVyL3NlcnZlcg==','Y3JlYXRlTG9nZ2Vy','Li4vLi4vc2VydmVyL21vZHVsZXMvcmFkaXVzRGlzY29ubmVjdFNlcnZpY2U=','a2Fma2Etbm9kZQ==','Li4vLi4vc2VydmVyL21vZHVsZXMvZGIuZmFjdG9yeQ==','bW9tZW50','dW5kZXJzY29yZQ==','S2Fma2FDbGllbnQ=','ZW52','UHJvZHVjZXI=','cmVhZHk=','UHJvZHVjZXIgcmVhZHkuLi4=','YXF2U1I=','cmVmcmVzaE1ldGFkYXRh','U0VTU0lPTl9UT1BJQw==','QHJlZnJlc2hNZXRhZGF0YSBFcnJvcjo=','UHJvZHVjZXIgcHJlcGFyYXRpb24gZmFpbGVkOg==','c3dj','ZnJhbWVkSXBBZGRyZXNz','dGltZXN0YW1w','dXNlcm5hbWU=','bWFj','dXBsb2Fk','c2Vzc2lvblRpbWU=','YUNy','c2Vzc2lvbiBhZGRlZDo=','bUVR','a3d3','eEtX','S3JR','UXR4','RWlN','QGdldE9ubGluZVNlc3Npb25Db3VudCA6IA==','dlpw','RklU','ZkdP','UWV1','dVhz','TXR4','Z2V0T25saW5lVXNlcnM=','R2V0IE9ubGluZSBVc2VycyBSZXBvcnQu','c3RhcnREYXRl','bnVtYmVy','YnVzaW5lc3NJZA==','c3RyaW5n','T2JqZWN0','Z2V0T25saW5lU2Vzc2lvbkNvdW50','R2V0IE9ubGluZSBTZXNzaW9ucyBDb3VudC4=','ZW5kRGF0ZQ==','a2lsbE9ubGluZVNlc3Npb24=','S2lsbCBPbmxpbmUgU2Vzc2lvbg==','b2JqZWN0','b3B0aW9ucw==','U2dHdkE=','bGFzbGU=','c2V0U2Vzc2lvbg==','RFFNUFk=','RGFod0I=','cFBvSUM=','RkVvT3M=','bmFzSWQ=','ZGVwYXJ0bWVudElk','bmFzSXA=','Z2V0TmFzSXA=','Z2V0QXR0cmlidXRl','Q0thQ2k=','Y3JlYXRpb25EYXRl','dXRj','WFZ4THU=','dW5peA==','REdxSHA=','YWNjU3RhdHVzVHlwZQ==','bkN4ZHE=','R29ERlI=','SmhRUHA=','ZG93bmxvYWQ=','aXNVbmRlZmluZWQ=','Z3JvdXBJZGVudGl0eUlk','bW9kZWxz','Y2FsY3VsYXRlVXNhZ2U=','c2VuZFRvQnJva2Vy','R2RaUHo=','Z2l2a04=','cHJvbWlzZQ==','YVdwYVg=','cml4','cXpBdkQ=','QVN2ckE=','ZXFDeHg=','clplZ3A=','VWNLTmI=','c2VuZA==','c3RyaW5naWZ5','U0ZPSkc=','clNVSlY=','Z2V0U2Vzc2lvbklk','ZGVwYXJ0bWVudA==','QUVHZm8=','a1VCS00=','TEVWYm8=','ZEJTSkk=','VXNhZ2U=','Y2FjaGVVc2FnZQ==','T2Rvb08=','V1ZsT2Q=','cmFHTEk=','YmhJZ1I=','Y05VRWY=','ckRhdUY=','dVpqYVg=','Rm1Ebkc=','VkR5U2I=','YW9Fd2Q=','b3dGUXU=','Y0VoQ2s=','R1l3WHY=','QVRjZ0I=','VHByZEo=','Wll2SWw=','cmVtb3Zl','YWRk','Y0l2Qk4=','Z2V0QWN0aXZlU2Vzc2lvbklkcw==','WVNLa2w=','Z2V0U2Vzc2lvblVzYWdl','Z2V0TWVtYmVyU2Vzc2lvbnM=','cmVtb3RlTWV0aG9k','eU9XZVc=','SVhIeWs=','bnBDTGc=','dHBUVnE=','R1RtVVo=','R0FFd2E=','c2tpcA==','bGltaXQ=','eVpGQ2w='];(function(_0x50d84b,_0x1d7ea7){var _0x6d4270=function(_0x883f21){while(--_0x883f21){_0x50d84b['push'](_0x50d84b['shift']());}};var _0x321a54=function(){var _0x4f05e6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x486ba3,_0x505988,_0xd3da82,_0x4599f6){_0x4599f6=_0x4599f6||{};var _0x592623=_0x505988+'='+_0xd3da82;var _0x1f141a=0x0;for(var _0x1f141a=0x0,_0x4160fb=_0x486ba3['length'];_0x1f141a<_0x4160fb;_0x1f141a++){var _0x2e6efe=_0x486ba3[_0x1f141a];_0x592623+=';\x20'+_0x2e6efe;var _0x1d60fc=_0x486ba3[_0x2e6efe];_0x486ba3['push'](_0x1d60fc);_0x4160fb=_0x486ba3['length'];if(_0x1d60fc!==!![]){_0x592623+='='+_0x1d60fc;}}_0x4599f6['cookie']=_0x592623;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5a0671,_0x230259){_0x5a0671=_0x5a0671||function(_0x3c7b8b){return _0x3c7b8b;};var _0x585b8b=_0x5a0671(new RegExp('(?:^|;\x20)'+_0x230259['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x45b134=function(_0x557618,_0x23a021){_0x557618(++_0x23a021);};_0x45b134(_0x6d4270,_0x1d7ea7);return _0x585b8b?decodeURIComponent(_0x585b8b[0x1]):undefined;}};var _0x1ffb16=function(){var _0x17a9a3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x17a9a3['test'](_0x4f05e6['removeCookie']['toString']());};_0x4f05e6['updateCookie']=_0x1ffb16;var _0x1dd0fa='';var _0x3aef30=_0x4f05e6['updateCookie']();if(!_0x3aef30){_0x4f05e6['setCookie'](['*'],'counter',0x1);}else if(_0x3aef30){_0x1dd0fa=_0x4f05e6['getCookie'](null,'counter');}else{_0x4f05e6['removeCookie']();}};_0x321a54();}(_0x42ac,0x1bd));var _0xc42a=function(_0x51dc3a,_0x443013){_0x51dc3a=_0x51dc3a-0x0;var _0x4c4bbf=_0x42ac[_0x51dc3a];if(_0xc42a['initialized']===undefined){(function(){var _0x496b9f;try{var _0x172be7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x496b9f=_0x172be7();}catch(_0x8a4ae3){_0x496b9f=window;}var _0x7f8a7e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x496b9f['atob']||(_0x496b9f['atob']=function(_0xf2ed50){var _0x544114=String(_0xf2ed50)['replace'](/=+$/,'');for(var _0x56a61b=0x0,_0x19ff60,_0x56b406,_0x50f937=0x0,_0x2a8e16='';_0x56b406=_0x544114['charAt'](_0x50f937++);~_0x56b406&&(_0x19ff60=_0x56a61b%0x4?_0x19ff60*0x40+_0x56b406:_0x56b406,_0x56a61b++%0x4)?_0x2a8e16+=String['fromCharCode'](0xff&_0x19ff60>>(-0x2*_0x56a61b&0x6)):0x0){_0x56b406=_0x7f8a7e['indexOf'](_0x56b406);}return _0x2a8e16;});}());_0xc42a['base64DecodeUnicode']=function(_0x1f864e){var _0x571188=atob(_0x1f864e);var _0x3d0d10=[];for(var _0x52fd8c=0x0,_0x25f4e3=_0x571188['length'];_0x52fd8c<_0x25f4e3;_0x52fd8c++){_0x3d0d10+='%'+('00'+_0x571188['charCodeAt'](_0x52fd8c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3d0d10);};_0xc42a['data']={};_0xc42a['initialized']=!![];}var _0xbfc3ce=_0xc42a['data'][_0x51dc3a];if(_0xbfc3ce===undefined){var _0x240d46=function(_0x1ff92d){this['rc4Bytes']=_0x1ff92d;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x240d46['prototype']['checkState']=function(){var _0x2e6bdd=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x2e6bdd['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x240d46['prototype']['runState']=function(_0x412f00){if(!Boolean(~_0x412f00)){return _0x412f00;}return this['getState'](this['rc4Bytes']);};_0x240d46['prototype']['getState']=function(_0x216278){for(var _0xc4b6a3=0x0,_0x152107=this['states']['length'];_0xc4b6a3<_0x152107;_0xc4b6a3++){this['states']['push'](Math['round'](Math['random']()));_0x152107=this['states']['length'];}return _0x216278(this['states'][0x0]);};new _0x240d46(_0xc42a)['checkState']();_0x4c4bbf=_0xc42a['base64DecodeUnicode'](_0x4c4bbf);_0xc42a['data'][_0x51dc3a]=_0x4c4bbf;}else{_0x4c4bbf=_0xbfc3ce;}return _0x4c4bbf;};var _0x42cc77=function(){var _0x5d6456=!![];return function(_0x58ecc7,_0x4d66c1){var _0x4335e3=_0x5d6456?function(){if(_0x4d66c1){var _0x3915b6=_0x4d66c1['apply'](_0x58ecc7,arguments);_0x4d66c1=null;return _0x3915b6;}}:function(){};_0x5d6456=![];return _0x4335e3;};}();var _0x340c7e=_0x42cc77(this,function(){var _0x31616e=function(){return'\x64\x65\x76';},_0x31c2d0=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1c180c=function(){var _0x3938cd=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3938cd['\x74\x65\x73\x74'](_0x31616e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xcc7d48=function(){var _0x32a22d=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x32a22d['\x74\x65\x73\x74'](_0x31c2d0['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xc3d87c=function(_0x42cfcd){var _0x14d00e=~-0x1>>0x1+0xff%0x0;if(_0x42cfcd['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x14d00e)){_0x42b254(_0x42cfcd);}};var _0x42b254=function(_0x451d28){var _0x23008c=~-0x4>>0x1+0xff%0x0;if(_0x451d28['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x23008c){_0xc3d87c(_0x451d28);}};if(!_0x1c180c()){if(!_0xcc7d48()){_0xc3d87c('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0xc3d87c('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0xc3d87c('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x340c7e();var _0x528bdc=function(){var _0x1100de=!![];return function(_0x2392fc,_0x60fd1a){var _0x4ec547=_0x1100de?function(){var _0x594f59={'wHNnE':_0xc42a('0x0')};if('QIv'!==_0x594f59[_0xc42a('0x1')]){if(_0x60fd1a){var _0x4c173a=_0x60fd1a['apply'](_0x2392fc,arguments);_0x60fd1a=null;return _0x4c173a;}}else{}}:function(){};_0x1100de=![];return _0x4ec547;};}();var _0x159126=_0x528bdc(this,function(){var _0x1a8e3d={'nfxsE':_0xc42a('0x2'),'CDscR':'ZpV','pVLoj':function _0x256008(_0x5c9984,_0x273acf){return _0x5c9984+_0x273acf;},'QhOKC':'return\x20(function()\x20','NvxIA':function _0x4cbbf7(_0x1fb67f){return _0x1fb67f();},'lBiVX':function _0x66ac24(_0x2be7f3,_0x1469d3){return _0x2be7f3(_0x1469d3);},'YqOVr':function _0x377e00(_0x460377,_0x1b1b6c){return _0x460377+_0x1b1b6c;},'nXJYE':function _0x3ff270(_0x276d05,_0x147b71){return _0x276d05!==_0x147b71;},'vgiFE':'djd','nFtgC':_0xc42a('0x3'),'KGJsQ':function _0x75911c(_0x109514,_0x2ec26e){return _0x109514===_0x2ec26e;},'KwGwM':'nVZ','riQSS':_0xc42a('0x4'),'qxmRI':_0xc42a('0x5'),'mVbxH':_0xc42a('0x6')};var _0x32a30f=function(){var _0x17e1a9={'jHtuO':'Vgq','YXMvt':_0xc42a('0x7'),'FpYqk':_0xc42a('0x8'),'oXVXG':function _0xbbb9a4(_0x10edd4,_0x717167){return _0x10edd4(_0x717167);},'vhujw':_0xc42a('0x9')};if(_0x17e1a9['jHtuO']!==_0x17e1a9[_0xc42a('0xa')]){}else{log[_0xc42a('0xb')](_0x17e1a9['FpYqk'],_0x572e35);if(!session[_0xc42a('0xc')]){return _0x17e1a9[_0xc42a('0xd')](_0x4f8c9e,_0x17e1a9[_0xc42a('0xe')]);}var _0x3554f0=session[_0xc42a('0xf')];const _0x366ed8=await db['getSessionsById'](_0x2a27d0);radiusPod[_0xc42a('0x10')](_0xba53e3);return{'_0x28c845':!![],'_0x1816f2':_0x580aed};}};var _0x1cbf72;try{if(_0x1a8e3d[_0xc42a('0x11')]===_0x1a8e3d[_0xc42a('0x12')]){var _0x1d823c=_0xb02200(_0x1a8e3d[_0xc42a('0x13')](_0x1a8e3d[_0xc42a('0x14')]+'{}.constructor(\x22return\x20this\x22)(\x20)',');'));_0x2f1bbd=_0x1a8e3d[_0xc42a('0x15')](_0x397eab);}else{var _0xbfa59a=_0x1a8e3d[_0xc42a('0x16')](Function,_0x1a8e3d[_0xc42a('0x13')](_0x1a8e3d[_0xc42a('0x17')](_0x1a8e3d[_0xc42a('0x14')],_0xc42a('0x18')),');'));_0x1cbf72=_0x1a8e3d['NvxIA'](_0xbfa59a);}}catch(_0x5c66ef){if(_0x1a8e3d[_0xc42a('0x19')](_0xc42a('0x1a'),_0x1a8e3d[_0xc42a('0x1b')])){var _0x4f09ca=_0x1a8e3d[_0xc42a('0x1c')][_0xc42a('0x1d')]('|'),_0x5c1a02=0x0;while(!![]){switch(_0x4f09ca[_0x5c1a02++]){case'0':_0x1cbf72['console'][_0xc42a('0xb')]=_0x59e01c;continue;case'1':_0x1cbf72[_0xc42a('0x1e')][_0xc42a('0x1f')]=_0x33a6ec;continue;case'2':_0x1cbf72[_0xc42a('0x1e')][_0xc42a('0x20')]=_0x1f8fa0;continue;case'3':_0x1cbf72[_0xc42a('0x1e')][_0xc42a('0x21')]=_0x22afbd;continue;case'4':_0x1cbf72[_0xc42a('0x1e')]['exception']=_0xa5f92c;continue;case'5':_0x1cbf72[_0xc42a('0x1e')]['error']=_0x1d988d;continue;case'6':_0x1cbf72[_0xc42a('0x1e')][_0xc42a('0x22')]=_0x189515;continue;}break;}}else{_0x1cbf72=window;}}if(!_0x1cbf72['console']){var _0xb87d69={'SsziF':function _0x160b65(_0x184e77,_0x363267){return _0x1a8e3d[_0xc42a('0x23')](_0x184e77,_0x363267);},'MtMTS':_0x1a8e3d['KwGwM'],'PQEke':_0xc42a('0x24'),'uWWTj':_0xc42a('0x25')};if(_0x1a8e3d[_0xc42a('0x19')]('yjT',_0x1a8e3d[_0xc42a('0x26')])){log[_0xc42a('0x27')](_0x1a8e3d[_0xc42a('0x28')],_0x192842);return _0x4cbc06(_0x2e3d92);}else{_0x1cbf72[_0xc42a('0x1e')]=function(_0x32a324){if(_0xb87d69['SsziF'](_0xb87d69[_0xc42a('0x29')],_0xb87d69[_0xc42a('0x2a')])){var _0x264ded=_0x23bb6c?function(){if(_0xd664){var _0x4dea6d=fn[_0xc42a('0x2b')](_0x2b3c1b,_0x593538);_0x50cc8e=null;return _0x2f0421;}}:function(){};_0x360996=![];return _0x5a6750;}else{var _0x1d158e=_0xb87d69['uWWTj'][_0xc42a('0x1d')]('|'),_0x56e466=0x0;while(!![]){switch(_0x1d158e[_0x56e466++]){case'0':_0x4ed138['trace']=_0x32a324;continue;case'1':_0x4ed138[_0xc42a('0x20')]=_0x32a324;continue;case'2':_0x4ed138[_0xc42a('0x22')]=_0x32a324;continue;case'3':var _0x4ed138={};continue;case'4':_0x4ed138[_0xc42a('0x27')]=_0x32a324;continue;case'5':_0x4ed138[_0xc42a('0x2c')]=_0x32a324;continue;case'6':_0x4ed138[_0xc42a('0xb')]=_0x32a324;continue;case'7':_0x4ed138['info']=_0x32a324;continue;case'8':return _0x4ed138;continue;}break;}}}(_0x32a30f);}}else{var _0x5275c5=_0x1a8e3d['mVbxH']['split']('|'),_0xdf9270=0x0;while(!![]){switch(_0x5275c5[_0xdf9270++]){case'0':_0x1cbf72[_0xc42a('0x1e')][_0xc42a('0x2c')]=_0x32a30f;continue;case'1':_0x1cbf72[_0xc42a('0x1e')]['log']=_0x32a30f;continue;case'2':_0x1cbf72['console'][_0xc42a('0xb')]=_0x32a30f;continue;case'3':_0x1cbf72['console']['error']=_0x32a30f;continue;case'4':_0x1cbf72['console'][_0xc42a('0x1f')]=_0x32a30f;continue;case'5':_0x1cbf72['console'][_0xc42a('0x22')]=_0x32a30f;continue;case'6':_0x1cbf72['console'][_0xc42a('0x21')]=_0x32a30f;continue;}break;}}});_0x159126();'use strict';var logger=require(_0xc42a('0x2d'));var app=require(_0xc42a('0x2e'));var log=logger[_0xc42a('0x2f')]();var Q=require('q');var radiusPod=require(_0xc42a('0x30'));var kafka=require(_0xc42a('0x31'));var config=require('../../server/modules/config');const db=require(_0xc42a('0x32'));const moment=require(_0xc42a('0x33'));var _=require(_0xc42a('0x34'));const kafkaClient=new kafka[(_0xc42a('0x35'))]({'kafkaHost':process[_0xc42a('0x36')]['KAFKA_IP']+':'+process[_0xc42a('0x36')]['KAFKA_PORT']});const kafkaProducer=new kafka[(_0xc42a('0x37'))](kafkaClient,{'partitionerType':0x2});kafkaProducer['on'](_0xc42a('0x38'),function(){var _0x4c8ca3={'aqvSR':_0xc42a('0x39')};log[_0xc42a('0x22')](_0x4c8ca3[_0xc42a('0x3a')]);kafkaClient[_0xc42a('0x3b')]([config[_0xc42a('0x3c')]],function(_0x40bd0d){log[_0xc42a('0xb')](_0xc42a('0x3d'),_0x40bd0d);});});kafkaProducer['on'](_0xc42a('0x27'),function(_0x3dc199){log['error'](_0xc42a('0x3e'),_0x3dc199);});module['exports']=function(_0x3eacb5){var _0x5803e5={'DQMPY':function _0x5d383f(_0x4d33b5,_0x840fdc){return _0x4d33b5===_0x840fdc;},'DahwB':_0xc42a('0x3f'),'pPoIC':'rlZ','FEoOs':_0xc42a('0x3e'),'CKaCi':_0xc42a('0x40'),'XVxLu':_0xc42a('0x41'),'DGqHp':_0xc42a('0x42'),'nCxdq':'acctStatusType','GoDFR':_0xc42a('0xf'),'JhQPp':_0xc42a('0x43'),'givkN':_0xc42a('0x44'),'HGmAm':_0xc42a('0x45'),'aVBxX':function _0x2dc066(_0x2816d9,_0x5d6bf9){return _0x2816d9!==_0x5d6bf9;},'CaSSA':_0xc42a('0x46'),'GdZPz':'Failed\x20to\x20add\x20session\x20to\x20kafka:\x20','bhIgR':_0xc42a('0x47'),'raGLI':function _0x4225dd(_0x106f49,_0x2f64be){return _0x106f49(_0x2f64be);},'mDhgS':function _0x48b199(_0x3dc876){return _0x3dc876();},'cNUEf':function _0x21389b(_0xd4755a,_0x1f9dc0){return _0xd4755a!==_0x1f9dc0;},'rDauF':_0xc42a('0x48'),'uZjaX':function _0x563096(_0x5224a2,_0x30f693){return _0x5224a2==_0x30f693;},'FmDnG':'DvF','VDySb':_0xc42a('0x49'),'TprdJ':function _0x3a4ae8(_0x43b81b,_0x3e9468){return _0x43b81b==_0x3e9468;},'ZYvIl':_0xc42a('0x4a'),'cIvBN':'all','YSKkl':_0xc42a('0x4b'),'TJRFb':_0xc42a('0x4c'),'NVDaw':_0xc42a('0x9'),'XtYBG':function _0x2d3f23(_0x257a9a,_0x3d91b1){return _0x257a9a(_0x3d91b1);},'uUlIV':function _0x12e45c(_0x2293e5){return _0x2293e5();},'lasle':_0xc42a('0x3d'),'ZAFaP':function _0x5a3237(_0x3befb,_0x513450){return _0x3befb===_0x513450;},'dLpVF':_0xc42a('0x4d'),'bxmYB':_0xc42a('0x4e'),'lnULH':function _0x35e09f(_0xc24aaf,_0xa20cde){return _0xc24aaf!==_0xa20cde;},'tZJfp':_0xc42a('0x4f'),'mtiWj':_0xc42a('0x50'),'oVbBa':function _0x5827e8(_0x1400bc,_0x1809a5){return _0x1400bc===_0x1809a5;},'szEDF':function _0x38c24a(_0x22eed8,_0x378315){return _0x22eed8===_0x378315;},'lKZBs':_0xc42a('0x51'),'KXOUN':_0xc42a('0x39'),'XFieK':function _0x46b5fb(_0x299558,_0x18bf25){return _0x299558!==_0x18bf25;},'dTEmL':_0xc42a('0x52'),'bFPay':_0xc42a('0x53'),'fBwFH':'failed\x20to\x20get\x20online\x20session\x20count','VGBFy':_0xc42a('0x8'),'SgGvA':_0xc42a('0x54'),'eVXtF':'LDX','yOWeW':_0xc42a('0x55'),'IXHyk':_0xc42a('0x56'),'npCLg':_0xc42a('0x57'),'tpTVq':_0xc42a('0x58'),'GTmUZ':_0xc42a('0x59'),'LfWjc':_0xc42a('0x5a'),'GAEwa':'departmentId','yZFCl':'result','TUUTA':_0xc42a('0x5b'),'GvhSP':_0xc42a('0x5c'),'XaVhj':_0xc42a('0x5d'),'OKBUC':_0xc42a('0x5e'),'ASmeq':_0xc42a('0x5f'),'LNCUv':_0xc42a('0x60'),'nwAac':'session','WfaKD':_0xc42a('0x61'),'DFJvg':_0xc42a('0x62'),'ENJgM':'optionsFromRequest'};if(_0x5803e5['szEDF'](_0x5803e5[_0xc42a('0x63')],_0x5803e5['eVXtF'])){log[_0xc42a('0xb')](_0x5803e5[_0xc42a('0x64')],_0x1a2d88);}else{_0x3eacb5[_0xc42a('0x65')]=async _0x1d98fa=>{if(_0x5803e5[_0xc42a('0x66')](_0x5803e5[_0xc42a('0x67')],_0x5803e5[_0xc42a('0x68')])){log[_0xc42a('0x27')](_0x5803e5[_0xc42a('0x69')],_0x417e49);}else{const {RadiusAccountingMessage,member,nas}=_0x1d98fa;const _0x8dba0a=RadiusAccountingMessage['getSessionId']();let _0x320bd9={};_0x320bd9[_0xc42a('0xf')]=_0x8dba0a;_0x320bd9[_0xc42a('0xc')]=member['id'];_0x320bd9[_0xc42a('0x59')]=nas['businessId'];_0x320bd9[_0xc42a('0x6a')]=nas['id'];_0x320bd9[_0xc42a('0x6b')]=nas['department'];_0x320bd9[_0xc42a('0x6c')]=RadiusAccountingMessage[_0xc42a('0x6d')]();_0x320bd9[_0xc42a('0x40')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x5803e5[_0xc42a('0x6f')]);_0x320bd9[_0xc42a('0x70')]=moment[_0xc42a('0x71')](RadiusAccountingMessage['getAttribute'](_0x5803e5[_0xc42a('0x72')]))[_0xc42a('0x73')]();_0x320bd9[_0xc42a('0x42')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x5803e5[_0xc42a('0x74')]);_0x320bd9[_0xc42a('0x75')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x5803e5[_0xc42a('0x76')]);_0x320bd9[_0xc42a('0xf')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x5803e5[_0xc42a('0x77')]);_0x320bd9[_0xc42a('0x43')]=RadiusAccountingMessage['getAttribute'](_0x5803e5[_0xc42a('0x78')]);_0x320bd9[_0xc42a('0x79')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0xc42a('0x79'))||0x0;_0x320bd9[_0xc42a('0x44')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x5803e5['givkN'])||0x0;_0x320bd9[_0xc42a('0x45')]=!_[_0xc42a('0x7a')](RadiusAccountingMessage['getAttribute'](_0x5803e5['HGmAm']))?RadiusAccountingMessage[_0xc42a('0x6e')](_0x5803e5['HGmAm']):0x0;_0x320bd9['groupIdentityId']=member[_0xc42a('0x7b')];var _0x114626=app[_0xc42a('0x7c')]['Usage'];const _0x1bd26e=await _0x114626[_0xc42a('0x7d')](_0x8dba0a,{'download':_0x320bd9['download'],'upload':_0x320bd9[_0xc42a('0x44')],'sessionTime':_0x320bd9[_0xc42a('0x45')]});await _0x114626['cacheUsage'](_0x320bd9);_0x320bd9[_0xc42a('0x79')]=_0x1bd26e[_0xc42a('0x79')];_0x320bd9[_0xc42a('0x44')]=_0x1bd26e[_0xc42a('0x44')];_0x320bd9[_0xc42a('0x45')]=_0x1bd26e['sessionTime'];log['debug'](_0x320bd9);await _0x3eacb5[_0xc42a('0x7e')](_0x320bd9);}};_0x3eacb5['sendToBroker']=async _0x56e19f=>{var _0x5732f8={'aWpaX':function _0x175b0e(_0x2c3365,_0x180190){return _0x5803e5['aVBxX'](_0x2c3365,_0x180190);},'wUCzD':_0x5803e5['CaSSA'],'qzAvD':_0x5803e5[_0xc42a('0x7f')],'ASvrA':function _0x2df5ba(_0x240988,_0x5aa484){return _0x240988(_0x5aa484);},'pHRNq':_0x5803e5[_0xc42a('0x74')],'eqCxx':_0x5803e5[_0xc42a('0x76')],'GJaDA':_0x5803e5[_0xc42a('0x80')],'rZegp':'sessionTime','UcKNb':_0x5803e5['bhIgR']};return Q[_0xc42a('0x81')]((_0x3cf95f,_0x4cd676)=>{var _0x115b09={'zutdK':function _0x39503c(_0x2e2757,_0x236060){return _0x5732f8[_0xc42a('0x82')](_0x2e2757,_0x236060);},'Duxvq':_0xc42a('0x83'),'hqwaD':_0x5732f8['wUCzD'],'SFOJG':_0x5732f8[_0xc42a('0x84')],'rSUJV':function _0xb30333(_0x24ed97,_0x10b7cd){return _0x5732f8[_0xc42a('0x85')](_0x24ed97,_0x10b7cd);},'AEGfo':_0x5732f8['pHRNq'],'kUBKM':_0x5732f8[_0xc42a('0x86')],'LEVbo':_0xc42a('0xf'),'AbLiQ':_0x5732f8['GJaDA'],'dBSJI':_0x5732f8[_0xc42a('0x87')],'OdooO':_0x5732f8[_0xc42a('0x88')],'WVlOd':function _0x5454f1(_0xc84210){return _0xc84210();}};kafkaProducer[_0xc42a('0x89')]([{'topic':config[_0xc42a('0x3c')],'messages':JSON[_0xc42a('0x8a')](_0x56e19f)}],function(_0x48764f,_0x2e0c41){if(_0x48764f){if(_0x115b09['zutdK'](_0x115b09['Duxvq'],_0x115b09['hqwaD'])){log['error'](_0x115b09[_0xc42a('0x8b')],_0x48764f);return _0x115b09[_0xc42a('0x8c')](_0x4cd676,_0x48764f);}else{const {_0x31fcbc,_0xe7d516,_0x25f762}=_0x390ee4;const _0x3e9181=RadiusAccountingMessage[_0xc42a('0x8d')]();let _0x3e2596={};_0x56e19f[_0xc42a('0xf')]=_0x3d13af;_0x56e19f[_0xc42a('0xc')]=member['id'];_0x56e19f[_0xc42a('0x59')]=nas[_0xc42a('0x59')];_0x56e19f[_0xc42a('0x6a')]=nas['id'];_0x56e19f[_0xc42a('0x6b')]=nas[_0xc42a('0x8e')];_0x56e19f[_0xc42a('0x6c')]=RadiusAccountingMessage['getNasIp']();_0x56e19f[_0xc42a('0x40')]=RadiusAccountingMessage['getAttribute'](_0xc42a('0x40'));_0x56e19f['creationDate']=moment['utc'](RadiusAccountingMessage[_0xc42a('0x6e')](_0xc42a('0x41')))[_0xc42a('0x73')]();_0x56e19f[_0xc42a('0x42')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x115b09[_0xc42a('0x8f')]);_0x56e19f[_0xc42a('0x75')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x115b09[_0xc42a('0x90')]);_0x56e19f[_0xc42a('0xf')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x115b09[_0xc42a('0x91')]);_0x56e19f['mac']=RadiusAccountingMessage[_0xc42a('0x6e')](_0xc42a('0x43'));_0x56e19f['download']=RadiusAccountingMessage['getAttribute'](_0xc42a('0x79'))||0x0;_0x56e19f[_0xc42a('0x44')]=RadiusAccountingMessage[_0xc42a('0x6e')](_0x115b09['AbLiQ'])||0x0;_0x56e19f[_0xc42a('0x45')]=!_[_0xc42a('0x7a')](RadiusAccountingMessage[_0xc42a('0x6e')](_0x115b09['dBSJI']))?RadiusAccountingMessage[_0xc42a('0x6e')](_0x115b09[_0xc42a('0x92')]):0x0;_0x56e19f[_0xc42a('0x7b')]=member[_0xc42a('0x7b')];var _0x2c73c5=app[_0xc42a('0x7c')][_0xc42a('0x93')];const _0x2656cd=await Usage[_0xc42a('0x7d')](_0x119d24,{'_0x207737':_0x56e19f[_0xc42a('0x79')],'_0x2454a4':_0x56e19f['upload'],'_0x3e1298':_0x56e19f['sessionTime']});await Usage[_0xc42a('0x94')](_0x521856);_0x56e19f[_0xc42a('0x79')]=calculatedUsage[_0xc42a('0x79')];_0x56e19f[_0xc42a('0x44')]=calculatedUsage[_0xc42a('0x44')];_0x56e19f[_0xc42a('0x45')]=calculatedUsage[_0xc42a('0x45')];log['debug'](_0x52bb41);await _0x3eacb5[_0xc42a('0x7e')](_0x5c476a);}}log[_0xc42a('0xb')](_0x115b09[_0xc42a('0x95')],JSON['stringify'](_0x56e19f),_0x2e0c41);return _0x115b09[_0xc42a('0x96')](_0x3cf95f);});});};_0x3eacb5['getOnlineUsers']=async(_0x27125,_0x3996a,_0x1bfbf2,_0x26a42c,_0x5c6ee0,_0xc0f226,_0x517b53)=>{var _0x3a8193={'aoEwd':function _0x36ddf0(_0x4980ed,_0x412396){return _0x5803e5[_0xc42a('0x97')](_0x4980ed,_0x412396);},'WMZpg':_0x5803e5[_0xc42a('0x98')],'owFQu':function _0x241edd(_0x1ecd39){return _0x5803e5['mDhgS'](_0x1ecd39);}};if(_0x5803e5[_0xc42a('0x99')](_0x5803e5[_0xc42a('0x9a')],_0x5803e5[_0xc42a('0x9a')])){var _0x2c9746=fn[_0xc42a('0x2b')](_0x14e7fd,_0x2f498a);_0x2da761=null;return _0x3a81ec;}else{if(_0x5803e5[_0xc42a('0x9b')](_0x5c6ee0,null)){if(_0x5803e5[_0xc42a('0x9c')]===_0x5803e5[_0xc42a('0x9d')]){return Q[_0xc42a('0x81')]((_0xb66fb6,_0x3fea0d)=>{var _0x54810d={'cEhCk':function _0x4bd6b4(_0x50dc93,_0x22f626){return _0x3a8193[_0xc42a('0x9e')](_0x50dc93,_0x22f626);},'GYwXv':_0x3a8193['WMZpg'],'ATcgB':function _0x33a2bf(_0x27595e){return _0x3a8193[_0xc42a('0x9f')](_0x27595e);}};kafkaProducer[_0xc42a('0x89')]([{'_0x4afcbf':config[_0xc42a('0x3c')],'_0x317f7e':JSON[_0xc42a('0x8a')](_0x38799f)}],function(_0x8ac3e4,_0x52eba1){if(_0x31e398){log['error'](_0xc42a('0x5'),_0x3e283e);return _0x54810d[_0xc42a('0xa0')](_0x3df02d,_0x285a89);}log[_0xc42a('0xb')](_0x54810d[_0xc42a('0xa1')],JSON['stringify'](_0x3bbf7d),_0x3c9491);return _0x54810d[_0xc42a('0xa2')](_0x5ee2e1);});});}else{_0x5c6ee0=0x0;}}if(_0x5803e5[_0xc42a('0xa3')](_0xc0f226,null)){if(_0x5803e5['DQMPY'](_0xc42a('0x4a'),_0x5803e5[_0xc42a('0xa4')])){_0xc0f226=0xa;}else{_0x319773=0x0;}}_0x27125=_0x27125?_0x27125:new Date()[_0xc42a('0xa5')]({'minutes':0x2});_0x3996a=_0x3996a?_0x3996a:new Date()[_0xc42a('0xa6')]({'minutes':0x2});const _0x34593e=[];if(!_0x26a42c){return _0x34593e;}if(_0x26a42c===_0x5803e5[_0xc42a('0xa7')]){_0x26a42c=null;}const _0x45ce41=await db[_0xc42a('0xa8')](_0x1bfbf2,_0x26a42c,_0x27125,_0x3996a,_0x5c6ee0,_0xc0f226);for(const _0x4e9057 of _0x45ce41){if(_0x5803e5[_0xc42a('0x66')](_0x5803e5[_0xc42a('0xa9')],_0x5803e5['TJRFb'])){return _0x5803e5['raGLI'](_0x457d30,_0x5803e5['NVDaw']);}else{const _0x4b6b25=await db[_0xc42a('0xaa')](_0x4e9057[_0xc42a('0xf')]);_0x34593e['push'](_0x4b6b25);}}return _0x34593e;}};_0x3eacb5['getActiveMemberSessions']=async(_0x453755,_0x5c81b4,_0x2a4cba)=>{_0x5c81b4=_0x5c81b4?_0x5c81b4:new Date()[_0xc42a('0xa5')]({'minutes':0x2});_0x2a4cba=_0x2a4cba?_0x2a4cba:new Date()['add']({'minutes':0x2});return db[_0xc42a('0xab')](_0x453755,_0x5c81b4,_0x2a4cba);};_0x3eacb5[_0xc42a('0xac')](_0x5803e5[_0xc42a('0xad')],{'description':_0x5803e5[_0xc42a('0xae')],'accepts':[{'arg':_0x5803e5[_0xc42a('0xaf')],'type':_0x5803e5[_0xc42a('0xb0')]},{'arg':_0xc42a('0x5e'),'type':_0x5803e5[_0xc42a('0xb0')]},{'arg':_0x5803e5[_0xc42a('0xb1')],'type':_0x5803e5['LfWjc'],'required':!![]},{'arg':_0x5803e5[_0xc42a('0xb2')],'type':_0xc42a('0x5a')},{'arg':_0xc42a('0xb3'),'type':_0x5803e5[_0xc42a('0xb0')],'required':![]},{'arg':_0xc42a('0xb4'),'type':_0xc42a('0x58'),'required':![]}],'returns':{'arg':_0x5803e5[_0xc42a('0xb5')],'type':_0x5803e5['TUUTA']}});_0x3eacb5['getOnlineSessionCount']=async(_0x3da919,_0x1775da,_0x3eefc4,_0x2ba562)=>{var _0x1f7ae1={'PzAFX':_0x5803e5['lasle']};try{if(_0x5803e5[_0xc42a('0xb6')](_0xc42a('0x4d'),_0x5803e5[_0xc42a('0xb7')])){log[_0xc42a('0xb')](_0x5803e5['bxmYB'],_0x3da919);if(!_0x1775da){if(_0x5803e5['lnULH'](_0x5803e5[_0xc42a('0xb8')],_0x5803e5[_0xc42a('0xb9')])){return{'count':0x0};}else{log['debug'](_0x5803e5[_0xc42a('0xba')],_0x4b8bba);if(!_0x1ecc7e){return{'_0x19a6ba':0x0};}if(_0x30c5a7===_0xc42a('0xbb')){_0x573199=null;}_0x5e3686=_0x495a17?_0x4d6860:new _0x36f571()[_0xc42a('0xa5')]({'_0x50244a':0x2});_0x2d6a24=_0x51b232?_0x2f54f8:new _0x2ed6fd()[_0xc42a('0xa6')]({'_0x176d9b':0x2});const _0x52290e=await db['countSessions'](_0x1fb9d1,_0xc26f64,_0x53fe9a,_0x3de03e);return{'_0x7dc946':_0x2bdb24[_0xc42a('0xbc')]};}}if(_0x5803e5[_0xc42a('0xbd')](_0x1775da,_0x5803e5['cIvBN'])){if(_0x5803e5['szEDF'](_0x5803e5[_0xc42a('0xbe')],_0xc42a('0x51'))){_0x1775da=null;}else{}}_0x3eefc4=_0x3eefc4?_0x3eefc4:new Date()[_0xc42a('0xa5')]({'minutes':0x2});_0x2ba562=_0x2ba562?_0x2ba562:new Date()[_0xc42a('0xa6')]({'minutes':0x2});const _0x2bdb24=await db[_0xc42a('0xbf')](_0x3da919,_0x1775da,_0x3eefc4,_0x2ba562);return{'count':_0x2bdb24[_0xc42a('0xbc')]};}else{log[_0xc42a('0x22')](_0x5803e5[_0xc42a('0xc0')]);kafkaClient[_0xc42a('0x3b')]([config[_0xc42a('0x3c')]],function(_0x45ebe6){log['debug'](_0x1f7ae1[_0xc42a('0xc1')],_0x4c52a9);});}}catch(_0x494c74){if(_0x5803e5['XFieK'](_0x5803e5[_0xc42a('0xc2')],_0x5803e5[_0xc42a('0xc3')])){log[_0xc42a('0x27')](_0x494c74);throw new Error(_0x5803e5[_0xc42a('0xc4')]);}else{kafkaProducer[_0xc42a('0x89')]([{'_0x5431bc':config[_0xc42a('0x3c')],'_0x99b014':JSON['stringify'](_0x347151)}],function(_0x42f578,_0x4ad99c){if(_0x5eeb3c){log['error'](_0xc42a('0x5'),_0x4e7ced);return _0x5803e5['XtYBG'](_0x376d7c,_0x285034);}log[_0xc42a('0xb')](_0x5803e5['bhIgR'],JSON[_0xc42a('0x8a')](_0x4049b2),_0x1bd4cc);return _0x5803e5[_0xc42a('0xc5')](_0x55a711);});}}};_0x3eacb5[_0xc42a('0xac')](_0x5803e5[_0xc42a('0xc6')],{'description':_0x5803e5['XaVhj'],'accepts':[{'arg':_0x5803e5['GTmUZ'],'type':_0x5803e5[_0xc42a('0xc7')],'required':!![]},{'arg':_0x5803e5['GAEwa'],'type':_0x5803e5[_0xc42a('0xc7')]},{'arg':_0x5803e5[_0xc42a('0xaf')],'type':_0x5803e5['tpTVq']},{'arg':_0x5803e5['OKBUC'],'type':_0x5803e5[_0xc42a('0xb0')]}],'returns':{'root':!![]}});_0x3eacb5[_0xc42a('0x5f')]=async _0x45d3d6=>{log[_0xc42a('0xb')](_0x5803e5[_0xc42a('0xc8')],_0x45d3d6);if(!_0x45d3d6[_0xc42a('0xc')]){return _0x5803e5[_0xc42a('0xc9')](cb,_0x5803e5[_0xc42a('0xca')]);}var _0x58e36b=_0x45d3d6[_0xc42a('0xf')];const _0x3ae724=await db['getSessionsById'](_0x58e36b);radiusPod[_0xc42a('0x10')](_0x3ae724);return{'ok':!![],'killedSession':_0x3ae724};};_0x3eacb5['remoteMethod'](_0x5803e5[_0xc42a('0xcb')],{'description':_0x5803e5[_0xc42a('0xcc')],'accepts':[{'arg':_0x5803e5[_0xc42a('0xcd')],'type':_0x5803e5['WfaKD'],'required':!![]},{'arg':_0x5803e5[_0xc42a('0xce')],'type':_0x5803e5[_0xc42a('0xcf')],'http':_0x5803e5[_0xc42a('0xd0')]}],'returns':{'root':!![]}});}};